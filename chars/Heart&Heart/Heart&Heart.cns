;変数使用表
;　1 = 変身用変数（0ハート様　1はぁと）
;　2 = アルカナ判別
;　3 = 変身時間カウント用変数(カウント０以下、movetype!=Hでvar(1)を戻す)
;　4 = スロー処理
;　5 = ステート内の自由変数(主に強弱によるアニメーション等性能の変更)
;　6 = ステート内の自由変数２
;　7 = 
;　8 = カウンター
;　9 = 
; 10 = プレイヤーの向き設定
; 11 = 
; 12 = KOサウンド
; 13 = 
; 14 = 低空ダッシュキャンセル（ダッシュ系動作で変数リセット、任意の値でキャンセル時間変更可）
; 15 = ハイジャンプ（風のアルカナ搭載時に仕様再検討予定）
; 16 = 二段ジャンプ（同上）
; 17 = ダメージ補正に使用
; 18 = 攻撃値の保存
; 19 = 
; 20 = アルカナセレクト
; 21 = アルカナフォース
; 22 =  超必殺技暗転背景持続時間
; 23 = 
; 24 = ?
; 25 = KO関係
; 26 = ネバリ補正
; 27 = 
; 28 = 七星ゲージ
; 29 = テーレッテー
; 30 = AI判定(にしたいな…)

; 31 = アルカナ技の自由変数
; 32 = アルカナ技の自由変数２
; 33 = アルカナ技の自由変数３
; 34 = アルカナ技の自由変数４

; 35 = 
; 36 = 
; 37 = 
; 38 = 
; 38 = 

; 45 = ホーミング回数
; 46 = ホーミングゲージの長さ（各アルカナによる回復速度補正の為、再検討予定）
; 47 = ホーミングゲージ回復禁止
; 48 = 
; 49 = 
; 50 = 

; f(1) = 攻撃補正
; f(2) = アルカナ別攻撃力
; f(3) = アルカナ別防御力
; f(4) = 
; f(5) = 攻撃補正
; f(6) = アルカナフォース別攻撃力
; f(7) = アルカナフォース別防御力

; channel = 4	
; channel = 5	イントロ


[Data]
life = 1050
power = 9000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 15
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 40

[Size]
xscale = 0.5           ;Horizontal scaling factor.
yscale = 0.5           ;Vertical scaling factor.
ground.back = 30     ;Player width (back, ground)
ground.front = 25    ;Player width (front, ground)
air.back = 30        ;Player width (back, air)
air.front = 22       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -142   ;Approximate position of head
mid.pos = -5, -72    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.0      ;Walk forward
walk.back = -1.0     ;Walk backward
run.fwd  = 4.6, 0    ;Run forward (x, y)
run.back = -4.5,-3.8 ;Hop backward (x, y)
jump.neu = 0,-9.4    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-7.5      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 1      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .47         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; フロントステップ
[Statedef 100]
type    = S
physics = N
anim = 100 + var(1)*10000
sprpriority = 1
ctrl = 1

;---------------------[変数]
[State -2, a];
type = varset
trigger1 = time = 0
v = 14
value = 0


;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

;---------------------[速度]
[State 01]
type = VelSet
trigger1 = time = 0
x = 4

[State 01]
type = Veladd
trigger1 = var(1) = 1
x = 0.3

;---------------------[]
[State 02]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

;---------------------[]
[State 04]
type = ChangeState
trigger1 = time = 15
value = 101

; ダッシュ終了
[Statedef 101]
type    = S
physics = N
anim = 101 + var(1)*10000
sprpriority = 1
ctrl = 1

;---------------------[]
[State 01]
type = Velmul
trigger1 = 1
x = 0.8

;---------------------[]
[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

;---------------------[]
[State 04]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;バックステップ
[Statedef 105]
type    = A
physics = N
ctrl = 0
anim = 105 + var(1)*10000
velset = 0,0

;---------------------[変数]
[State -2, a];
type = varset
trigger1 = time = 0
v = 14
value = 0


;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 105, 0

;---------------------[]
[state a]
type = velset
trigger1 = time = 0
x = -3 - var(1)*2.5
y = -2 - var(1)*1.2

[state a]
type = veladd
trigger1 = 1
y = 0.38

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time <= 7
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106


; 着地
[Statedef 106]
type    = S
physics = N
ctrl = 0
anim = 106 + var(1)*10000
velset = 0,0

;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 47 + var(1)*10000, 0

;---------------------[]
[State 00]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 01]
type = PosSet
trigger1 = Time = 0
y = 0

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(1) = 0
id = 6000
name = "down"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[State 03]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 空中ダッシュ
[Statedef 110]
type    = A
physics = N
anim = 110 + var(1)*10000
sprpriority = 1
velset = 0,0
ctrl = 1

;---------------------[変数]
[State -2, a];
type = varset
trigger1 = time = 0
v = 14
value = 0


;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 110, 0


;---------------------[]
[State 01]
type = VelSet
trigger1 = time = 0
x = 3.5 + var(1)*1.5

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 6090
name = "hit"
pos = -20 , -50
postype = p1
stateno = 6090
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[State 04]
type = ChangeState
trigger1 = time = 15
value = 111


;---------------------------------------------------------------------------
; 空中バックダッシュ
[Statedef 115]
type    = A
physics = N
anim = 115 + var(1)*10000
sprpriority = 1
velset = 0,0
ctrl = 1

;---------------------[変数]
[State -2, a];
type = varset
trigger1 = time = 0
v = 14
value = 0


;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 110, 0

;---------------------[]
[State 01]
type = VelSet
trigger1 = time = 0
x = -3.0 - var(1)*1.5

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time <= 7
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 6091
name = "hit"
pos = 20 , -50
postype = p1
stateno = 6090
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[]
[State 04]
type = ChangeState
trigger1 = time = 15
value = 111

;---------------------------------------------------------------------------
; 空中ダッシュ終了
[Statedef 111]
type    = A
physics = A
anim = 111 + var(1)*10000
sprpriority = 1
ctrl = 1

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



;---------------------------------------------------------------------------
; 負け
[Statedef 170]
type = S
ctrl = 0
anim = 170 + var(1)*10000
velset = 0,0

;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 170, random % 3


[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]



;---------------------------------------------------------------------------
; ドロー
[Statedef 175]
type = S
ctrl = 0
anim = 175 + var(1)*10000
velset = 0,0

;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 175, 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win
[Statedef 180]
type = S

[State 01]
type = ChangeState
trigger1 = MatchOver = 1
value = 182 + var(1)*7824


[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181 + var(1)*7824

;---------------------------------------------------------------------------
; 勝利2
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0

;---------------------[音]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(29) = 1
value = 2300, 3

[State 00];
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(29) = 0
value = 181, random%6

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,340]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝利１
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

;---------------------[音]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(29) = 1
value = 2300, 3

[State 00];
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(29) = 0
value = 181, random%6

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,400]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 登場
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[state a];愛乃はぁと
type = Helper
trigger1 = time = 0
id = 8000
name = "aino"
sprpriority = 1
pos = -570,0
postype = p1
stateno = 10190
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1


;---------------------[]
[state a]
type = changeanim
trigger1 = time = 150
value = 191

;---------------------[音]
[State 00];
type = PlaySnd
trigger1 = anim = 191
trigger1 = animelem = 7
value = 190, 0

[State 00];
type = PlaySnd
trigger1 = anim = 191
trigger1 = animelem = 17
value = 190, 1

;---------------------[ヘルパー]
[state a];アルカナセレクト
type = Helper
trigger1 = numhelper(6400) = 0
trigger1 = var(2) = 0
id = 6400
name = "ar"
pos = 0,0
postype = p1
stateno = 6400
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = anim = 191
value = 0


;---------------------------------------------------------------------------
; 挑発
[Statedef 199]
type = S
ctrl = 0
anim = 199
velset = 0,0

;---------------------[]
[State 00];
type = posset
trigger1 = time = 0
y = 0

;---------------------[音]
[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 199, 0

;---------------------[]
[State 00];
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; いてえよ〜！！解除
[Statedef 10198]
type = S
ctrl = 0
anim = 10198
velset = 0,0

;---------------------[]
[State 00];
type = varset
trigger1 = time = 0
v = 1
value = 0

;---------------------[]
[State 00];
type = changestate
trigger1 = numhelper(2200) = 0
value = 10199

[state a]
type = posset
trigger1 = animelem = 8,>=0
x = helper(2200),pos x

;---------------------------------------------------------------------------
; いてえよ〜！！解除2
[Statedef 10199]
type = S
ctrl = 0
anim = 10199
velset = 0,0

;---------------------[音]
[State 00];
type = PlaySnd
trigger1 = time = 0
value = 10199, 0


;---------------------[]
[State 00];
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;通常攻撃
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 立ち弱攻撃
[Statedef 200]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 0+(Random%3)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
damage = 21, 0
getpower = 52,52
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 0
guard.sparkno = s-1
guardsound = s120, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 22
air.fall = 1
fall.recover = 1
fall.recovertime = 22
p2facing = 1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
trigger1 = animelem = 2,>=0 && animelem = 3,<0
id = 7000
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -81)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
trigger1 = animelem = 3,>=0 && animelem = 4,<0
id = 7000
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -120)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; ハー斗天帰頭
[Statedef 205]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = veladd
trigger1 = time = 0
x = 4

[state a]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 23, 0
getpower = 42,42
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 0
guard.sparkno = s-1
guardsound = s120, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 22
air.fall = 1
fall.recover = 1
fall.recovertime = 22

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7000
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -65)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -65)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 立ち中攻撃
[Statedef 210]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 210
poweradd = 0
sprpriority = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210, 0+(Random%2)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 310, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 42, 0
getpower = 77,77
animtype = mid
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 2
guard.sparkno = s-1
guardsound = s120, 1
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 25
air.fall = 1
fall.recover = 1
fall.recovertime = 25

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -33)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -33)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; ハー斗天帰頭
[Statedef 215]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 215
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 320, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 94, 0
getpower = 131,131
animtype = mid
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 15, 15
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,-8
guard.velocity = -8
air.velocity = 0,22
air.type = High
air.velocity = -1.0,-9
air.hittime = 24
fall = 1
fall.recover = 1
fall.recovertime = 20

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7031
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -85)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -85)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -85)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 立ち強攻撃・溜め
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 220
poweradd = 0

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varadd
trigger1 = time >= 40
v = 5
value = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 29 && command != "おしっぱなしz"
trigger2 = time >= 153
value = 221

;---------------------------------------------------------------------------
; 立ち強攻撃
[Statedef 221]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 221
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = posadd
trigger1 = AnimElem = 2,>=0
trigger1 = animelem = 7,<=0
x = 1

[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 220, 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 320, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = floor(94+(var(5)*5.208333)/2), 0
getpower = 131,131
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 15, 15
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -11
air.velocity = -5,-4
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,10
air.hittime = 56
air.fall = 1
fall.recover = 1
fall.recovertime = 56

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(5) >= 110
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7030
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -108)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -108)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ふっとばし攻撃
[Statedef 225]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 225
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 25
v = 5
value = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time >= 12
trigger1 = time % 3 = 0
value = 225, 0
;---------------------[]
[State explod];エフェクト
type = Explod
trigger1 = time = 12
anim = 6080
id = 3000
sprpriority = 3
postype = p1
pos = 20,-90
bindtime = -1
supermove = 0
ignorehitpause = 0
removetime = -1
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256,256


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 12
trigger1 = command != "おしっぱなしz"
trigger2 = time >= 27
value = 226

;---------------------------------------------------------------------------
; ふっとばし攻撃２
[Statedef 226]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 226
poweradd = 0
sprpriority = 2

;---------------------[]
[State explod];エフェクト消去
type = removeExplod
trigger1 = time = 0
id = 3000

;---------------------[速度]
[state a]
type = veladd
trigger1 = animelem = 2
x = 5

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 420, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 350, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = var(5) = 0
attr = S, NA
damage = 88, 0
getpower = 117,117
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 13, 13
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = var(5) = 1
trigger1 = var(2) != 6
attr = S, NA
damage = 107, 0
getpower = 117,117
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s-1;s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259

[State 200, 1];ランゴン・ガード不能
type = HitDef
trigger1 = AnimElem = 3
trigger1 = var(5) = 1
trigger1 = var(2) = 6
attr = S, NA
damage = 107, 0
getpower = 117,117
animtype = hard
guardflag = N
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s-1;s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259


[State 200, 1]
type = HitDef
trigger1 = moveguarded
trigger1 = var(5) = 1
attr = S, NA
damage = 0, 0
getpower = 0,0
animtype = hard
guardflag = N
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
sparkno = s-1
sparkxy = 0, 0
hitsound = s225, 1
guard.sparkno = s-1
guardsound = s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 265

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0


;---------------------[相手制御]
[state a]
type = null;targetstate
trigger1 = movehit = 1
value = 259


;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(5) = 1
id = 6080
name = "down"
sprpriority = -2
pos = 20,-90
postype = p1
stateno = 6081
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -65)
postype = p1
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -65)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -65)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


[state a];ガードクラッシュ
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 1
id = 7051
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -65)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト・ランゴン
type = Helper
trigger1 = movehit
trigger1 = var(2) = 6
trigger1 = var(5) = 1
id = 4102
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -55)
postype = p1
stateno = 4102
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)ふっとばし攻撃・ヒット硬直
[Statedef 259]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 259

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = time = 15
value = 260

;---------------------------------------------------------------------------
;(ENEMY)ふっとばし攻撃・吹き飛び
[Statedef 260]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = time = 0
x = -12

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 260

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a];壁受身
type = changestate
triggerall = command = "おしっぱなしa"
triggerall = power >= 500
triggerall = alive = 1
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 280

[state a];壁受身2
type = changestate
triggerall = command = "おしっぱなしa"
triggerall = var(45) <= 2
triggerall = authorname = "Ahuron"
triggerall = name = "Lieselotte" || name = "Konoha" || name = "Maori" || name = "Fiona"
triggerall = alive = 1
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 280

[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 261

;---------------------------------------------------------------------------
;(ENEMY)ふっとばし攻撃・壁ヒット
[Statedef 261]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 261

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

[state a]
type = changestate
trigger1 = animtime = 0
value = 262

;---------------------------------------------------------------------------
;(ENEMY)ふっとばし攻撃・落下
[Statedef 262]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = time = 0


[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = time = 0
x = -2
y = -4


[state a]
type = veladd
trigger1 = 1
y = 0.3

[State 821, 3] 
type = SelfState
triggerall = time >= 16
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
value = 5210


[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;(ENEMY)ガードふっとばし攻撃・ヒット硬直
[Statedef 265]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 150

[State 820, 1];ウチのアルカナキャラ専用
type = ChangeAnim
Triggerall = Time = 0
trigger1 = name = "Lieselotte" && authorname = "Ahuron"
trigger2 = name = "Konoha" && authorname = "Ahuron"
trigger3 = name = "Maori" && authorname = "Ahuron"
trigger4 = name = "Fiona" && authorname = "Ahuron"
value = 265

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = time = 15
value = 266

;---------------------------------------------------------------------------
;(ENEMY)ガードふっとばし攻撃・吹き飛び
[Statedef 266]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = time = 0
x = -12

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = null;ChangeAnim2
Trigger1 = Time = 0
value = 260

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 261


;---------------------------------------------------------------------------
;(ENEMY)壁受身・壁ヒット
[Statedef 280]
type    = A
movetype= I
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 152

[State 820, 1];ウチのアルカナキャラ専用
type = ChangeAnim
Triggerall = Time = 0
trigger1 = name = "Lieselotte" && authorname = "Ahuron"
trigger2 = name = "Konoha" && authorname = "Ahuron"
trigger3 = name = "Maori" && authorname = "Ahuron"
trigger4 = name = "Fiona" && authorname = "Ahuron"
value = 280

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ゲージ]
[State a]
type = poweradd
Trigger1 = Time = 0
trigger1 = anim = 152
value = -500

[State a]
type = varadd
Trigger1 = Time = 0
trigger1 = anim = 280
v = 45
value = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = time = 0
value = SCA
time = 33


[state a]
type = changestate
trigger1 = time = 22
value = 281

;---------------------------------------------------------------------------
;(ENEMY)壁受身・ジャンプ
[Statedef 281]
type    = A
movetype= I
physics = N
;velset = 0,0
sprpriority = 1

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[速度]
[state a]
type = posadd
trigger1 = time = 0
x = -10

[state a]
type = velset
trigger1 = time = 0
x = 3
y = -7

[state a]
type = velset
trigger1 = time = 0
trigger1 = command = "holdup"
x = 1.5
y = -9

[state a]
type = velset
trigger1 = time = 0
trigger1 = command = "holddown"
x = 1.5
y = -4


;---------------------[]
[state a]
type = selfstate
trigger1 = time = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; しゃがみ弱攻撃
[Statedef 400]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 400
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 0+(Random%3)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 31, 0
getpower = 108,108
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 0
guard.sparkno = s-1
guardsound = s120, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 22
air.fall = 1
fall.recover = 1
fall.recovertime = 22

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +22) , floor(p2dist y/2 -60)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +22) , floor(p2dist y/2 -60)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -60)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ中攻撃
[Statedef 410]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 410
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210, 0+(Random%2)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 310, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 44, 0
getpower = 91,91
animtype = mid
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 2
guard.sparkno = s-1
guardsound = s120, 1
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 25
air.fall = 1
fall.recover = 1
fall.recovertime = 25

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -10)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -10)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ強攻撃
[Statedef 420]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 420
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = posadd
trigger1 = animelem = 6
x = 11

[state a]
type = posadd
trigger1 = animelem = 7
x = 10

[state a]
type = posadd
trigger1 = animelem = 8
x = 30


[state a]
type = null;veladd
trigger1 = AnimElem = 2
x = 7

[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 420, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 47, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 320, 0

;---------------------[]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = animelem = 11,>=0
value = SCA

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 8
time = 10
ampl = -12
freq = 95
phase = 95

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = animelem = 8
id = 6000
name = "down"
sprpriority = -2
pos = 20,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = C, NA
damage = 73, 0
getpower = 131,131
animtype = hard
guardflag = L
hitflag = MAFLD
priority = 5, Hit
pausetime = 15, 15
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.5,-8
guard.velocity = -11
airguard.velocity = -1.9,-.3
air.type = trip
air.velocity = -1.4,22
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56


;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7032
name = "hit"
pos = floor(p2dist x/2 +55) , floor(p2dist y/2 -40)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +55) , floor(p2dist y/2 -40)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +50) , floor(p2dist y/2 -45)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; 打ち上げ攻撃
[Statedef 425]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 425
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 18
v = 5
value = 1


[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varadd
trigger1 = time >= 35
v = 6
value = 1


;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]

;---------------------[]
[State explod];エフェクト
type = Explod
trigger1 = time = 15
anim = 6080
id = 3000
sprpriority = 3
postype = p1
pos = -31,-136
bindtime = -1
supermove = 0
ignorehitpause = 0
removetime = -1
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256,256

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time >= 15
trigger1 = time % 6 = 0
;trigger1 = time <= 25
value = 225, 0


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 15
trigger1 = command != "おしっぱなしz"
trigger2 = time >= 49
value = 426


;---------------------------------------------------------------------------
; 打ち上げ攻撃2
[Statedef 426]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 426
poweradd = 0
sprpriority = 2

;---------------------[]
[State explod];エフェクト消去
type = removeExplod
trigger1 = time = 0
id = 3000

;---------------------[速度]
[state a]
type = veladd
trigger1 = animelem = 3
x = 2

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 420, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 350, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 47, 0

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = animelem = 4
id = 6000
name = "down"
sprpriority = -2
pos = 55,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = var(5) = 0
attr = C, NA
damage = 89, 0
getpower = 117,117
animtype = up
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = var(5) = 1
trigger1 = var(2) != 6
attr = C, NA
damage = 99+floor(var(6)*2.6542467), 0
getpower = 117,117
animtype = diagup
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 17, 17
guard.pausetime = 0, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s-1, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66

[State 200, 1];ランゴン・ガード不能
type = HitDef
trigger1 = AnimElem = 4
trigger1 = var(5) = 1
trigger1 = var(2) = 6
attr = C, NA
damage = 99+floor(var(6)*2.6542467), 0
getpower = 117,117
animtype = diagup
guardflag = N
hitflag = MAF
priority = 5, Hit
pausetime = 17, 17
guard.pausetime = 0, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s-1, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66


[State 200, 1]
type = HitDef
trigger1 = moveguarded
trigger1 = var(5) = 1
attr = C, NA
damage = 0, 0
getpower = 0,0
animtype = diagup
guardflag = N
hitflag = MAF
priority = 5, Hit
pausetime = 17, 17
guard.pausetime = 0, 0
sparkno = s-1
sparkxy = 0, 0
hitsound = s225, 1
guard.sparkno = s-1
guardsound = s-1, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66
p2stateno = 450



;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(5) = 1
id = 6080
name = "down"
sprpriority = -2
pos = -31,-136
postype = p1
stateno = 6081
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -25)
postype = p1
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -25)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -25)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 1
id = 7051
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -25)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト・ランゴン
type = Helper
trigger1 = movehit
trigger1 = var(2) = 6
trigger1 = var(5) = 1
id = 4102
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -25)
postype = p1
stateno = 4102
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)ガード打ち上げ攻撃・ヒット硬直
[Statedef 450]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = null;playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 152

[State 820, 1];ウチのアルカナキャラ専用
type = ChangeAnim
Triggerall = Time = 0
trigger1 = name = "Lieselotte" && authorname = "Ahuron"
trigger2 = name = "Konoha" && authorname = "Ahuron"
trigger3 = name = "Maori" && authorname = "Ahuron"
trigger4 = name = "Fiona" && authorname = "Ahuron"
value = 450

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = time = 15
value = 451

;---------------------------------------------------------------------------
;(ENEMY)ガード打ち上げ攻撃・吹き飛び
[Statedef 451]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = time = 0
x = -1
y = -11

[state a]
type = veladd
trigger1 = 1
y = 0.14

[state a]
type = null;playerpush
trigger1 = 1
value = 0


[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = selfstate
trigger1 = time = 80
value = 50
ctrl = 1





;---------------------------------------------------------------------------
;空中弱攻撃
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 8
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,0+(Random%2)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage    = 31,0
getpower = 77,77
priority = 3, Hit
guardflag = HA
getpower = 0,0
pausetime = 10,10
sparkno = s-1
sparkxy = 0,0
hitsound   = s400,0
guard.sparkno = s-1
guardsound = s120,0
animtype = light
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1,-6
air.fall = 1
fall.recover = 1
fall.recovertime = 22
yaccel = 0.45
ID = 600
nochainID = 9999


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -46)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -46)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -45)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = var(16) = 0
trigger1 = movecontact
trigger1 = command = "holdup"
value = 45


;---------------------------------------------------------------------------
;空中中攻撃
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 8
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 310, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,0+(Random%2)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage    = 46,0
getpower = 91,91
priority = 4, Hit
guardflag = HA
getpower = 0,0
pausetime = 11,11
sparkno = s-1
sparkxy = 0,0
hitsound   = s400,2
guard.sparkno = s-1
guardsound = s120,1
animtype = mid
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -1.4,-6.8
air.fall = 1
fall.recover = 1
fall.recovertime = 25
yaccel = 0.45
ID = 600
nochainID = 9999

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -136)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -136)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -135)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = var(16) = 0
trigger1 = movecontact
trigger1 = command = "holdup"
value = 45


;---------------------------------------------------------------------------
;空中強攻撃・溜め
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[State 400, 4]
type = ChangeState
trigger1 = time >= 12 && command != "おしっぱなしz"
trigger2 = time >= 72
value = 621

[state a]
type = varadd
trigger1 = time >= 12
v = 5
value = 1

;---------------------[速度]
[state a]
type = velmul
trigger1 = time = 13
x = 0.4
y = 0.4

[state a]
type = velset
trigger1 = time >= 13
trigger1 = vel y > 1
y = 1

[state a]
type = statetypeset
trigger1 = time = 13
physics = N

[state a]
type = veladd
trigger1 = time >= 13
trigger1 = vel y <= 1
y = 0.20

[state a]
type = veladd
trigger1 = vel x <= 3
trigger1 = command = "holdfwd"
x = 0.2

[state a]
type = veladd
trigger1 = vel x >= -3
trigger1 = command = "holdback"
x = -0.2

;---------------------[ステートチェンジ]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;空中強攻撃
[Statedef 621]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 621
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 6
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 320, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 78+floor(var(5)*2.6909722),0
getpower = 131,131
priority = 5, Hit
guardflag = HA
getpower = 0,0
pausetime = 14,14
sparkno = s-1
sparkxy = 0,0
hitsound   = s400,3
guard.sparkno = s-1
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -11
air.velocity = -8.4,-1.5
air.fall = 1
fall.recover = 1
fall.recovertime = 35
yaccel = 0.57
ID = 600
nochainID = 9999


;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(5) >= 55
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7032
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -122)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -122)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -125)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]

;---------------------------------------------------------------------------
;空中下強攻撃
[Statedef 625]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 625
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 7
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 320, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0


;---------------------[]
[state a]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
y = -12

[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
y = 12

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 78,0
priority = 5, Hit
guardflag = HA
getpower = 131,131
pausetime = 15,15
sparkno = s-1
sparkxy = 0,0
hitsound   = s400,3
guard.sparkno = s-1
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7
air.velocity = -2,24
fall.xvelocity = -2
fall.yvelocity = -0.4
air.fall = 1
fall.recover = 1
fall.recovertime = 56
yaccel = 0.45
ID = 600
nochainID = 9999


;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -66)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -66)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -65)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;はぁと通常攻撃
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; はぁと・立ち弱攻撃
[Statedef 10200]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10200
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10200, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 19, 0
getpower = 42,42
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s-1
sparkxy = 0, 0
hitsound = s10400, 0
guard.sparkno = s-1
guardsound = s120, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4
airguard.velocity = -1.1,-3
air.type = High
air.velocity = -1.1,-3
yaccel = 0.32
air.hittime = 22
air.fall = 1
fall.recover = 1
fall.recovertime = 22

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7000
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -73)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -73)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -75)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; はぁと・立ち中攻撃
[Statedef 10210]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10210
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10210, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 310, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 46, 0
getpower = 91,91
animtype = mid
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
sparkno = s-1
sparkxy = 0, 0
hitsound = s10410, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
airguard.velocity = -1.2,-.8
air.type = High
air.velocity = -1.2,-7
yaccel = 0.4
air.hittime = 25
air.fall = 1
fall.recover = 1
fall.recovertime = 25

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -76)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -76)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +35) , floor(p2dist y/2 -76)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; はぁと・レバー前中攻撃
[Statedef 10215]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10215
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = veladd
trigger1 = animelem = 3
x = 2

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10210, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 310, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 42, 0
getpower = 91,91
animtype = mid
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11, 14
sparkno = s-1
sparkxy = 0, 0
hitsound = s10410, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -11
airguard.velocity = -3.2,-3
air.type = High
air.velocity = -3.2,-3.4
yaccel = 0.3
air.hittime = 30
air.fall = 1
fall.recover = 1
fall.recovertime = 30

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -62)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -62)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -62)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; はぁと・立ち強攻撃
[Statedef 10220]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10220
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = posadd
trigger1 = AnimElem = 4
x = 5

[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 10220, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 320, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 84, 0
getpower = 117,117
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 13, 13
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -8
airguard.velocity = -3.6,-4.5
air.type = High
air.velocity = -3.6,-4.5
yaccel = 0.4
air.hittime = 56
air.fall = 1
fall.recover = 1
fall.recovertime = 56

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -72)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -72)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -72)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; はぁと・ふっとばし攻撃
[Statedef 10225]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10225
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 25
v = 5
value = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time >= 9
trigger1 = time % 3 = 0
value = 225, 0
;---------------------[]
[State explod];エフェクト
type = Explod
trigger1 = time = 12
anim = 6080
id = 3000
sprpriority = 3
postype = p1
pos = -10,-67
bindtime = -1
supermove = 0
ignorehitpause = 0
removetime = -1
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256,256


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 8
trigger1 = command != "おしっぱなしz"
trigger2 = time >= 27
value = 10226

;---------------------------------------------------------------------------
; はぁと・ふっとばし攻撃２
[Statedef 10226]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10226
poweradd = 0
sprpriority = 2

;---------------------[]
[State explod];エフェクト消去
type = removeExplod
trigger1 = time = 0
id = 3000

;---------------------[速度]
[state a]
type = veladd
trigger1 = time = 0
x = 6+ var(5)*5

[state a]
type = velmul
trigger1 = animelem = 2,>=0
x = 0.9

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10250, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10350, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = var(5) = 0
attr = S, NA
damage = 84, 0
getpower = 117,117
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 13, 13
sparkno = s-1
sparkxy = 0, 0
hitsound = s10450, 0
guard.sparkno = s-1
guardsound = s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = var(5) = 1
trigger1 = var(2) != 6
attr = S, NA
damage = 103, 0
getpower = 117,117
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s10450, 0
guard.sparkno = s-1
guardsound = s-1;s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259

[State 200, 1];ランゴン・ガード不能
type = HitDef
trigger1 = AnimElem = 2
trigger1 = var(5) = 1
trigger1 = var(2) = 6
attr = S, NA
damage = 103, 0
getpower = 117,117
animtype = hard
guardflag = N
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s10450, 0
guard.sparkno = s-1
guardsound = s-1;s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259


[State 200, 1]
type = HitDef
trigger1 = moveguarded
trigger1 = var(5) = 1
attr = S, NA
damage = 0, 0
getpower = 0,0
animtype = hard
guardflag = N
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
sparkno = s-1
sparkxy = 0, 0
hitsound = s225, 1
guard.sparkno = s-1
guardsound = s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 265

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[相手制御]
[state a]
type = null;targetstate
trigger1 = movehit = 1
value = 259


;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(5) = 1
id = 6080
name = "down"
sprpriority = -2
pos = -10,-67
postype = p1
stateno = 6081
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +22) , floor(p2dist y/2 -67)
postype = p1
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +22) , floor(p2dist y/2 -67)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +22) , floor(p2dist y/2 -67)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


[state a];ガードクラッシュ
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 1
id = 7051
name = "hit"
pos = floor(p2dist x/2 +22) , floor(p2dist y/2 -67)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト・ランゴン
type = Helper
trigger1 = movehit
trigger1 = var(2) = 6
trigger1 = var(5) = 1
id = 4102
name = "hit"
pos = floor(p2dist x/2 +22) , floor(p2dist y/2 -67)
postype = p1
stateno = 4102
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; はぁと・しゃがみ弱攻撃
[Statedef 10400]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10400
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10200, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 19, 0
getpower = 42,42
animtype = Light
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s-1
sparkxy = 0, 0
hitsound = s10400, 0
guard.sparkno = s-1
guardsound = s120, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 22
air.fall = 1
fall.recover = 1
fall.recovertime = 22

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7000
name = "hit"
pos = floor(p2dist x/2 +32) , floor(p2dist y/2 -15)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +32) , floor(p2dist y/2 -15)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +30) , floor(p2dist y/2 -15)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; はぁと・しゃがみ中攻撃
[Statedef 10410]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10410
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10210, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 310, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 38, 0
getpower = 91,91
animtype = mid
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
sparkno = s-1
sparkxy = 0, 0
hitsound = s10410, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 25
air.fall = 1
fall.recover = 1
fall.recovertime = 25

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -12)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -12)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +30) , floor(p2dist y/2 -12)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; はぁと・しゃがみ強攻撃
[Statedef 10420]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10420
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = veladd
trigger1 = AnimElem = 2
x = 1

[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10220, 0+(Random%5)

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 320, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 61, 0
getpower = 117,117
animtype = hard
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 13, 13
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.4,-3.5
airguard.velocity = -1.9,-.3
yaccel = 0.35
air.type = trip
air.velocity = -1.4,-4
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -10)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -10)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +35) , floor(p2dist y/2 -10)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; 打ち上げ攻撃
[Statedef 10425]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10425
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 18
v = 5
value = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]

;---------------------[]
[State explod];エフェクト
type = Explod
trigger1 = time = 6
anim = 6080
id = 3000
sprpriority = 3
postype = p1
pos = -14,-74
bindtime = -1
supermove = 0
ignorehitpause = 0
removetime = -1
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256,256

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time >= 7
trigger1 = time % 3 = 0
value = 225, 0


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 6
trigger1 = command != "おしっぱなしz"
trigger2 = time >= 20
value = 10426


;---------------------------------------------------------------------------
; 打ち上げ攻撃2
[Statedef 10426]
type    = C
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10426
poweradd = 0
sprpriority = 2

;---------------------[]
[State explod];エフェクト消去
type = removeExplod
trigger1 = time = 0
id = 3000

;---------------------[速度]
[state a]
type = veladd
trigger1 = animelem = 2
x = 4+var(5)*3

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10451, 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 350, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = var(5) = 0
attr = C, NA
damage = 88, 0
getpower = 117,117
animtype = up
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = var(5) = 1
trigger1 = var(2) != 6
attr = C, NA
damage = 110, 0
getpower = 117,117
animtype = diagup
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 17, 17
guard.pausetime = 0, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s-1, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66

[State 200, 1];ランゴン・ガード不能
type = HitDef
trigger1 = AnimElem = 3
trigger1 = var(5) = 1
trigger1 = var(2) = 6
attr = C, NA
damage = 110, 0
getpower = 117,117
animtype = diagup
guardflag = N
hitflag = MAF
priority = 5, Hit
pausetime = 17, 17
guard.pausetime = 0, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s-1, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66


[State 200, 1]
type = HitDef
trigger1 = moveguarded
trigger1 = var(5) = 1
attr = C, NA
damage = 0, 0
getpower = 0,0
animtype = diagup
guardflag = N
hitflag = MAF
priority = 5, Hit
pausetime = 17, 17
guard.pausetime = 0, 0
sparkno = s-1
sparkxy = 0, 0
hitsound = s225, 1
guard.sparkno = s-1
guardsound = s-1, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66
p2stateno = 450

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(5) = 1
id = 6080
name = "down"
sprpriority = -2
pos = -14,-74
postype = p1
stateno = 6081
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -63)
postype = p1
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +25) , floor(p2dist y/2 -63)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 1
id = 7051
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト・ランゴン
type = Helper
trigger1 = movehit
trigger1 = var(2) = 6
trigger1 = var(5) = 1
id = 4102
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -63)
postype = p1
stateno = 4102
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;はぁと・空中弱攻撃
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10600
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 7
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 2
value = 10200,0+(Random%5)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 23,0
getpower = 42,42
priority = 3, Hit
guardflag = HA
getpower = 0,0
pausetime = 8,8
sparkno = s-1
sparkxy = 0,0
hitsound   = s10400,0
guard.sparkno = s-1
guardsound = s120,0
animtype = light
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1,-7
air.fall = 1
fall.recover = 1
fall.recovertime = 22
yaccel = 0.34
ID = 600
nochainID = 9999


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7000
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -56)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -56)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = var(16) = 0
trigger1 = movecontact
trigger1 = command = "holdup"
value = 45

;---------------------------------------------------------------------------
;はぁと・空中中攻撃
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10610
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 8
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 310, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 10210,0+(Random%5)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage    = 57,0
getpower = 91,91
priority = 4, Hit
guardflag = HA
getpower = 0,0
pausetime = 11,11
sparkno = s-1
sparkxy = 0,0
hitsound   = s10410,0
guard.sparkno = s-1
guardsound = s120,1
animtype = mid
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -7
air.velocity = -2.1,-5.2
air.fall = 1
fall.recover = 1
fall.recovertime = 25
yaccel = 0.38
ID = 600
nochainID = 9999

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -46)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -46)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = var(16) = 0
trigger1 = movecontact
trigger1 = command = "holdup"
value = 45


;---------------------------------------------------------------------------
;はぁと・空中レバー後ろ中攻撃
[Statedef 10615]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10615
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 7
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 310, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 10210,0+(Random%5)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 38,0
getpower = 91,91
priority = 4, Hit
guardflag = HA
getpower = 0,0
pausetime = 11,11
sparkno = s-1
sparkxy = 0,0
hitsound   = s10410,0
guard.sparkno = s-1
guardsound = s120,1
animtype = mid
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6
air.velocity = 0,-4.2
air.fall = 1
fall.recover = 1
fall.recovertime = 25
yaccel = 0.26
ID = 600
nochainID = 9999

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -76)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -76)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = var(16) = 0
trigger1 = movecontact
trigger1 = command = "holdup"
value = 45

;---------------------------------------------------------------------------
;はぁと・空中強攻撃
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10620
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 8
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 320, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 10220,0+(Random%5)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 6
attr = A, NA
damage    = 88,0
getpower = 117,117
priority = 5, Hit
guardflag = HA
getpower = 0,0
pausetime = 13,13
sparkno = s-1
sparkxy = 0,0
hitsound   = s10420,0
guard.sparkno = s-1
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7.5
air.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 1
fall.recovertime = 30
yaccel = 0.20
ID = 600
nochainID = 9999

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -52)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -52)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------------------------------------------------------------
;はぁと・空中レバー下強攻撃
[Statedef 10625]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10625
sprpriority = 1

[state a]
type = ctrlset
trigger1 = animelem = 15
value = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 320, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 4
value = 10220,0+(Random%5)

;---------------------[攻撃]
[State 640, 3]
type = HitDef
trigger1 = animelem = 5
attr = A, NA
damage    = 91,0
priority = 5, Hit
guardflag = HA
getpower = 117,117
pausetime = 15,15
sparkno = s-1
sparkxy = 0,0
hitsound   = s10420,0
guard.sparkno = s-1
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
air.velocity = -2.5,16
fall.xvelocity = -2
fall.yvelocity = -0.4
air.fall = 1
fall.recover = 1
fall.recovertime = 56
yaccel = 0.65
ID = 600
nochainID = 9999

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -46)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -46)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1



;---------------------------------------------------------------------------
; ダウン回避
[Statedef 700]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 700+var(1)*10000
poweradd = 0
sprpriority = 2

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = posadd
trigger1 = animelem = 2
trigger1 = var(1) = 0
x = -20

[state a]
type = velset
trigger1 = animelem = 4
x = -3-var(1)*3
y = -5

[state a]
type = veladd
trigger1 = animelem = 4,>=0
y = 0.5

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 6000
name = "down"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(1) = 0
id = 6000
name = "down"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 1
value = 700+var(1)*10000, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(1) = 0
value = 0, 1

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 701

;---------------------------------------------------------------------------
; ダウン回避・接地
[Statedef 701]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 701+var(1)*10000
poweradd = 0
sprpriority = 2

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 1
value = 47+var(1)*10000, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
x = -3

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(1) = 0
id = 6000
name = "down"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;投げ
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ノーマル
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 801,0

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, hit    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = ifelse (command = "holdback", -1, 1) 
p2facing = 1;ifelse (command = "holdback", -1, 1)          ;？
p1stateno = 805
p2stateno = 810       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 0              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999

;---------------------[ステートチェンジ]
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ノーマル投げ
[Statedef 805]
type    = S
movetype= A
physics = N
anim = 805
juggle  = 0
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
value = 801, 1

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 801, 2

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 0, 1

[State 200, 5]; b b
type = PlaySnd
trigger1 = AnimElem = 9
value = 3200,0

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 40,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 10,-122


[State 801, 2]
type = TargetBind
trigger1 = animelem = 8
pos = 15,-100

[State 801, 2]
type = Targetstate
trigger1 = animelem = 9
value = 812

[State 801, 2]
type = TargetBind
trigger1 = animelem = 9
pos = 50,-30

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 5
trigger2 = animelem = 7
value = -32
kill = 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
damage = 94, 0
animtype = diagup
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 18, 18
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 15+40
p2stateno = 259


[State 210, Width];画面端の押し戻し判定
type = null;Width
trigger1 = 1
edge = 40,0

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1,0

;---------------------[ヘルパー]
[state a];掴み
type = Helper
trigger1 = time = 0
id = 6070
name = "hit"
pos = 45 , -54
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 5
trigger2 = animelem = 7
id = 7001
name = "hit"
pos = 12 , -132
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 810]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velmul
trigger1 = 1
x = 0.94

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 810

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 811

;---------------------------------------------------------------------------
;(ENEMY)掴まれ2
[Statedef 811]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = angleset
trigger1 = time = 0
value = -135

[state a]
type = angleset
trigger1 = animelem = 5
value = -75

[state a]
type = angledraw
trigger1 = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 811

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0

;---------------------------------------------------------------------------
;(ENEMY)掴まれ3
[Statedef 812]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 812

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0



;---------------------------------------------------------------------------
;レバー入れ
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 801,0

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, hit    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = ifelse (command = "holdback", -1, 1) 
p2facing = 1;ifelse (command = "holdback", -1, 1)          ;？
p1stateno = 820
p2stateno = 825       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 0              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999

;---------------------[ステートチェンジ]
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;レバー入れ投げ
[Statedef 820]
type    = A
movetype= A
physics = N
anim = 820
juggle  = 0
sprpriority = 2

[state a]
type = turn
trigger1 = animelem = 10

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 5
value = 200, 1

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 5
value = 320, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 47, 0

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = time = 0
pos = 100/2,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 78/2,-232/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 5
pos = -90/2,-322/2

[State 801, 2]
type = Targetstate
trigger1 = animelem = 1
value = 825

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 6
value = -182

[State 801, 2]
type = poweradd
trigger1 = animelem = 6
value = 108


[State 210, Width];画面端の押し戻し判定
type = null;Width
trigger1 = 1
edge = 40,0

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1,0


;---------------------[]
[state a];掴み
type = Helper
trigger1 = time = 1
id = 6070
name = "hit"
pos = 60 , -84
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 825]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 825

[state a]
type = turn
trigger1 = animelem = 4

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 826


;---------------------------------------------------------------------------
;(ENEMY)投げられ
[Statedef 826]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = time = 0
x = -6
y = -8

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .54

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;---------------------------------------------------------------------------
;空中
[Statedef 802]
type    = A
movetype= A
physics = A
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 802
sprpriority = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 4
value = 801,0

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = A-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = 1 ;前を押したらターンする設定
p2facing = 1          ;？
p1stateno = 830
p2stateno = 835       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 1              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999


;---------------------------------------------------------------------------
;空中投げ
[Statedef 830]
type    = A
movetype= A
physics = N
anim = 830
juggle  = 0
velset = 0,0
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 210, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 320, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 360, 0

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = veladd
trigger1 = animelem = 9
x = 0
y = -3


;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 75,-143

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 30,-208

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = -22,-201

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 80,-134


[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 4
value = -146

;---------------------[ヘルパー]
[state a];掴み
type = Helper
trigger1 = time = 0
id = 6070
name = "hit"
pos = 75,-143
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = statetypeset
trigger1 = animelem = 7
physics = A

[state a]
type = ctrlset
trigger1 = animelem = 7
value = 1


;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 835]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 835

[state a]
type = turn
trigger1 = animelem = 4

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 836

;---------------------------------------------------------------------------
;(ENEMY)投げられ
[Statedef 836]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[state a]
type = velset
trigger1 = animelem = 1
x = -4
y = -9

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .46

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;---------------------------------------------------------------------------
;はぁと・通常投げ
[Statedef 10800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10800
sprpriority = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 10200,1

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, hit    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = ifelse (command = "holdback", -1, 1) 
p2facing = 1;ifelse (command = "holdback", -1, 1)          ;？
p1stateno = 10805
p2stateno = 10810       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 0              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999

;---------------------[ステートチェンジ]
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ノーマル投げ
[Statedef 10805]
type    = A
movetype= A
physics = N
anim = 10805
juggle  = 0
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 10400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 10
value = 310, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 16
value = 320, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 10220, 0+(Random%3)

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 16
value = 10451, 0

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = veladd
trigger1 = animelem = 2
trigger2 = animelem = 9
x = 4

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 40,0



;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 19, 0
animtype = mid
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 6, 6
sparkno = s-1
sparkxy = 0, 0
hitsound = s10410, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 25
air.fall = 1
fall.recover = 1
fall.recovertime = 25
kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
damage = 19, 0
animtype = mid
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 6, 6
sparkno = s-1
sparkxy = 0, 0
hitsound = s10410, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -4
airguard.velocity = -1.0,-7
air.type = High
air.velocity = -1.0,-8
air.hittime = 20
air.fall = 1
fall.recover = 1
fall.recovertime = 20
kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 17
attr = S, NA
damage = 57, 0
animtype = diagup
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 18, 18
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.0,-11
airguard.velocity = -1.0,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 15+40


[State 210, Width];画面端の押し戻し判定
type = null;Width
trigger1 = 1
edge = 40,0

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1,0

;---------------------[ヘルパー]
[state a];掴み
type = Helper
trigger1 = time = 0
id = 6070
name = "hit"
pos = 45 , -58
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = animelem = 4,>=0 && animelem = 5,<0
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -70)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = animelem = 11,>=0 && animelem = 12,<0
id = 7001
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -72)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = animelem = 17,>=0 && animelem = 18,<0
id = 7010
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -80)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 10810]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velmul
trigger1 = 1
x = 0.94

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10810

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0


;---------------------------------------------------------------------------
;レバー入れ
[Statedef 10801]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10801
sprpriority = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 10200,1


;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, hit    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = ifelse (command = "holdback", -1, 1) 
p2facing = 1;ifelse (command = "holdback", -1, 1)          ;？
p1stateno = 10820
p2stateno = 10825       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 0              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999

;---------------------[ステートチェンジ]
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;レバー入れ投げ
[Statedef 10820]
type    = A
movetype= A
physics = N
anim = 10820
juggle  = 0
sprpriority = 2

[state a]
type = turn
trigger1 = animelem = 9

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 10400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 360, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 350, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 3
value = 10700, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
trigger2 = animelem = 10
y = 0

[state a]
type = posadd
trigger1 = animelem = 10
x = -50

;---------------------[]
[state a]
type = sprpriority
trigger1 = animelem = 5
value = -2

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 40,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 32,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 11,-54

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = -33,-55

[State 801, 2]
type = TargetBind
trigger1 = animelem = 5
pos = -43,-60


[State 801, 2]
type = targetlifeadd
trigger1 = animelem = 5
value = -95


[State 210, Width];画面端の押し戻し判定
type = null;Width
trigger1 = 1
edge = 40,0

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1,0


;---------------------[]
[state a];掴み
type = Helper
trigger1 = time = 1
id = 6070
name = "hit"
pos = 45 , -58
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)投げられ
[Statedef 10825]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = turn
trigger1 = animelem = 5

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10825

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = animelem = 5
x = -5
y = -9

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = animelem = 5,>=0
y = .5

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;空中
[Statedef 10802]
type    = A
movetype= A
physics = A
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 10800
sprpriority = 1

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 5];攻撃ボイス
type = PlaySnd
trigger1 = AnimElem = 3
value = 10200,1


;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = A-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = 1 ;前を押したらターンする設定
p2facing = 1          ;？
p1stateno = 10830
p2stateno = 10835       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 1              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999


;---------------------------------------------------------------------------
;空中投げ
[Statedef 10830]
type    = A
movetype= A
physics = N
anim = 10830
juggle  = 0
velset = 0,0
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 10400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 5
value = 360, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 5
value = 350, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 10700, 0
;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = veladd
trigger1 = animelem = 6
x = 1.4
y = -6


;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 40,-15

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 30,-35

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 10,-100

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = -15,-80

[State 801, 2]
type = TargetBind
trigger1 = animelem = 5
pos = -24,-54


[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 6
value = -95

;----------------------[ヘルパー]
[state a];掴み
type = Helper
trigger1 = time = 0
id = 6070
name = "hit"
pos = 30 , -70
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1



;---------------------[]
[state a]
type = statetypeset
trigger1 = animelem = 6
physics = A

[state a]
type = ctrlset
trigger1 = animelem = 13
value = 1


;---------------------------------------------------------------------------
;(ENEMY)投げられ
[Statedef 10835]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10835

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = animelem = 6
x = 1
y = 11

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = animelem = 6,>=0
y = .5

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ホーミング関係
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ホーミング始動
[Statedef 900]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 900+var(1)*10000
poweradd = 0
sprpriority = 1

[state a];応急処置
type = pause
triggerall = time = 0
trigger1 = prevstateno = [200,899]
trigger2 = prevstateno = [1000,2999]
time = 8
movetime = 8
ignorehitpause = 1

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 215
trigger6 = prevstateno = 221
trigger7 = prevstateno = 420
trigger8 = prevstateno = 226
trigger9 = prevstateno = 600
trigger10= prevstateno = 610
trigger11= prevstateno = 621
trigger12= prevstateno = 625
trigger13= prevstateno = 805
trigger14= prevstateno = 1005
trigger15= prevstateno = 1015
trigger16= prevstateno = 1100
trigger17= prevstateno = 1300
trigger18= prevstateno = 1320
trigger19= prevstateno = 1400
trigger20= prevstateno = 1700
trigger21= prevstateno = 10200
trigger22= prevstateno = 10400
trigger23= prevstateno = 10210
trigger24= prevstateno = 10410
trigger25= prevstateno = 10215
trigger26= prevstateno = 10220
trigger27= prevstateno = 10420
trigger28= prevstateno = 10226
trigger29= prevstateno = 10600
trigger30= prevstateno = 10610
trigger31= prevstateno = 10621
trigger32= prevstateno = 10625
trigger33= prevstateno = 10805
trigger34= prevstateno = 11000
trigger35= prevstateno = 11100
trigger36= prevstateno = 12000
trigger37= prevstateno = 12100
trigger38= prevstateno = 426
persistent = 0
ignorehitpause = 1
var(47) = 120

[State a];
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 215
trigger6 = prevstateno = 221
trigger7 = prevstateno = 420
trigger8 = prevstateno = 226
trigger9 = prevstateno = 600
trigger10= prevstateno = 610
trigger11= prevstateno = 621
trigger12= prevstateno = 625
trigger13= prevstateno = 805
trigger14= prevstateno = 1005
trigger15= prevstateno = 1015
trigger16= prevstateno = 1100
trigger17= prevstateno = 1300
trigger18= prevstateno = 1320
trigger19= prevstateno = 1400
trigger20= prevstateno = 1700
trigger21= prevstateno = 10200
trigger22= prevstateno = 10400
trigger23= prevstateno = 10210
trigger24= prevstateno = 10410
trigger25= prevstateno = 10215
trigger26= prevstateno = 10220
trigger27= prevstateno = 10420
trigger28= prevstateno = 10226
trigger29= prevstateno = 10600
trigger30= prevstateno = 10610
trigger31= prevstateno = 10621
trigger32= prevstateno = 10625
trigger33= prevstateno = 10805
trigger34= prevstateno = 11000
trigger35= prevstateno = 11100
trigger36= prevstateno = 12000
trigger37= prevstateno = 12100
trigger38= prevstateno = 426
time = 10
;mul = 240,240,240
add = 240,240,240
sinadd = -240,-240,-240,40
;add = -12,-12,-12,20
;mul = 240,240,240
color = 256
ignorehitpause = 1


;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time <= 7
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 900, 0

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = animtime = 0
value = 910


;---------------------------------------------------------------------------
; ホーミング移動
[Statedef 910]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 910+var(1)*10000
poweradd = 0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
trigger2 = gametime%18 = 0
value = 900, 1

;---------------------[アニメーション変更]
[state a]
type = changeanim
triggerall = anim != 910+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 45
trigger1 = p2dist y < 0
value = 910+var(1)*10000

[state a]
type = changeanim
triggerall = anim != 911+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) < 45
trigger1 = p2dist y <= 0
trigger2 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) < 40
trigger2 = p2dist y > 0
value = 911+var(1)*10000

[state a]
type = changeanim
triggerall = anim != 912+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 45
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) < 65
trigger1 = p2dist y > 0
value = 912+var(1)*10000

[state a]
type = changeanim
triggerall = anim != 913+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 65
trigger1 = p2dist y > 0
value = 913+var(1)*10000


;---------------------[ヘルパー]
[state a];ホーミングエフェクト
type = Helper
trigger1 = time = 0
id = 6050
name = "hom"
sprpriority = -2
pos = 0,-40
postype = p1
stateno = 6050
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];ホーミングエフェクト2
type = Helper
triggerall = time != 0
trigger1 = gametime % 20 = 0
id = 6051
name = "hom"
sprpriority = -2
pos = 0,-40
postype = p1
stateno = 6051
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];炎のアルカナ・跳澗閻羅
type = Helper
trigger1 = time = 0
trigger1 = var(2) = 6
trigger1 = var(21) = 1
id = 4114
name = "honoo"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 4114
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = 1
x = 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
y = 10*((p2dist y)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))

[state a]
type = velset
trigger1 = anim = 910+var(1)*10000 ;&& floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 45
x = 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
y = 15*((p2dist y)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))


;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = time = 70
trigger2 = command != "おしっぱなしa" 
trigger3 = p2bodydist x <= 20 && p2dist y >= -30 && p2dist y <= 50
;trigger4 = p2bodydist x <= 20 && p2bodydist y <= 60
value = 915

;---------------------------------------------------------------------------
; ホーミング・解除
[Statedef 915]
type    = A
movetype= I
physics = N
juggle  = 0
;velset = 0,0
ctrl = 1
anim = 111+var(1)*10000
poweradd = 0
sprpriority = 2

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x <= 0

;---------------------[速度]
[state a]
type = veladd
trigger1 = time >= 5
y = 0.43

[state a]
type = velmul
trigger1 = 1
x = 0.97

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; レバー＋ホーミング始動
[Statedef 920]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 920+var(1)*10000
poweradd = 0
sprpriority = 1

[state a];応急処置
type = pause
triggerall = time = 0
trigger1 = prevstateno = [200,899]
trigger2 = prevstateno = [1000,2999]
time = 8
movetime = 8
ignorehitpause = 1

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time <= 7
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holdup"
value = 922+var(1)*10000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holdback"
value = 924+var(1)*10000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holddown"
value = 926+var(1)*10000


[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holdfwd" && command = "holdup"
value = 921+var(1)*10000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holdback" && command = "holdup"
value = 923+var(1)*10000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holdback" && command = "holddown"
value = 925+var(1)*10000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = command = "holdfwd" && command = "holddown"
value = 927+var(1)*10000

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 920+var(1)*10000
x = 6

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 921+var(1)*10000
x = 5.5
y = -5.5

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 922+var(1)*10000
y = -5

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 923+var(1)*10000
x = -5.5
y = -5.5

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 924+var(1)*10000
x = -5

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 925+var(1)*10000
x = -5.5
y = 5.5

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 926+var(1)*10000
y = 6

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 927+var(1)*10000
x = 5.5
y = 5.5



[state a]
type = velmul
trigger1 = vel x < 0
x = 0.95
y = 0.95

[state a]
type = velmul
trigger1 = vel x > 0
y = 0.95

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 900, 0

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = animtime = 0
value = 928


[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; レバー＋ホーミング中継
[Statedef 928]
type    = A
movetype= I
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 928+var(1)*10000
poweradd = 0
sprpriority = 1

;---------------------[速度]
[state a]
type = velmul
trigger1 = vel x < 0
x = 0.95
y = 0.95

[state a]
type = velmul
trigger1 = vel x > 0
y = 0.95

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = animtime = 0
value = 929


[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; レバーホー＋ミング移動
[Statedef 929]
type    = A
movetype= I
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
;anim = 910+var(1)*10000
poweradd = 0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0


;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
;trigger1 = anim = 923
;trigger2 = anim = 924
;trigger3 = anim = 925
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
triggerall = time = 0
trigger1 = vel x > 0
v = 5
value = 80

[state a]
type = varset
triggerall = time = 0
trigger1 = vel x > 0
v = 6
value = 80

[state a]
type = varadd
trigger1 = var(5) <= 100
trigger1 = vel x > 0
v = 5
value = 4

[state a]
type = varadd
trigger1 = var(6) <= 100
v = 6
value = 4

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
trigger2 = gametime%18 = 0
value = 900, 1


;---------------------[アニメーション変更]
[state a]
type = changeanim
triggerall = anim != 910+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 45
trigger1 = p2dist y < 0
value = 910+var(1)*10000

[state a]
type = changeanim
triggerall = anim != 911+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) < 45
trigger1 = p2dist y <= 0
trigger2 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) < 40
trigger2 = p2dist y > 0
value = 911+var(1)*10000

[state a]
type = changeanim
triggerall = anim != 912+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 45
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) < 65
trigger1 = p2dist y > 0
value = 912+var(1)*10000

[state a]
type = changeanim
triggerall = anim != 913+var(1)*10000
trigger1 = floor(atan(ceil(abs(p2dist y + 0.1))/ ceil(abs(p2dist x + 0.1)))*180 / pi) >= 65
trigger1 = p2dist y > 0
value = 913+var(1)*10000


;---------------------[ヘルパー]
[state a];ホーミングエフェクト
type = Helper
trigger1 = time = 1
id = 6050
name = "hom"
sprpriority = -2
pos = 0,-40
postype = p1
stateno = 6050
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];ホーミングエフェクト2
type = Helper
triggerall = time != 0
trigger1 = gametime % 20 = 0
id = 6051
name = "hom"
sprpriority = -2
pos = 0,-40
postype = p1
stateno = 6051
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];炎のアルカナ・跳澗閻羅
type = Helper
trigger1 = time = 0
trigger1 = var(2) = 6
trigger1 = var(21) = 1
id = 4114
name = "honoo"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 4114
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = time = 70
trigger2 = command != "おしっぱなしa" 
trigger3 = p2bodydist x <= 20 && p2dist y >= -30 && p2dist y <= 50
;trigger4 = p2bodydist x <= 20 && p2bodydist y <= 60
value = 915

;---------------------[速度]
[state a]
type = velset
trigger1 = 1;vel x > 0
x = 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
y = 12*((p2dist y)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))

[state a]
type = null;veladd
trigger1 = vel x < 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
x = 0.4

[state a]
type = null;veladd
trigger1 = vel x > 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
x = -0.4

[state a]
type = null;veladd
trigger1 = vel y < 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
y = -0.4

[state a]
type = null;veladd
trigger1 = vel y > 10*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))
x = 0.4


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; Fホーミングダッシュ始動
[Statedef 930]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 930+var(1)*10000
poweradd = 0
sprpriority = 1

[state a];応急処置
type = pause
triggerall = time = 0
trigger1 = prevstateno = [200,899]
trigger2 = prevstateno = [1000,2999]
time = 8
movetime = 8
ignorehitpause = 1

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 215
trigger6 = prevstateno = 221
trigger7 = prevstateno = 420
trigger8 = prevstateno = 226
trigger9 = prevstateno = 600
trigger10= prevstateno = 610
trigger11= prevstateno = 621
trigger12= prevstateno = 625
trigger13= prevstateno = 805
trigger14= prevstateno = 1005
trigger15= prevstateno = 1015
trigger16= prevstateno = 1100
trigger17= prevstateno = 1300
trigger18= prevstateno = 1320
trigger19= prevstateno = 1400
trigger20= prevstateno = 1700
trigger21= prevstateno = 10200
trigger22= prevstateno = 10400
trigger23= prevstateno = 10210
trigger24= prevstateno = 10410
trigger25= prevstateno = 10215
trigger26= prevstateno = 10220
trigger27= prevstateno = 10420
trigger28= prevstateno = 10226
trigger29= prevstateno = 10600
trigger30= prevstateno = 10610
trigger31= prevstateno = 10621
trigger32= prevstateno = 10625
trigger33= prevstateno = 10805
trigger34= prevstateno = 11000
trigger35= prevstateno = 11100
trigger36= prevstateno = 12000
trigger37= prevstateno = 12100
trigger38= prevstateno = 426
persistent = 0
ignorehitpause = 1
var(47) = 120

[State a];
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 215
trigger6 = prevstateno = 221
trigger7 = prevstateno = 420
trigger8 = prevstateno = 226
trigger9 = prevstateno = 600
trigger10= prevstateno = 610
trigger11= prevstateno = 621
trigger12= prevstateno = 625
trigger13= prevstateno = 805
trigger14= prevstateno = 1005
trigger15= prevstateno = 1015
trigger16= prevstateno = 1100
trigger17= prevstateno = 1300
trigger18= prevstateno = 1320
trigger19= prevstateno = 1400
trigger20= prevstateno = 1700
trigger21= prevstateno = 10200
trigger22= prevstateno = 10400
trigger23= prevstateno = 10210
trigger24= prevstateno = 10410
trigger25= prevstateno = 10215
trigger26= prevstateno = 10220
trigger27= prevstateno = 10420
trigger28= prevstateno = 10226
trigger29= prevstateno = 10600
trigger30= prevstateno = 10610
trigger31= prevstateno = 10621
trigger32= prevstateno = 10625
trigger33= prevstateno = 10805
trigger34= prevstateno = 11000
trigger35= prevstateno = 11100
trigger36= prevstateno = 12000
trigger37= prevstateno = 12100
trigger38= prevstateno = 426
time = 10
;mul = 240,240,240
add = 240,240,240
sinadd = -240,-240,-240,40
;add = -12,-12,-12,20
;mul = 240,240,240
color = 256
ignorehitpause = 1

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 900, 0

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = animtime = 0
value = 931

;---------------------------------------------------------------------------
; Fホーミングダッシュ移動
[Statedef 931]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 931+var(1)*10000
poweradd = 0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
;trigger2 = gametime%18 = 0
value = 900, 1

;---------------------[アニメーション変更]

;---------------------[ヘルパー]
[state a];砂煙エフェクト
type = Helper
triggerall = time != 0
trigger1 = time = 1
trigger2 = gametime % 8 = 0
id = 6020
name = "hom"
sprpriority = -2
pos = -30,0
postype = p1
stateno = 6020
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = 1
x = 10

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = command != "おしっぱなしa" 
value = 932




;---------------------------------------------------------------------------
; Fホーミングダッシュ終了
[Statedef 932]
type    = S
physics = N
anim = 932+var(1)*10000
sprpriority = 1
ctrl = 1

;---------------------[]
[State 01]
type = Velmul
trigger1 = 1
x = 0.88

;---------------------[]
[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

;---------------------[]
[State 04]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; Bホーミングダッシュ始動
[Statedef 935]
type    = A
movetype= I
physics = N
juggle  = 0
velset = -4,-4
ctrl = 0
anim = 935+var(1)*10000
poweradd = 0
sprpriority = 1

[state a];応急処置
type = pause
triggerall = time = 0
trigger1 = prevstateno = [200,899]
trigger2 = prevstateno = [1000,2999]
time = 8
movetime = 8
ignorehitpause = 1

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 215
trigger6 = prevstateno = 221
trigger7 = prevstateno = 420
trigger8 = prevstateno = 226
trigger9 = prevstateno = 600
trigger10= prevstateno = 610
trigger11= prevstateno = 621
trigger12= prevstateno = 625
trigger13= prevstateno = 805
trigger14= prevstateno = 1005
trigger15= prevstateno = 1015
trigger16= prevstateno = 1100
trigger17= prevstateno = 1300
trigger18= prevstateno = 1320
trigger19= prevstateno = 1400
trigger20= prevstateno = 1700
trigger21= prevstateno = 10200
trigger22= prevstateno = 10400
trigger23= prevstateno = 10210
trigger24= prevstateno = 10410
trigger25= prevstateno = 10215
trigger26= prevstateno = 10220
trigger27= prevstateno = 10420
trigger28= prevstateno = 10226
trigger29= prevstateno = 10600
trigger30= prevstateno = 10610
trigger31= prevstateno = 10621
trigger32= prevstateno = 10625
trigger33= prevstateno = 10805
trigger34= prevstateno = 11000
trigger35= prevstateno = 11100
trigger36= prevstateno = 12000
trigger37= prevstateno = 12100
trigger38= prevstateno = 426
persistent = 0
ignorehitpause = 1
var(47) = 120

[State a];
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 215
trigger6 = prevstateno = 221
trigger7 = prevstateno = 420
trigger8 = prevstateno = 226
trigger9 = prevstateno = 600
trigger10= prevstateno = 610
trigger11= prevstateno = 621
trigger12= prevstateno = 625
trigger13= prevstateno = 805
trigger14= prevstateno = 1005
trigger15= prevstateno = 1015
trigger16= prevstateno = 1100
trigger17= prevstateno = 1300
trigger18= prevstateno = 1320
trigger19= prevstateno = 1400
trigger20= prevstateno = 1700
trigger21= prevstateno = 10200
trigger22= prevstateno = 10400
trigger23= prevstateno = 10210
trigger24= prevstateno = 10410
trigger25= prevstateno = 10215
trigger26= prevstateno = 10220
trigger27= prevstateno = 10420
trigger28= prevstateno = 10226
trigger29= prevstateno = 10600
trigger30= prevstateno = 10610
trigger31= prevstateno = 10621
trigger32= prevstateno = 10625
trigger33= prevstateno = 10805
trigger34= prevstateno = 11000
trigger35= prevstateno = 11100
trigger36= prevstateno = 12000
trigger37= prevstateno = 12100
trigger38= prevstateno = 426
time = 10
;mul = 240,240,240
add = 240,240,240
sinadd = -240,-240,-240,40
;add = -12,-12,-12,20
;mul = 240,240,240
color = 256
ignorehitpause = 1

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time <= 7
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 900, 0

;---------------------[]
[state a]
type = veladd
trigger1 = 1
y = 0.4


;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 931


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ガードキャンセルフロンドダッシュ・地上始動
[Statedef 940]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 8,0
ctrl = 0
anim = 940+var(1)*10000
poweradd = 0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
var(47) = 120



;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 920, 0

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[ヘルパー]
[state a];防御エフェクト
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6040
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];当身判定
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6041
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];砂煙エフェクト
type = Helper
triggerall = time != 0
trigger1 = time = 1
trigger2 = gametime % 8 = 0
id = 6020
name = "hom"
sprpriority = -2
pos = -30,0
postype = p1
stateno = 6020
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = time = 23
value = 931

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ガードキャンセルバックダッシュ・地上始動始動
[Statedef 945]
type    = A
movetype= I
physics = N
juggle  = 0
velset = -5,-5
ctrl = 0
anim = 935+var(1)*10000
poweradd = 0
sprpriority = 1

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
var(47) = 120

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 27

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 920, 0

;---------------------[]
[state a]
type = veladd
trigger1 = 1
y = 0.4


;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 931


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ガードキャンセルフロンドダッシュ・空中始動
[Statedef 950]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 950+var(1)*10000
poweradd = 0
sprpriority = 1


;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
var(47) = 120

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 21

;---------------------[アニメーション]
;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 5

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 920, 0

;---------------------[ヘルパー]
[state a];防御エフェクト
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6040
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];当身判定
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6041
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = time = 23
value = 928

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ガードキャンセルバックダッシュ・空中始動
[Statedef 955]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 955+var(1)*10000
poweradd = 0
sprpriority = 1

;---------------------[ホーミング使用回数]
[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(45) = 1

[state a]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(46) = 1


[state a]
type = varset
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
var(47) = 120

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 16

;---------------------[アニメーション]
;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = -8
y = -3

[state a]
type = velmul
trigger1 = 1
x = 0.94

[state a]
type = veladd
trigger1 = 1
y = 0.3

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 920, 0

;---------------------[ヘルパー]
;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = time = 18
value = 928



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;必殺技
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; どこからでもどうぞ
[Statedef 1000]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1000
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 1000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 1001

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1002

;---------------------[無敵]
;---------------------[移動]
;---------------------[音]
[State 200, 1];どこからでもどうぞ
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 0
channel = 3


;---------------------[]
[State 1700, 0];カウンター判定
type = ReversalDef
trigger1 = animelem = 3
reversal.attr = SCA, NA, SA, HA
hitflag = M-
priority = 7, Miss
pausetime = 0,11
sparkno = S-1
hitsound = S0,1
p2facing = 1
p1stateno = 1005

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; どこからでもどうぞ・反撃
[Statedef 1005]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1005
poweradd = 0
sprpriority = 2


;---------------------[]
[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 20
movetime = 20

;---------------------[]
[State 170, 1]
type = NotHitBy
trigger1 = animelem = 5,<=0
value = SCA
time = 1

;---------------------[速度]
[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 225, 1


[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 1
channel = 3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 2


;---------------------[]
[state a];相殺エフェクト
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 30,-90
postype = p1
stateno = 6060
helpertype = normal
pausemovetime = 40
keyctrl = 0 
ownpal = 1

[state a];相殺エフェクト2
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 30,-90
postype = p1
stateno = 6061
helpertype = normal
pausemovetime = 40
keyctrl = 0 
ownpal = 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 125, 10
getpower = 117,117
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s-1;s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.85


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = movehit
id = 1020
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 1020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 410, 4]
type = ChangeState
trigger1 = movehit
trigger1 = command = "holdfwd"
value = 1010

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; どこからでもどうぞ・追尾
[Statedef 1010]
type    = S
movetype= I
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 935
poweradd = 0
sprpriority = 2

[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 1000, 0]
type = MoveHitReset
trigger1 = 1
ignorehitpause =1

[State a];
type = palfx
trigger1 = time = 0
time = 5
add = 255,255,2556
color = 1

;-------------[]
[State 210, 1];
type = PlaySnd
trigger1 = time = 0
value = 1000, 3

;-------------[状態関係]
[state a]
type = posset
trigger1 = time = 0
y = 0

;-------------[]
[State a]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = time = 12
value = 1011

;---------------------------------------------------------------------------
; どこからでもどうぞ・追尾2
[Statedef 1011]
type    = S
physics = N
sprpriority = 1
ctrl = 1

[state a]
type = veladd
trigger1 = time = 0
x = 24

[state a]
type = velmul
trigger1 = 1
x = 0.95

;-------------[状態関係]
[state a]
type = ctrlset
trigger1 = time = 5
value = 1

;-------------[]
[State a]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

;-------------[]
[State a]
type = ChangeState
trigger1 = time = 40
value = 932

[State 04]
type = ChangeState
trigger1 = anim = 932
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GC版どこからでもどうぞ
[Statedef 1015]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1015
poweradd = -500
sprpriority = 2

;---------------------[]
[State 170, 1]
type = NotHitBy
trigger1 = animelem = 5,<=0
value = SCA
time = 1

;---------------------[速度]
[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 225, 1


[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 1
channel = 3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 2


;---------------------[]
[state a];相殺エフェクト
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 30,-90
postype = p1
stateno = 6060
helpertype = normal
pausemovetime = 40
keyctrl = 0 
ownpal = 1

[state a];相殺エフェクト2
type = Helper
trigger1 = time = 0
name = "guard"
sprpriority = -2
pos = 30,-90
postype = p1
stateno = 6061
helpertype = normal
pausemovetime = 40
keyctrl = 0 
ownpal = 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 125, 10
getpower = 117,117
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s-1;s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
p2stateno = 259

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.9


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = var(5) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = movehit
id = 1020
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -75)
postype = p1
stateno = 1020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 410, 4]
type = ChangeState
trigger1 = movehit
trigger1 = command = "holdfwd"
value = 1010

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)エフェクト
[Statedef 1020]
type = A
ctrl = 0
anim = 1020
;velset = 0,0
movetype = I
physics = N
sprpriority = 3

;---------------------[変数]
[state a]
type = varadd
trigger1 = 2
v = 1
value = 8

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = angledraw
trigger1 = 1
scale = 1+time*0.3,1+time*0.3

;---------------------[]
[State 170, 1]
type = destroyself
trigger1 = var(1) >= 256
;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; アースクラッシュ
[Statedef 1100]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1100
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 1100

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 1101

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1102

;---------------------[無敵]
;---------------------[]
[State 1020, 4]
type = EnvShake
trigger1 = AnimElem = 4
time = 12
ampl = -8
freq = 95
phase = 95

;---------------------[音]
[State 200, 1];ぬおおおおぉぉぉ
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100, 0
channel = 3

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100, 1

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100, 2

;---------------------[ヘルパー]
[state a];岩
type = Helper
trigger1 = animelem = 4
id = 1110
name = "iwa"
sprpriority = -2
pos = 97+var(5)*60,0
postype = p1
stateno = 1110
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];当たり判定
type = Helper
trigger1 = animelem = 4
id = 1111
name = "hit"
sprpriority = -2
pos = 97+var(5)*60,0
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; 岩
[Statedef 1110]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1110
poweradd = 0
sprpriority = 2

;---------------------[]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5,1.5

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
; 当たり判定
[Statedef 1111]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1111
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
trigger1 = root,var(5) = 0
v = 1
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = root,var(5) = 1
v = 1
value = 1


[state a]
type = varset
trigger1 = time = 0
trigger1 = root,var(5) = 2
v = 1
value = 2

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SP
damage = floor(87+var(1)*21*root,fvar(5)), 15
getpower = 117,117
animtype = diagup
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 14
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1,-11
guard.velocity = -9
airguard.velocity = -7,-4
air.type = High
air.velocity = -1,-11
air.hittime = 20
yaccel = 0.14
fall = 1
fall.recover = 1
fall.recovertime = 66

;---------------------[七星ゲージ]
[state a]
type = parentvaradd
trigger1 = movehit
trigger1 = root,var(5) != 0
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.86


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -55)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -55)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 1112

;---------------------[]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5,1.5

;---------------------[ステートチェンジ]
[state a]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
; 当たり判定消滅
[Statedef 1112]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1111
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ステートチェンジ]
[state a]
type = destroyself
trigger1 = time = 0

;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ダンクレシーブ
[Statedef 1200]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1200
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 1200

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 1201

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1202

;---------------------[速度]
[state a]
type = veladd
trigger1 = animelem = 2
trigger1 = var(5) = 1
x = 2

[state a]
type = veladd
trigger1 = animelem = 2
trigger1 = var(5) = 2
x = 6

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 3
value = 320, 0

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 3
attr = A, ST
hitflag = AF
priority = 3, hit
sparkno = s-1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1205
p2stateno = 1210
fall = 1
;nochainID = 600,9999

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げ
[Statedef 1205]
type    = A
movetype= A
physics = N
anim = 1205
juggle  = 0
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 1
value = 400, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 3
value = 1200, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 47, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 400, 3


;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 47,-150

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 4,-156

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 76,-57

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 93,0


[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 4
value = -floor(84*fvar(5))
kill = 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
damage = 102, 0
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 18, 18
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6,-11
airguard.velocity = -6,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.46
fall = 1
fall.recover = 1
fall.recovertime = 15+40

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.73


;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = animelem = 4
id = 6000
name = "down"
sprpriority = -2
pos = 95,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];掴み
type = Helper
trigger1 = time = 0
id = 6070
name = "hit"
pos = 47,-150
postype = p1
stateno = 6070
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 4
id = 7001
name = "hit"
pos = 93,0
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 55,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 3
edge = 85,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 4
edge = 100,0

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 1210]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1210

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ビッグタイフーン
[Statedef 1300]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1300
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 1300

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 1301

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1302


;---------------------[]
[state a]
type = velset
trigger1 = AnimElem = 2
x = 1+var(5)*0.5

[state a]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = vel x < 5
x = 0.05

[state a]
type = veladd
trigger1 = command = "holdback"
trigger1 = vel x > -5
x = -0.05
;---------------------[音]
[State 200, 1];まわれぇぇぇ
type = PlaySnd
trigger1 = AnimElem = 2
;trigger1 = var(5) != 2
value = 1300, 0
channel = 3

[State 200, 1];まわれぇぇぇ
type = null;PlaySnd
trigger1 = time = 4
trigger1 = var(5) = 2
value = 1300, 1
channel = 3

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300, 2

;---------------------[]
[state a]
type = playerpush
trigger1 = 1
value = 0

;---------------------[攻撃]
[state a]
type = varset
trigger1 = animelem = 3
v = 6
value = 0

[state a]
type = varset
trigger1 = animelem = 5
v = 6
value = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
attr = S, SA
damage = floor(43-hitcount*4.5), 5
getpower = 37,37
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = ifelse(var(6) = 0,8,-8),-7
airguard.velocity = ifelse(var(6) = 0,4,-4),-5
guard.velocity = ifelse(var(6) = 0,8,-8)
air.type = High
air.velocity = ifelse(var(6) = 0,4,-4),-5
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit = 1
;persistent = 0
ignorehitpause = 0
fvar(5) = fvar(5)*0.92


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
trigger1 = numhelper(7002) = 0
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -115)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
;persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numhelper(7050) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -115)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
;persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2
id = 1310
name = "efe"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 1310
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 2
id = 1311
name = "efe"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 1310
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time = 40 + var(5) * 22
value = 1305

;---------------------------------------------------------------------------
; ビッグタイフーン終了
[Statedef 1305]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1305
poweradd = 0
sprpriority = 1

;---------------------[]
[state a]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time = 18+var(5)*8
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; エフェクト
[Statedef 1310]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1310
poweradd = 0
sprpriority = 2


;---------------------[]
[state a]
type = bindtoroot
trigger1 = ishelper(1310)
pos = 0,-130

[state a]
type = bindtoroot
trigger1 = ishelper(1311)
pos = 0,-50

;---------------------[]
[state a]
type = angledraw
trigger1 = ishelper(1311)
scale = 0.75,0.75

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = root,stateno != 1300 && root,stateno != 1320

;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]


;---------------------------------------------------------------------------
; 空中ビッグタイフーン
[Statedef 1320]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1320
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 1320

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 1321

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1322


;---------------------[]
[state a]
type = velset
trigger1 = AnimElem = 2
y = -0.5-var(5)*0.5

[state a]
type = veladd
trigger1 = vel y > -3.5
y = -0.1

;---------------------[音]
[State 200, 1];まわれぇぇぇ
type = PlaySnd
trigger1 = AnimElem = 2
;trigger1 = var(5) != 2
value = 1300, 0
channel = 3

[State 200, 1];まわれぇぇぇ
type = null;PlaySnd
trigger1 = time = 4
trigger1 = var(5) = 2
value = 1300, 1
channel = 3

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300, 2

;---------------------[]
[state a]
type = playerpush
trigger1 = 1
value = 0

;---------------------[攻撃]
[state a]
type = varset
trigger1 = animelem = 3
v = 6
value = 0

[state a]
type = varset
trigger1 = animelem = 5
v = 6
value = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
attr = A, SA
damage = floor(43-hitcount*4.5), 5
getpower = 37,37
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = ifelse(var(6) = 0,8,-8),-7
airguard.velocity = ifelse(var(6) = 0,4,-4),-7
guard.velocity = ifelse(var(6) = 0,8,-8)
air.type = High
air.velocity = ifelse(var(6) = 0,4,-4),-7
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit = 1
;persistent = 0
ignorehitpause = 0
fvar(5) = fvar(5)*0.88


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
trigger1 = numhelper(7002) = 0
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -115)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
;persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numhelper(7050) = 0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -115)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
;persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2
id = 1310
name = "efe"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 1310
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 2
id = 1311
name = "efe"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 1310
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time = 40 + var(5) * 22
value = 1325

;---------------------------------------------------------------------------
; 空中ビッグタイフーン・落下
[Statedef 1325]
type    = A
movetype= I
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1325
poweradd = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = veladd
trigger1 = 1
y = 0.36

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; アースクエイク
[Statedef 1400]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1400
poweradd = 0
sprpriority = 1

;---------------------[]
[state a]
type = velset
trigger1 = time = 0
x = 0
y = 0

[state a]
type = veladd
trigger1 = animelem = 4
y = 5.5

[state a]
type = veladd
trigger1 = animelem = 3,>=20
trigger1 = vel y < 15
y = 0.5

;---------------------[音]
[State 200, 1];よいしょ
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400, 0
channel = 3

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage = 115, 25
getpower = 87,87
animtype = hard
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = high
ground.slidetime = 24
ground.hittime  = 24
ground.velocity = -6
airguard.velocity = -5,-4
guard.velocity = -9
air.type = High
air.velocity = -4,-5
air.hittime = 30
air.fall = 1
fall.recover = 1
fall.recovertime = 30

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.9


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -85)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -85)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 40
value = 1405

;---------------------------------------------------------------------------
; アースクエイク・着地
[Statedef 1405]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1405
poweradd = 0
sprpriority = 1

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 47, 0

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 400, 2

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 1100, 2

;---------------------[]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[]
[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 18
ampl = -12
freq = 95
phase = 95

;---------------------[ヘルパー]
[state a];地震
type = Helper
trigger1 = time = 0
id = 1410
name = "efe"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 1410
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];
type = Helper
trigger1 = time = 0
id = 6000
name = "down"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];
type = Helper
trigger1 = time = 0
id = 6022
name = "down"
sprpriority = -2
pos = -50,0
postype = p1
stateno = 6022
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];
type = Helper
trigger1 = time = 0
id = 6022
name = "down"
sprpriority = -2
pos = 50,0
postype = p1
stateno = 6022
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
facing = -1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;---------------------------------------------------------------------------
; 地震
[Statedef 1410]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1410
poweradd = 0
sprpriority = 2

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage = floor(42*root,fvar(5)), 0
getpower = 57,57
animtype = hard
guardflag = N
hitflag = MF
priority = 4, Hit
pausetime = 0, 14
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-4
guard.velocity = -9
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 20
fall = 0
fall.recover = 1
fall.recovertime = 66
kill = 0

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.50


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ステートチェンジ]
[state a]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ビッグハッグ
[Statedef 1500]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1500
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[速度]
[state a]
type = posadd
trigger1 = animelem = 2
x = 40

[state a]
type = posadd
trigger1 = animelem = 10
x = -40

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 3
value = 320, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 801, 0

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 3
attr = S, ST
hitflag = M-
priority = 1, miss
sparkno = s-1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1505
p2stateno = 1510
fall = 1
;nochainID = 600,9999

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げ
[Statedef 1505]
type    = A
movetype= A
physics = N
anim = 1505
juggle  = 0
sprpriority = 2

;---------------------[速度]
[state a]
type = posadd
trigger1 = time = 0
x = -40

;---------------------[サウンド]
[State 810, Grab Sound];とびなさーい
type = PlaySnd
trigger1 = animelem = 2
value = 1500, 0
channel = 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 3
value = 320, 0


;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = velmul
trigger1 = 1
x = 0.8

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 110,-20

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 90,-70

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 80,-100

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 172, 0
animtype = up
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 18, 18
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-11
airguard.velocity = -2,-11
air.type = High
air.velocity = -1.0,-11
air.hittime = 20
yaccel = 0.52
fall = 1
fall.recover = 1
fall.recovertime = 15+40

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = AnimElem = 2
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.83


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -145)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 120,0

[State a]
type = varset
trigger1 = 1
v = 15
value = 2

;---------------------[ステートチェンジ]
[state a]
type = changestate
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 1510]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1510

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 逃げちゃダメ
[Statedef 1600]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1600
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[音]
[State 200, 1];吸い込み
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600, 0
channel = 3

[State 200, 1];吸い込み
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600, 1
channel = 5

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 5,>= 0
trigger1 = time % 6 = 0
id = 1605
name = "efe"
sprpriority = -2
pos = 60,-210
postype = p1
stateno = 1605
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 5,>= 0
trigger1 = time % 6 = 0
id = 1605
name = "efe"
sprpriority = -2
pos = 110,-160
postype = p1
stateno = 1605
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 5,>= 0
trigger1 = time % 6 = 0
id = 1605
name = "efe"
sprpriority = -2
pos = 110,-120
postype = p1
stateno = 1605
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 5,>= 0
trigger1 = time % 6 = 0
id = 1605
name = "efe"
sprpriority = -2
pos = 60,-70
postype = p1
stateno = 1605
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];吸い寄せ当たり判定
type = Helper
trigger1 = time % 20 = 10
id = 1610
name = "efe"
sprpriority = -2
pos = -100,0
postype = p2
stateno = 1610
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time = 50 + var(5) * 20
value = 1601

;---------------------------------------------------------------------------
; 逃げちゃダメ終了
[Statedef 1601]
type    = S
movetype= I
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1601
poweradd = 0
sprpriority = 1

;---------------------[音]
[State 200, 1];
type = stopSnd
trigger1 = time = 0
channel = 3

[State 200, 1];
type = stopSnd
trigger1 = time = 0
channel = 5

;---------------------[]
[state a]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; 吸い寄せエフェクト
[Statedef 1605]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1605
poweradd = 0
sprpriority = 2


;---------------------[]
[state a]
type = velset
trigger1 = 1
x = 12.5*((ParentDist x)/(abs(ParentDist x) + abs(ParentDist y - 135) + 0.0000001))
y = 12.5*((ParentDist y - 135)/(abs(ParentDist x) + abs(ParentDist y - 135) + 0.0000001))


;---------------------[]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state a]
type = angledraw
trigger1 = 1
scale = 2-time*0.2,2-time*0.2


;---------------------[]
[state a]
type = destroyself
trigger1 = root,stateno != 1600
trigger2 = time = 10


;----------------------------------------------------------------------------
; 吸い寄せ当たり判定
[Statedef 1610]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 35,0
ctrl = 0
anim = 1610
poweradd = 0
sprpriority = 2


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = velmul
trigger1 = 1
x = 0.85

[state a]
type = playerpush
trigger1 = 1
value = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,stateno != 1600
trigger2 = time = 20

;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 肉クロス
[Statedef 1700]
type    = A
movetype= A
physics = A
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1700
poweradd = 0
sprpriority = 1

;---------------------[]
[state a]
type = velset;add
trigger1 = animelem = 2
y = -5

[state a]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = vel x < 5
x = 0.1

[state a]
type = veladd
trigger1 = command = "holdback"
trigger1 = vel x > -5
x = -0.1
;---------------------[音]
[State 200, 1];それぃ
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 0
channel = 3

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage = 162, 25
getpower = 141,141
animtype = diagup
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 15, 15
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,-9
airguard.velocity = -6,-6
guard.velocity = -6
air.type = High
air.velocity = -6,-6
air.hittime = 30
yaccel = 0.54
fall = 1
fall.recover = 0
fall.recovertime = 30

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.92


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -115)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +15) , floor(p2dist y/2 -115)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;肉ダンク
[Statedef 1800]
type    = A
movetype= A
physics = A
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1800
sprpriority = 1

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = time = 0
attr = A, ST
hitflag = AF
priority = 3, hit
sparkno = s-1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1805
p2stateno = 1810
fall = 1
;nochainID = 600,9999

;---------------------[]
[state a]
type = changestate
trigger1 = animtime = 0
value = 610

;---------------------------------------------------------------------------
; 肉ダンク・投げ
[Statedef 1805]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1805
poweradd = 0
sprpriority = 1

;---------------------[]
[state a]
type = veladd
trigger1 = animelem = 8,>=0
y = 0.52

[state a]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = vel x < 5
trigger1 = animelem = 8,>=0
x = 0.1

[state a]
type = veladd
trigger1 = command = "holdback"
trigger1 = vel x > -5
trigger1 = animelem = 8,>=0
x = -0.1
;---------------------[音]
[State 200, 1];ぬふふふ
type = PlaySnd
trigger1 = AnimElem = 1
value = 1800, 0
channel = 3

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 320, 0

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 40,-105

[State 801, 2]
type = TargetBind
trigger1 = animelem = 5
pos = 40,-35

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
damage = 104, 25
getpower = 141,141
animtype = up
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 15, 15
guard.pausetime = 0, 5
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 3
guard.sparkno = s-1
guardsound = s120, 2
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,14
airguard.velocity = 0,14
guard.velocity = -6
air.type = High
air.velocity = 0,14
air.hittime = 30
yaccel = 0.54
fall = 1
fall.recover = 0
fall.recovertime = 30

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.50


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -85)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -85)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = ctrlset
trigger1 = animelem = 8
value = 1

[State 200, 7]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 1810]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1810

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;人体スローイング
[Statedef 1850]
type    = A
movetype= A
physics = A
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 1850
sprpriority = 1

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 3
value = 801, 0


;---------------------[]
[state a]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = vel x < 5
x = 0.1

[state a]
type = veladd
trigger1 = command = "holdback"
trigger1 = vel x > -5
x = -0.1

;---------------------[]
[State 800, 1]
type = HitDef
Trigger1 = time = 0
attr = A, ST
hitflag = AF
priority = 3, hit
sparkno = s-1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1855
p2stateno = 1860
fall = 1
;nochainID = 600,9999

;---------------------[]

;---------------------------------------------------------------------------
; 人体スローイング・投げ
[Statedef 1855]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1855
poweradd = 0
sprpriority = 1



;---------------------[]
[state a]
type = veladd
trigger1 = animelem = 9,>=0
y = 0.52

[state a]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = vel x < 5
trigger1 = animelem = 9,>=0
x = 0.1

[state a]
type = veladd
trigger1 = command = "holdback"
trigger1 = vel x > -5
trigger1 = animelem = 9,>=0
x = -0.1
;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 1
value = 400, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 1850, 0
channel = 3

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 350, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 1300, 2

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 74,-136

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = -32,-135

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = -51,-150

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 70,-20

[State 801, 2]
type = Targetstate
trigger1 = animelem = 4
value = 260

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 4
value = -floor(125*fvar(5))

;---------------------[ダメージ補正]
[state a]
type = varset
trigger1 = animelem = 4
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.72


;---------------------[]
[state a];壁バウンドエフェクト
type = Helper
trigger1 = animelem = 4
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[state a]
type = ctrlset
trigger1 = animelem = 11
value = 1

[State 200, 7]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 1860]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1860

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; はぁと・鉄拳パンチ
[Statedef 11000]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 11000
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 11000

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 11001

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 11002
;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = veladd
trigger1 = AnimElem = 2 && anim = 11000
trigger2 = AnimElem = 7 && anim = 11001
trigger3 = AnimElem = 13 && anim = 11002
trigger4 = AnimElem = 3 && anim = 11000
trigger5 = AnimElem = 8 && anim = 11001
trigger6 = AnimElem = 14 && anim = 11002
x = 2+var(5)*2

[state a]
type = veladd
trigger1 = AnimElem = 4 && anim = 11000
trigger2 = AnimElem = 9 && anim = 11001
trigger3 = AnimElem = 15 && anim = 11002
x = 8

[state a]
type = velmul
trigger1 = 1
x = 0.9

[state a]
type = velset
trigger1 = AnimElem = 7 && anim = 11000
trigger2 = AnimElem = 13 && anim = 11001
trigger3 = AnimElem = 24 && anim = 11002
x = 3

;---------------------[音]
[State 200, 1];パンチ
type = PlaySnd
trigger1 = AnimElem = 2 && anim = 11000
trigger2 = AnimElem = 7 && anim = 11001
trigger3 = AnimElem = 13 && anim = 11002
value = 8030, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2 && anim = 11000
trigger2 = AnimElem = 7 && anim = 11001
trigger3 = AnimElem = 13 && anim = 11002
value = 8030, 1

[State 200, 1];投げ
type = PlaySnd
trigger1 = AnimElem = 3 && anim = 11000
trigger2 = AnimElem = 8 && anim = 11001
trigger3 = AnimElem = 14 && anim = 11002
value = 320, 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = anim = 11000
trigger2 = AnimElem = 9
trigger2 = anim = 11001
attr = S, SA
damage = 84+ var(5)*11, 10
getpower = 100,100
animtype = hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8
air.type = High
air.velocity = -2.2,-4.3
air.hittime = 30
air.fall = 1
fall.recover = 1
fall.recovertime = 30
yaccel = 0.4

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 15
trigger1 = anim = 11002
attr = S, SA
damage = 114, 20
getpower = 100,100
animtype = hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 17, 17
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 24
ground.hittime  = 24
ground.velocity = -11
air.type = High
air.velocity = -3,-4.3
air.hittime = 26
air.fall = 1
fall.recover = 1
fall.recovertime = 26
yaccel = 0.45
p2stateno = 259

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(5) = 2
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];砂煙エフェクト
type = Helper
trigger1 = AnimElem = 2 && anim = 11000
trigger2 = AnimElem = 7 && anim = 11001
trigger3 = AnimElem = 13 && anim = 11002
id = 6020
name = "hom"
sprpriority = -2
pos = -30,0
postype = p1
stateno = 6020
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];パンチエフェクト1
type = Helper
trigger1 = AnimElem = 4 && anim = 11000
trigger2 = AnimElem = 9 && anim = 11001
trigger3 = AnimElem = 15 && anim = 11002
id = 11010
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -55)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -55)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit && anim = 11002
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; エフェクト
[Statedef 11010]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8031
poweradd = 0
sprpriority = 7


;---------------------[]
[state a]
type = bindtoparent
trigger1 = parent,stateno = 11000
pos = 76,-52

;---------------------[]
[state a]
type = changeanim
triggerall = anim != 8032
trigger1 = parent,anim = 11000
trigger1 = parent,animelem = 7
trigger2 = parent,anim = 11001
trigger2 = parent,animelem = 13
trigger3 = parent,anim = 11002
trigger3 = parent,animelem = 24
trigger4 = parent,stateno != 11000
value = 8032

;---------------------[]
[state a];パンチエフェクト2
type = Helper
trigger1 = time = 4
id = 11011
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11011
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = anim = 8032 && animtime = 0
trigger2 = root,stateno != [11000,11099]

;----------------------------------------------------------------------------
; エフェクト2
[Statedef 11011]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8032
poweradd = 0
sprpriority = 6


;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = parent,anim = 8032
trigger2 = root,stateno != [11000,11099]

;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; はぁと・はーとふるぱんち
[Statedef 11100]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 11100
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 11100

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 11101

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 11102

[state a]
type = changeanim
trigger1 = time = 14 && anim = 11100
trigger2 = time = 22 && anim = 11101
trigger3 = time = 26 && anim = 11102
value = 11105


;---------------------[無敵]
[State 181, 1]
type = NotHitBy
trigger1 = time <= 3 && var(5) = 0
trigger2 = time <= 7 && var(5) = 1
trigger3 = time <= 13 && var(5) = 2
value = SCA
time = 1

[State 181, 1]
type = NotHitBy
trigger1 = time >= 4 && time <= 5 && var(5) = 0
trigger2 = time >= 8 && time <= 9 && var(5) = 1
value = SCA,NT,ST,HT
time = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = statetypeset
trigger1 = animelem = 5
value = A

[state a]
type = veladd
trigger1 = time = 0 && var(5) = 2 && anim != 11105
x = 1.5

[state a]
type = veladd
trigger1 = animelem = 5 && var(5) = 0 && anim != 11105
x = 1
y = -2.5

[state a]
type = veladd
trigger1 = animelem = 5 && var(5) = 1 && anim != 11105
x = 1.5
y = -3.6

[state a]
type = veladd
trigger1 = animelem = 5 && var(5) = 2 && anim != 11105
x = 1.2
y = -12.6


[state a]
type = veladd
trigger1 = animelem = 5,>=0 && anim != 11105 && var(5) != 2
y = 0.1

[state a]
type = veladd
trigger1 = animelem = 5,>=0 && anim != 11105 && var(5) = 2
y = 0.4

[state a]
type = veladd
trigger1 = anim = 11105 && var(5) != 2
y = 0.21

[state a]
type = veladd
trigger1 = anim = 11105 && var(5) = 2
y = 0.46

[state a]
type = velmul
trigger1 = 1
x = 0.995

[state a]
type = velmul
trigger1 = anim = 11105
x = 0.97



;---------------------[音]
[State 200, 1];どっかーん
type = PlaySnd
trigger1 = AnimElem = 3 && anim != 11105
value = 8040, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 1 && anim = 11105
value = 8040, 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ifelse(var(5) = 0,76, ifelse(var(5) = 1,99,114)), 10
getpower = 100,100
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 14, 14
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.2,-14
air.type = High
air.velocity = -1.2,-14
air.hittime = 72
fall = 1
fall.recover = 1
fall.recovertime = 72
yaccel = 0.3
palfx.time =72
palfx.mul = 220,110,200
palfx.sinadd = 23,25,28,28
palfx.add = 74,31,70

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = movecontact = 0
attr = S, SA
damage = ifelse(var(5) = 0,91, ifelse(var(5) = 1,114,137)), 20
getpower = 100,100
animtype = hard
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 18, 18
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.2,-14
air.type = High
air.velocity = -1.2,-14
air.hittime = 82
fall = 1
fall.recover = 1
fall.recovertime = 82
yaccel = 0.3
palfx.time =82
palfx.mul = 220,110,200
palfx.sinadd = 23,25,28,28
palfx.add = 74,31,70

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger1 = movecontact = 0
attr = A, SA
damage = 46, 10
getpower = 100,100
animtype = hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.2,-14
air.type = High
air.velocity = -1.2,-14
air.hittime = 72
fall = 1
fall.recover = 1
fall.recovertime = 72
yaccel = 0.3

;---------------------[ヘルパー]
[State explod];エフェクト
type = Explod
trigger1 = time = 0
anim = 11115+ var(5)
id = 11115+ var(5)
sprpriority = 7
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256,256

[state a];エフェクト
type = Helper
trigger1 = animelem = 5 && anim != 11105
id = 11115+ var(5)
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11115
helpertype = normal
pausemovetime = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

[state a];リボン
type = Helper
trigger1 = AnimElem = 5 && anim != 11105
id = 11120
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11120
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
trigger1 = statetype != A
id = 7001
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -55)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
trigger1 = statetype = A
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -72)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = statetype != A
id = 7050
name = "hit"
pos = floor(p2dist x/2 +30) , floor(p2dist y/2 -55)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = statetype = A
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -72)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 11110

;---------------------------------------------------------------------------
; 着地
[Statedef 11110]
type    = S
physics = N
ctrl = 0
anim = 11110
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 10047, 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; エフェクト
[Statedef 11115]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8046
poweradd = 0
sprpriority = 7

;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = changestate
trigger1 = root,anim = 11105
value = 11116

[state a]
type = destroyself
trigger1 = root,stateno != [11100,11199]
trigger1 = root,stateno != [12100,12199]

;----------------------------------------------------------------------------
; エフェクト2
[Statedef 11116]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0.5,-1.5
ctrl = 0
anim = 8047
poweradd = 0
sprpriority = 7


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------
; リボン
[Statedef 11120]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8043
poweradd = 0
sprpriority = 3


;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[]
[state a]
type = changeanim
trigger1 = parent,anim = 11105
trigger1 = parent,animelem = 1
value = 8044

;---------------------[]
[state a]
type = destroyself
trigger1 = anim = 8044 && animtime = 0
trigger2 = root,stateno != [11100,11199]
trigger2 = root,stateno != [12100,12199]


;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; はぁと・空中はーとふるぱんち
[Statedef 11130]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 11130
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 11130

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 11131

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 11132

[state a]
type = changeanim
trigger1 = time = 10 && anim = 11130
trigger2 = time = 17 && anim = 11131
trigger3 = time = 22 && anim = 11132
value = 11105

;---------------------[無敵]
[State 181, 1]
type = NotHitBy
trigger1 = time = 0 && var(5) = 0
trigger2 = time <= 4 && var(5) = 1
trigger3 = time <= 6 && var(5) = 2
value = SCA
time = 1

[State 181, 1]
type = NotHitBy
trigger1 = time >= 7 && time <= 9 && var(5) = 2
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = veladd
trigger1 = animelem = 3 && var(5) = 0 && anim != 11105
x = 1
y = -5.5

[state a]
type = veladd
trigger1 = animelem = 3 && var(5) = 1 && anim != 11105
x = 1.5
y = -7.6

[state a]
type = veladd
trigger1 = animelem = 3 && var(5) = 2 && anim != 11105
x = 2.7
y = -12.6


[state a]
type = veladd
trigger1 = animelem = 3,>=0 && anim != 11105 && var(5) != 2
y = 0.3

[state a]
type = veladd
trigger1 = animelem = 3,>=0 && anim != 11105 && var(5) = 2
y = 0.4

[state a]
type = veladd
trigger1 = anim = 11105
y = 0.46

[state a]
type = velmul
trigger1 = 1
x = 0.995

[state a]
type = velmul
trigger1 = anim = 11105
x = 0.97



;---------------------[音]
[State 200, 1];どっかーん
type = PlaySnd
trigger1 = AnimElem = 2 && anim != 11105
value = 8040, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 1 && anim = 11105
value = 8040, 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage = ifelse(var(5) = 0,46, ifelse(var(5) = 1,61,76)), 15
getpower = 100,100
animtype = hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.2,-14
air.type = High
air.velocity = -1.2,-14
air.hittime = 72
fall = 1
fall.recover = 1
fall.recovertime = 72
yaccel = 0.3

;---------------------[ヘルパー]
[State explod];エフェクト
type = Explod
trigger1 = time = 0
anim = 11140+ var(5)
id = 11140+ var(5)
sprpriority = 7
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256,256

[state a];エフェクト
type = Helper
trigger1 = animelem = 3 && anim != 11105
id = 11115+ var(5)
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11115
helpertype = normal
pausemovetime = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

[state a];リボン
type = Helper
trigger1 = AnimElem = 3 && anim != 11105
id = 11120
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11120
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7001
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -82)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = floor(p2dist x/2 +20) , floor(p2dist y/2 -82)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 11110


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; はぁと・りぼんびーむ
[Statedef 11200]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 11200
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 11200

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 11201

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 11202

;---------------------[無敵]
[State 181, 1]
type = NotHitBy
trigger1 = time <= 4
value = SCA,NT,ST,HT
time = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a]
type = veladd
trigger1 = animelem = 2 && var(5) = 0
x = 2.5
y = -3.8

[state a]
type = veladd
trigger1 = animelem = 2 && var(5) = 1
x = 3.5
y = -4.6

[state a]
type = veladd
trigger1 = animelem = 2 && var(5) = 2
x = 3.8
y = -5.8


[state a]
type = veladd
trigger1 = animelem = 2,>=0 && var(5) = 0
y = 0.3

[state a]
type = veladd
trigger1 = animelem = 2,>=0 && var(5) = 1
y = 0.35

[state a]
type = veladd
trigger1 = animelem = 2,>=0 && var(5) = 2
y = 0.4



;---------------------[音]
[State 200, 1];もらったー！
type = PlaySnd
trigger1 = AnimElem = 2
value = 8050, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 8040, 1

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 5
id = 11215
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11215
helpertype = normal
pausemovetime = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = time = 23 && var(5) = 0
trigger2 = time = 30 && var(5) = 1
trigger3 = time = 32 && var(5) = 2
id = 11220
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 11220
helpertype = normal
pausemovetime = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 11210

;---------------------------------------------------------------------------
; 着地
[Statedef 11210]
type    = S
physics = N
ctrl = 0
anim = 11210
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0


;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 0
value = 11210

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 11211

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 11212

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 10047, 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; エフェクト
[Statedef 11215]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8052
poweradd = 0
sprpriority = 7

;---------------------[]
[state a]
type = bindtoparent
trigger1 = animelem = 4,<=0
pos = 0,0

[state a]
type = velset
trigger1 = animelem = 4
x = (root,vel x * 0.5)
y = 2

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != [11200,11299]


;---------------------------------------------------------------------------
; 当たり判定
[Statedef 11220]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8053
poweradd = 0
sprpriority = 2

;---------------------[変数]
;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage = floor(57*root,fvar(5)), 15
getpower = 112,112
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0, 11
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -7
guard.velocity = -6
airguard.velocity = -7,11
air.type = High
air.velocity = -3,11
air.hittime = 56
yaccel = 0.14
air.fall = 1
fall.recover = 1
fall.recovertime = 56
palfx.time =34
palfx.mul = 220,110,200
palfx.sinadd = 23,25,28,28
palfx.add = 74,31,70

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit && fvar(5) < 1.0
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.87

[state a]
type = parentvarset
trigger1 = movehit && fvar(5) = 1.0
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.7


;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -55)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +25) , floor(p2dist y/2 -55)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 1112

;---------------------[]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5,1.5

;---------------------[ステートチェンジ]
[state a]
type = destroyself
trigger1 = animtime = 0


;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; はぁと・必殺きっく
[Statedef 11300]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 11300
poweradd = 0
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "x"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "y"
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "z"
v = 5
value = 2


;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0
y = -5

[state a]
type = veladd
trigger1 = time = 0 && var(5) = 0
x = 0

[state a]
type = veladd
trigger1 = time = 0 && var(5) = 1
x = 2.5

[state a]
type = veladd
trigger1 = time = 0 && var(5) = 2
x = 4.2

[state a]
type = veladd
trigger1 = animelem = 7,<0
y = 0.35


[state a]
type = velset
trigger1 = animelem = 7
x = 1
y = 12

[state a]
type = veladd
trigger1 = animelem = 7,>=0
y = 0.45


;---------------------[音]
[State 200, 1];きーっく
type = PlaySnd
trigger1 = AnimElem = 6
value = 11300, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 8030, 1

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage = 80, 15
getpower = 100,100
animtype = hard
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 16, 16
sparkno = s-1
sparkxy = 0, 0
hitsound = s10420, 0
guard.sparkno = s-1
guardsound = s120, 1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.2,14
guard.velocity = -8
air.type = High
air.velocity = -1.2,14
air.hittime = 56
fall = 1
fall.recover = 1
fall.recovertime = 56
yaccel = 0.3

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = movehit
trigger1 = var(8) = 1
v = 28
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 6
id = 11310
name = "efe"
pos = 0 , 0
postype = p1
stateno = 11310
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7001
name = "hit"
pos = floor(p2dist x/2 +10) , floor(p2dist y/2 -52)
postype = p1
stateno = 7030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = floor(p2dist x/2 +10) , floor(p2dist y/2 -52)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 11305


;---------------------------------------------------------------------------
; 着地
[Statedef 11305]
type    = S
physics = N
ctrl = 0
anim = 11305
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

;---------------------[音]
[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 10047, 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 15100, 0

;---------------------[]
[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 8
ampl = -8
freq = 95
phase = 95

;---------------------[]
[state a];
type = Helper
trigger1 = time = 0
id = 6022
name = "down"
sprpriority = -2
pos = -40,0
postype = p1
stateno = 6022
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];
type = Helper
trigger1 = time = 0
id = 6022
name = "down"
sprpriority = -2
pos = 60,0
postype = p1
stateno = 6022
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
facing = -1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
; エフェクト
[Statedef 11310]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 11310
poweradd = 0
sprpriority = 7

;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[]
[state a]
type = changeanim
trigger1 = root,stateno = 11305
trigger1 = anim != 11311
value = 11311

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = anim = 11311 && animtime = 0
trigger2 = root,stateno != [11300,11399]

;----------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]





;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;コモンステート
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Varのラウンド持ち越し
[Statedef 5900]
type = S

[state a];変身解除
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a];変身解除
type = varset
trigger1 = time = 0
v = 3
value = 0

[state a];アルカナフォース
type = varset
trigger1 = time = 0
v = 21
value = 0

[state a];ホーミング
type = varset
trigger1 = time = 0
v = 45
value = 0

[state a];ホーミングゲージ
type = varset
trigger1 = time = 0
v = 46
value = 0

[state a];アルカナ内自由変数初期化
type = varset
trigger1 = time = 0
v = 31
value = 0

[state a];アルカナ内自由変数初期化
type = varset
trigger1 = time = 0
v = 32
value = 0

[state a];アルカナ内自由変数初期化
type = varset
trigger1 = time = 0
v = 33
value = 0

[state a];アルカナ内自由変数初期化
type = varset
trigger1 = time = 0
v = 34
value = 0



[state a];七星ゲージ増減
type = varadd
trigger1 = time = 0
v = 28
value = -1
IgnoreHitPause = 1
persistent = 0

[state a];七星ゲージ増減
type = varset
trigger1 = time = 0
trigger1 = var(29) = 1
v = 28
value = 0
IgnoreHitPause = 1
persistent = 0

[state a];テーレッテーフラグ初期化
type = varset
trigger1 = time = 0
v = 29
value = 0

;---------------------[ヘルパー]
[state a];アルカナセレクト
type = Helper
trigger1 = numhelper(6400) = 0
trigger1 = var(2) = 0
id = 6400
name = "ar"
pos = 0,0
postype = p1
stateno = 6400
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
first = 3
last = 59
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[state a];愛乃はぁと
type = Helper
trigger1 = numhelper(8000) = 0
trigger1 = roundno != 1
id = 8000
name = "aino"
sprpriority = 1
pos = -20,0
postype = p1
stateno = 8000
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;常時管理ステート
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef -2]
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;::::::::
[state -2, a];右向き設定
type = varset
trigger1 = var(10) = 0
trigger1 = facing = 1
v = 10
value = 1

[state -2, a];左向き設定
type = varset
trigger1 = var(10) = 0
trigger1 = facing = -1
v = 10
value = 2

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;::::::::モード判別

[state -2, a];デバッグテスト用
type = null;varset
trigger1 = var(1) = 0
trigger1 = command = "start"
v = 1
value = 2


[state -2, a];デバッグテスト用
type = null;varset
trigger1 = var(1) = 1
trigger1 = command = "start"
v = 1
value = 0

[state -2, a];デバッグテスト用
type = null;varset
trigger1 = var(1) = 2
v = 1
value = 1

;---------------------[無敵]
[State a]
type = NotHitBy
trigger1 = var(1) = 1
value = SCA
time = 1
ignorehitpause = 1

[State 1000, 0]
type = HitBy
trigger1 = var(1) = 1
value = SCA,NA,SA,HA,NP,SP,HP
time = 1
ignorehitpause = 1

[State 1000, 0]
type = HitOverride
trigger1 = var(1) = 1
trigger1 = stateno != [120,159]
attr = SCA,NA,SA,HA,NP,SP,HP
time = 1
ignorehitpause = 1

[state a];愛乃はぁと
type = Helper
trigger1 = numhelper(8000) = 0
trigger1 = stateno != 190
trigger1 = stateno != 191
trigger1 = stateno != 5900
id = 8000
name = "aino"
sprpriority = 1
pos = -20,0
postype = p1
stateno = 8000
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1


[State 210, Width];プレイヤーの押し戻し判定変更
type = Width
trigger1 = var(1) = 1
player = -10,0

[state a]
type = null;changestate
triggerall = movetype = H
trigger1 = ishelper
value = 8000

;::::::::カウンターヒット設定
[state a]
type = varset
trigger1 = enemy,movetype != A
v = 8
value = 0

[state a]
type = varset
trigger1 = enemy,movetype = A
v = 8
value = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;ダメージ時のエフェクト、サウンドの消去
;//////////////////////////////////////////////////////////////////////////
;ダメージ時ののエフェクトの消去
[State 1];
type = removeexplod
trigger1 = MoveType = H
ID = 3000

;ダメージ時のサウンドの消去
[state a]
type = stopsnd
trigger1 = MoveType = H
channel = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;二段ジャンプ、ハイジャンプ
;//////////////////////////////////////////////////////////////////////////
;---------------------[変数指定]
[State -2, a];
type = varset
trigger1 = statetype != A
v = 16
value = 0


[State 00]
type = varset
trigger1 = command = "ハイジャンプ"
v = 15
value = 2

[State -2, a];
type = varadd
trigger1 = stateno != [40,50]
trigger1 = var(15) > 0
v = 15
value = -1


;///////////////////////////////////////////////////////////////////////
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;コンボによるダメージ補正
;//////////////////////////////////////////////////////////////////////////
; 
; 
;---------------------[アルカナ別基礎攻撃力補正]
[state a];パターン1
type = varset
trigger1 = var(2) = 1;愛のアルカナ・パルティニアス
trigger2 = var(2) = 4;樹のアルカナ・モリオモト
trigger3 = var(2) = 8;闇のアルカナ・ギーァ
trigger4 = var(2) = 9;魔のアルカナ・ディウー・モール
fvar(2) = 0

[state a];パターン2
type = varset
trigger1 = var(2) = 2;雷のアルカナ・ヴァンリー
trigger2 = var(2) = 11;鋼のアルカナ・オレイカルコス
fvar(2) = 0.02

[state a];パターン3
type = varset
trigger1 = var(2) = 3;時のアルカナ・アヌトゥパーダ
trigger2 = var(2) = 5;土のアルカナ・オホツチ
trigger3 = var(2) = 7;風のアルカナ・テンペスタス
trigger4 = var(2) = 10;水のアルカナ・ニプトラ
fvar(2) = -0.02

[state a];パターン4
type = varset
trigger1 = var(2) = 6;火のアルカナ・ランゴン
fvar(2) = 0.04

;---------------------[アルカナ別基礎防御力補正]
[state a];パターン1
type = varset
trigger1 = var(2) = 1;愛のアルカナ・パルティニアス
trigger2 = var(2) = 10;水のアルカナ・ニプトラ
fvar(3) = 0

[state a];パターン2
type = varset
trigger1 = var(2) = 2;雷のアルカナ・ヴァンリー
fvar(3) = -0.05

[state a];パターン3
type = varset
trigger1 = var(2) = 3;時のアルカナ・アヌトゥパーダ
trigger2 = var(2) = 7;風のアルカナ・テンペスタス
fvar(3) = -0.05

[state a];パターン4
type = varset
trigger1 = var(2) = 4;樹のアルカナ・モリオモト
fvar(3) = -0.07

[state a];パターン5
type = varset
trigger1 = var(2) = 5;土のアルカナ・オホツチ
fvar(3) = 0.04

[state a];パターン6
type = varset
trigger1 = var(2) = 6;火のアルカナ・ランゴン
fvar(3) = -0.04

[state a];パターン7
type = varset
trigger1 = var(2) = 8;闇のアルカナ・ギーァ
fvar(3) = -0.03

[state a];パターン8
type = varset
trigger1 = var(2) = 9;魔のアルカナ・ディウー・モール
fvar(3) = -0.02

[state a];パターン9
type = varset
trigger1 = var(2) = 11;鋼のアルカナ・オレイカルコス
fvar(3) = 0.02

;---------------------[アルカナフォース別攻撃力補正]
[state a];愛のアルカナ・パルティニアス
type = varset
trigger1 = var(2) = 1
trigger1 = var(21) = 1
fvar(6) = 0.05

[state a];雷のアルカナ・ヴァンリー
type = varset
trigger1 = var(2) = 2
trigger1 = var(21) = 1
fvar(6) = 0.08

[state a];時のアルカナ・アヌトゥパーダ
type = varset
trigger1 = var(2) = 3
trigger1 = var(21) = 1
fvar(6) = 0.00

[state a];樹のアルカナ・モリオモト
type = varset
trigger1 = var(2) = 4
trigger1 = var(21) = 1
fvar(6) = 0.03

[state a];土のアルカナ・オホツチ
type = varset
trigger1 = var(2) = 5
trigger1 = var(21) = 1
fvar(6) = 0.00

[state a];火のアルカナ・ランゴン
type = varset
trigger1 = var(2) = 6
trigger1 = var(21) = 1
fvar(6) = 0.1

[state a];風のアルカナ・テンペスタス
type = varset
trigger1 = var(2) = 7
trigger1 = var(21) = 1
fvar(6) = 0.03

[state a];闇のアルカナ・ギーァ
type = varset
trigger1 = var(2) = 8
trigger1 = var(21) = 1
fvar(6) = 0.00

[state a];魔のアルカナ・ディウー・モール
type = varset
trigger1 = var(2) = 9
trigger1 = var(21) = 1
fvar(6) = 0.03

[state a];水のアルカナ・ニプトラ
type = varset
trigger1 = var(2) = 10
trigger1 = var(21) = 1
fvar(6) = 0.03

[state a];鋼のアルカナ・オレイカルコス
type = varset
trigger1 = var(2) = 11
trigger1 = var(21) = 1
fvar(6) = 0.3


[state a];変数の初期化
type = varset
trigger1 = var(21) != 1
;trigger2 = var(21) = 2
fvar(6) = 0

;---------------------[アルカナフォース別防御補正]
[state a];愛のアルカナ・パルティニアス
type = varset
trigger1 = var(2) = 1
trigger1 = var(21) = 1
fvar(7) = 0.05

[state a];雷のアルカナ・ヴァンリー
type = varset
trigger1 = var(2) = 2
trigger1 = var(21) = 1
fvar(7) = 0.02

[state a];時のアルカナ・アヌトゥパーダ
type = varset
trigger1 = var(2) = 3
trigger1 = var(21) = 1
fvar(7) = 0.00

[state a];樹のアルカナ・モリオモト
type = varset
trigger1 = var(2) = 4
trigger1 = var(21) = 1
fvar(7) = 0.00

[state a];土のアルカナ・オホツチ
type = varset
trigger1 = var(2) = 5
trigger1 = var(21) = 1
fvar(7) = 0.30

[state a];火のアルカナ・ランゴン
type = varset
trigger1 = var(2) = 6
trigger1 = var(21) = 1
fvar(7) = 0.00

[state a];風のアルカナ・テンペスタス
type = varset
trigger1 = var(2) = 7
trigger1 = var(21) = 1
fvar(7) = 0.03

[state a];闇のアルカナ・ギーァ
type = varset
trigger1 = var(2) = 8
trigger1 = var(21) = 1
fvar(7) = 0.05

[state a];魔のアルカナ・ディウー・モール
type = varset
trigger1 = var(2) = 9
trigger1 = var(21) = 1
fvar(7) = 0.03

[state a];水のアルカナ・ニプトラ
type = varset
trigger1 = var(2) = 10
trigger1 = var(21) = 1
fvar(7) = 0.03

[state a];鋼のアルカナ・オレイカルコス
type = varset
trigger1 = var(2) = 11
trigger1 = var(21) = 1
fvar(7) = 0.3


[state a];変数の初期化
type = varset
trigger1 = var(21) != 1
;trigger2 = var(21) = 2
fvar(7) = 0
;---------------------[ダメージ補正]
[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 10215
fvar(5) = fvar(5)*0.96

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 600
trigger4 = prevstateno = 10200 && fvar(5) < 1.0
trigger5 = prevstateno = 10400 && fvar(5) < 1.0
trigger6 = prevstateno = 10600
fvar(5) = fvar(5)*0.95

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 210
trigger2 = prevstateno = 215
trigger3 = prevstateno = 410
trigger4 = prevstateno = 610
trigger5 = prevstateno = 10210
trigger6 = prevstateno = 10410
trigger7 = prevstateno = 10615
trigger8 = prevstateno = 11100 && var(5) = 0
trigger9 = prevstateno = 11130 && var(5) = 0
fvar(5) = fvar(5)*0.91

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 420
trigger2 = prevstateno = 10610
trigger3 = prevstateno = 11100 && var(5) = 1
trigger4 = prevstateno = 11130 && var(5) = 1
fvar(5) = fvar(5)*0.87

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 221
trigger2 = prevstateno = 621
trigger3 = prevstateno = 625
trigger4 = prevstateno = 226
trigger5 = prevstateno = 426
trigger6 = prevstateno = 10220
trigger7 = prevstateno = 10420
trigger8 = prevstateno = 10620
trigger9 = prevstateno = 10625
trigger10= prevstateno = 10226
trigger11= prevstateno = 10426
trigger12= prevstateno = 11000 && var(5) != 2
trigger13= prevstateno = 11100 && var(5) = 2
trigger14= prevstateno = 11130 && var(5) = 2
trigger15= prevstateno = 11300
fvar(5) = fvar(5)*0.83

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 10200 && fvar(5) = 1.0
fvar(5) = fvar(5)*0.8

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 10400 && fvar(5) = 1.0
trigger2 = prevstateno = 11000 && var(5) = 2
fvar(5) = fvar(5)*0.70

[state a]
type = varset
triggerall = time = 1
trigger1 = prevstateno = 805
trigger2 = prevstateno = 830
trigger3 = prevstateno = 10805
trigger4 = prevstateno = 12000
fvar(5) = fvar(5)*0.50

;---------------------[補正値の初期化]
[state a]
type = varset
trigger1 = enemy,movetype != H
fvar(5) = 1.0


;---------------------[]
[state a];補正
type = null;varset
trigger1 = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) > 1
fvar(4) = fvar(5);((100.0-(25.0+(enemy,gethitvar(hitcount)/2.0)*5.0))/100.0)

[state a]
type = attackmulset
trigger1 = 1
value = (1+fvar(2)+fvar(6)+ifelse((var(2) = 11 && var(32)>0),0.3,0)) * fvar(5)

[state a]
type = DefenceMulSet
trigger1 = 1
value = 1.0-fvar(3)-fvar(7)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;//////////////////////////////////////////////////////////////////////////
;ダメージボイス
[state a]
type = PlaySnd
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
triggerall = alive = 1
trigger1 = GetHitVar(animtype) = 0
value = 5000 + var(1)*10000,0+(random%7)
persistent = 0

[state a]
type = PlaySnd
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
triggerall = alive = 1
trigger1 = GetHitVar(animtype) = 1
value = 5001 + var(1)*10000,0+(random%7)
persistent = 0

[state a]
type = PlaySnd
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
triggerall = alive = 1
trigger1 = GetHitVar(animtype) = 2
trigger2 = GetHitVar(animtype) = 3
trigger3 = GetHitVar(animtype) = 4
value = 5002 + var(1)*10000,0+(random%7)
persistent = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;勝利時のサウンドストップ
;//////////////////////////////////////////////////////////////////////////
;
[State 1];テーレッテー
type = AssertSpecial
trigger1 = var(29) = 1
flag = nomusic
ignorehitpause = 1


[State 1]
type = varset
triggerall = lose
trigger1 = roundstate = 4
v = 25
value = 1

[state a]
type = stopsnd
trigger1 = RoundState = 2
channel = 2
ignorehitpause = 1

[state a];イントロ時ボイスの消去
type = stopsnd
trigger1 = RoundState = 2
channel = 4
ignorehitpause = 1

[state a]
type = playsnd
triggerall = var(12) = 0
triggerall = var(1) = 0
trigger1 = loseKO
trigger2 = life = 0
IgnoreHitPause = 1
persistent = 0
value = 12,random%3
channel = 4

[state a]
type = playsnd
triggerall = var(12) = 0
triggerall = var(1) = 1
trigger1 = loseKO
trigger2 = life = 0
IgnoreHitPause = 1
persistent = 0
value = 10012,0+var(25)
channel = 4

[state a]
type = playsnd
trigger1 = LoseKO
trigger1 = RoundState = 3
trigger1 = var(12) = 0
trigger1 = var(1) = 0
trigger1 = (p2name = "KENSHIRO" || p4name = "KENSHIRO")
trigger1 = enemy,stateno = 8805
IgnoreHitPause = 1
persistent = 0
value = 13,0
channel = 4

[state a]
type =  varset
trigger1 = RoundState = 3
IgnoreHitPause = 1
v = 12
value = 1

[state a]
type = varset
trigger1 = RoundState = 2
IgnoreHitPause = 1
v = 12
value = 0


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;
;//////////////////////////////////////////////////////////////////////////
[State -2, a];タイムカウントテスト用
type = null;palfx
trigger1 = var(2) = 1
time = 1
add = 126,126,0
;mul = 126,126,0
color = 1
ignorehitpause = 1


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;アルカナフォース関係
;//////////////////////////////////////////////////////////////////////////
;---------------------[ゲージの減少]
[State -2, a];
type = poweradd
trigger1 = var(21) = 1
trigger1 = Alive = 1
value = -10

[state a]
type = varset
trigger1 =  var(21) = 1
trigger1 = power <= 0
v = 21
value = 2

;========================[００・パルティニアス]
;---------------------[背景色]
[State a]
type = BGPalFX
trigger1 = var(21) = 1
trigger1 = var(2) = 1
time = 2
add =40,0,40
;mul =256-floor(var(1)/2),256-var(1)*2,256-var(1)*2
;sinadd = 200,200,200,100
invertall = 0
color = 256
ignorehitpause = 1


;========================[０３・モリオモト]
[State -2, a];体力回復
type = lifeadd
trigger1 = var(21) = 1
trigger1 = Alive = 1
trigger1 = gametime % 2
trigger1 = var(2) = 4
value = 1

;---------------------[背景色]
[State a]
type = BGPalFX
trigger1 = var(21) = 1
trigger1 = var(2) = 4
time = 2
add =0,50,0
;mul =256-floor(var(1)/2),256-var(1)*2,256-var(1)*2
;sinadd = 200,200,200,100
invertall = 0
color = 256
ignorehitpause = 1

;========================[０５・ランゴン]
;---------------------[ＡＢ、画面外への飛び出し]
[state a]
type = ScreenBound
trigger1 = numhelper(4120) != 0
value = 0
movecamera = 0,0
ignorehitpause = 1

;---------------------[背景色]
[State a]
type = BGPalFX
trigger1 = var(21) = 1
trigger1 = var(2) = 6
time = 2
add =50,0,0
invertall = 0
color = 256
ignorehitpause = 1


;========================[０７・ギーァ]
;---------------------[ヘルパー]
[state a];ギーァ本体
type = Helper
trigger1 = numhelper(4070) = 0
trigger1 = numhelper(6400) = 0
trigger1 = var(2) = 8
id = 4070
name = "Gier"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 4070
helpertype = normal
pausemovetime = 1
keyctrl = 1 
ownpal = 1

;---------------------[背景色]
[State a]
type = BGPalFX
trigger1 = var(21) = 1
trigger1 = var(2) = 8
time = 2
add =-30,-30,0
invertall = 0
color = 256
ignorehitpause = 1

;========================[０８・ディウー・モール]
;---------------------[]
[State a]
type = targetpoweradd
trigger1 = var(21) = 1
trigger1 = var(2) = 9
trigger1 = numhelper(7060) != 0
trigger1 = gametime % 3 != 0
value = -10
ignorehitpause = 1
persistent = 0

;---------------------[背景色]
[State a]
type = BGPalFX
trigger1 = var(21) = 1
trigger1 = var(2) = 9
time = 2
add =10,-50,10
invertall = 0
color = 256
ignorehitpause = 1


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;ゲージ関係
;//////////////////////////////////////////////////////////////////////////
;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time != 0
trigger1 = numhelper(6500) = 0
trigger1 = numhelper(6400) = 0
id = 6500
name = "g"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 6500
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a]
type = varadd
trigger1 = var(45) > 0
;trigger1 = var(46) >= 1
trigger1 = var(46) < 180
trigger1 = var(47) = 0
v = 46
value = 1
ignorehitpause = 1

[state a]
type = varadd
trigger1 = var(46) >= 180
v = 45
value = -1
ignorehitpause = 1

[state a]
type = varset
trigger1 = var(46) >= 180
v = 46
value = 0
ignorehitpause = 1

[state a]
type = varadd
trigger1 = var(47) > 0
v = 47
value = -1

;///////////////////////////////////////////////////////////////////////
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[state a];七星ゲージ
type = Helper
trigger1 = numhelper(20000) = 0
id = 20000
name = "sichisei"
sprpriority = 10
pos = -50,-160
postype = front
stateno = 20000
helpertype = normal
pausemovetime = 0
bindtime = -1
keyctrl = 0 
ownpal = 1


[state a]
type = varset
trigger1 = var(28) <= 0
v = 28
value = 0

[state a]
type = varset
trigger1 = var(28) >= 7
v = 28
value = 7


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;管理ステート
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[Statedef -3]
;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
value = 47 + var(1)*10000, 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;空中ダッシュ、バックダッシュの仕込み
;//////////////////////////////////////////////////////////////////////////
;---------------------[変数指定]
[State -2, a];
type = varset
trigger1 = command = "ダッシュ"
v = 14
value = 40
ignorehitpause = 1

[State -2, a];
type = varset
trigger1 = command = "バックダッシュ"
v = 14
value = -40
ignorehitpause = 1

[State -2, a];
type = varadd
trigger1 = var(14) > 0
v = 14
value = -1

[State -2, a];
type = varadd
trigger1 = var(14) < 0
v = 14
value = -1