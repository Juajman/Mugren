;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;アルカナ必殺技００・パルティニアス
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ロズ　スフェラ
[Statedef 2400]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2400
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = anim + 10000

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 4000, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 4180, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 6
id = 4180
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4180
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];弾
type = Helper
trigger1 = time = 22
id = 4185
name = "tama"
pos = 0,0
postype = p1
stateno = 4185
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4180]
type = A
ctrl = 0
anim = 4180
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 26,-80

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = changeanim
trigger1 = root,stateno = 2400 && root,animelem = 14
trigger2 = root,stateno = 2415 && root,animelem = 22
value = 4181



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32


;---------------------[透過、拡縮]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2,>=0
trigger1 = time <= 14
trigger1 = gametime % 2 = 0
id = 4182
name = "hom"
sprpriority = 1
pos = -(Random%50),-10+(Random%70)
postype = p1
stateno = 4181
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H
trigger3 = anim = 4181
trigger3 = animtime = 0


;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その２
[Statedef 4181]
type = A
ctrl = 0
anim = 4182+random%3
velset = 0,-2
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varadd
trigger1 = 1
var(1) = 16

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)*0.5),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256

;----------------------------------------------------------------------------
;(HELPER)弾
[Statedef 4185]
type = A
ctrl = 0
anim = 4185
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 26,-80

;---------------------[]
[state a]
type = varadd
trigger1 = var(1) < 30
v = 1
value = 1

[state a]
type = veladd
trigger1 = 1
x = 0.05

[state a]
type = null;veladd
trigger1 = p2dist y > 55
y = 0.025

[state a]
type = null;veladd
trigger1 = p2dist y < 50
y = -0.025

[state a]
type = null;velmul
trigger1 = pos y >= -30
y = 0.7

[state a]
type = velset
trigger1 = 1
y = var(1)*0.1*((p2dist y-30)/(abs(p2dist x) + abs(p2dist y-30) + 0.0000001))

;---------------------[]
[State explod];エフェクト
type = Explod
trigger1 = time % 3 = 0
anim = 4187
id = 4187
sprpriority = 1
postype = p1
pos = -10,-5 + (random%20)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
;trans = addalpha
;alpha = 206,166

[State explod];エフェクト
type = Explod
trigger1 = time % 3 = 1
anim = 4187
id = 4187
sprpriority = 1
postype = p1
pos = -10,-15 + (random%20)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
;trans = addalpha
;alpha = 206,166

[State explod];エフェクト
type = Explod
trigger1 = time % 3 = 2
anim = 4187
id = 4187
sprpriority = 1
postype = p1
pos = -10,5 + (random%20)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
;trans = addalpha
;alpha = 206,166

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage    = floor(57*root,fvar(5)),10
getpower = 30,30
priority = 3, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 4,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s10450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.87


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 4186

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = frontedgedist < -20

;---------------------[]
[state a]
type = changestate
trigger1 = movecontact
trigger2 = time = 300
value = 4186

;----------------------------------------------------------------------------
;(HELPER)弾消滅
[Statedef 4186]
type = A
ctrl = 0
anim = 4186
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varadd
trigger1 = animelem = 5,>=0
var(1) = 16

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)*0.5),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ロズ　トクソ
[Statedef 2405]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2405
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = anim + 10000

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 4000, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 4188, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 7
id = 4188
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4188
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];ビームエフェクト
type = Helper
trigger1 = animelem = 6
id = 4190
name = "bi-"
pos = 0,0
postype = p1
stateno = 4190
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];ビーム
type = Helper
trigger1 = time = 19
id = 4192
name = "bi-"
pos = 0,0
postype = p1
stateno = 4192
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4188]
type = A
ctrl = 0
anim = 4188
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 26,-80

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = changeanim
trigger1 = root,stateno = 2405 && root,animelem = 15
value = 4189



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32


;---------------------[透過、拡縮]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2,>=0
trigger1 = time <= 14
trigger1 = gametime % 2 = 0
id = 4182
name = "hom"
sprpriority = 1
pos = -(Random%50),-10+(Random%70)
postype = p1
stateno = 4181
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H
trigger3 = anim = 4189
trigger3 = animtime = 0

;----------------------------------------------------------------------------
;(HELPER)ビーム
[Statedef 4190]
type = A
ctrl = 0
anim = 4190
velset = 0,0
movetype = A
physics = N
sprpriority = 1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 26,-80

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 255

[state a]
type = varadd
trigger1 = time > 0
trigger1 = time <= 7
var(1) = -35


[state a]
type = varadd
trigger1 = time >= 15
var(1) = 16

;---------------------[]
[state a];ビームエフェクト2
type = Helper
trigger1 = time = 0
id = 4191
name = "bi-"
pos = 0,0
postype = p1
stateno = 4191
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)ビーム2
[Statedef 4191]
type = A
ctrl = 0
anim = 4191
velset = 0,0
movetype = A
physics = N
sprpriority = 1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = 1
pos = 151,0

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 255

[state a]
type = varadd
trigger1 = time > 0
trigger1 = time <= 7
var(1) = -35


[state a]
type = varadd
trigger1 = time >= 15
var(1) = 16

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)),256

[state a]
type = angledraw
trigger1 = 1
scale = 100,1

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)ビーム当たり判定
[Statedef 4192]
type = A
ctrl = 0
anim = 4192
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 26,-80


;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage    = floor(84*root,fvar(5)),10
getpower = 30,30
priority = 3, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 4,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s10450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.83


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7000
name = "hit"
pos = floor(p2dist x +10) , floor(p2dist y/2 -35)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x +10) , floor(p2dist y/2 -35)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = angledraw
trigger1 = 1
scale = 1,1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ロズ　キクロス1
[Statedef 2410]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2410
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = anim + 10000

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 4000, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 4180, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = time = 0
id = 4195
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4195
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7];反射
type = ChangeState
trigger1 = numhelper(4195)
trigger1 = helper(4195),stateno = 4197
value = 2412

[State 200, 7]
type = ChangeState
trigger1 = time >= 31
trigger1 = command != "おしっぱなしa"
trigger2 = time >= 128
value = 2411


;---------------------------------------------------------------------------
; ロズ　キクロス2
[Statedef 2411]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2411
poweradd = 0
sprpriority = 1

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = anim + 10000

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ロズ　キクロス・反射成功
[Statedef 2412]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
;anim = 2411
poweradd = 0
sprpriority = 1

[state a]
type = changeanim
trigger1 = time = 24
value = 2411

[state a]
type = changeanim
trigger1 = time = 24
trigger1 = statetype = A
value = 12411

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[]
[state a];弾
type = Helper
trigger1 = time = 34
id = 4198
name = "tama"
pos = 0,0
postype = p1
stateno = 4198
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = anim = 12411
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = anim = 2411
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)バリア
[Statedef 4195]
type = A
ctrl = 0
anim = 4195
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 26,-80

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = changeanim
trigger1 = root,stateno = 2411 && root,animelem = 1
value = 4196



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32


;---------------------[]
[state a];エフェクト
type = null;Helper
trigger1 = animelem = 2,>=0
trigger1 = time <= 14
trigger1 = gametime % 2 = 0
id = 4182
name = "hom"
sprpriority = 1
pos = -(Random%50),-10+(Random%70)
postype = p1
stateno = 4181
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 4197

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H
trigger3 = anim = 4196
trigger3 = animtime = 0


;----------------------------------------------------------------------------
;(HELPER)反射
[Statedef 4197]
type = A
ctrl = 0
anim = 4197
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time <= 35
pos = 26,-80

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = animelem = 9
var(2) = 1

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32


;---------------------[]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2,>=0
trigger1 = time <= 14
trigger1 = gametime % 2 = 0
id = 4182
name = "hom"
sprpriority = 1
pos = -(Random%50),-10+(Random%70)
postype = p1
stateno = 4181
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H
;trigger3 = anim = 4196
;trigger3 = animtime = 0


;----------------------------------------------------------------------------
;(HELPER)弾
[Statedef 4198]
type = A
ctrl = 0
anim = 4198
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 26,-80

;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = var(1) < 50
v = 1
value = 1

[state a]
type = velset
trigger1 = 1
x = var(1)*0.1*((p2dist x)/(abs(p2dist x) + abs(p2dist y-30) + 0.0000001))
y = var(1)*0.1*((p2dist y-30)/(abs(p2dist x) + abs(p2dist y-30) + 0.0000001))

;---------------------[]
[state a];エフェクト
type = Helper
trigger1 = time != 0
trigger1 = time % 5 = 0
id = 4199
name = "hom"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 4199
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
trigger2 = movehit = 1
trigger2 = hitcount <= 2
attr = S, SP
damage = floor(38*root,fvar(5)),5
getpower = 30,30
priority = 3, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 4,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s10450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit = 1
ignorehitpause = 0
fvar(5) = root,fvar(5)*0.91


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 4186

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = frontedgedist < -20

;---------------------[]
[state a]
type = changestate
trigger1 = hitcount >= 3
trigger2 = moveguarded
trigger3 = time = 500
value = 4186

;----------------------------------------------------------------------------
;(HELPER)エフェクト
[Statedef 4199]
type = A
ctrl = 0
anim = 4199
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; トリス　スフェラ
[Statedef 2415]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2415
poweradd = ifelse(var(21) = 1,0,-1000)
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

[state a];背景出現時間
type = varset
trigger1 = time = 0
v = 22
value = 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-75
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = anim + 10000

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%2)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4180, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 5
id = 4180
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4180
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];弾
type = Helper
trigger1 = time = 48
id = 4200
name = "tama"
pos = 22,-57
postype = p1
stateno = 4200
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];弾
type = Helper
trigger1 = time = 56
id = 4201
name = "tama"
pos = 22,-57
postype = p1
stateno = 4200
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];弾
type = Helper
trigger1 = time = 64
id = 4202
name = "tama"
pos = 22,-57
postype = p1
stateno = 4200
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1




;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)弾
[Statedef 4200]
type = A
ctrl = 0
anim = 4185
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
trigger1 = ishelper(4200)
pos = 26+10,-80

[state a]
type = bindtoroot
trigger1 = time = 0
trigger1 = ishelper(4201)
pos = 26,-80-8

[state a]
type = bindtoroot
trigger1 = time = 0
trigger1 = ishelper(4202)
pos = 26-5,-80+7

;---------------------[]
[state a]
type = varadd
trigger1 = var(1) < 50
v = 1
value = 1

[state a]
type = veladd
trigger1 = 1
x = 0.055

[state a]
type = null;veladd
trigger1 = p2dist y > 55
y = 0.05

[state a]
type = null;veladd
trigger1 = p2dist y < 50
y = -0.05

[state a]
type = null;velmul
trigger1 = pos y >= -30
y = 0.7

[state a]
type = velset
trigger1 = 1
y = var(1)*0.1*((p2dist y-30)/(abs(p2dist x) + abs(p2dist y-30) + 0.0000001))

;---------------------[]
[State explod];エフェクト
type = Explod
trigger1 = time % 4 = 0
anim = 4187
id = 4187
sprpriority = 1
postype = p1
pos = -10,-5 + (random%20)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
;trans = addalpha
;alpha = 206,166

[State explod];エフェクト
type = Explod
trigger1 = time % 4 = 1
anim = 4187
id = 4187
sprpriority = 1
postype = p1
pos = -10,-15 + (random%20)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
;trans = addalpha
;alpha = 206,166

[State explod];エフェクト
type = Explod
trigger1 = time % 4 = 2
anim = 4187
id = 4187
sprpriority = 1
postype = p1
pos = -10,5 + (random%20)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5
;trans = addalpha
;alpha = 206,166

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
damage    = floor(57*root,fvar(5)),10
getpower = 0,0
priority = 5, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 4,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s10450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.95


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 4186

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = frontedgedist < -20

;---------------------[]
[state a]
type = changestate
trigger1 = movecontact
trigger2 = time = 300
value = 4186

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ウラニオ　トクソ
[Statedef 2420]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2420
poweradd = ifelse(var(21) = 1,0,-1000)
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

[state a];背景出現時間
type = varset
trigger1 = time = 0
v = 22
value = 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-75
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = anim + 10000

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%2)

[State 200, 1];
type = PlaySnd
trigger1 = time = 63
value = 4201, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 6
id = 4201
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4201
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];リング1
type = Helper
trigger1 = time = 45
id = 4202
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4202
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];リング2
type = Helper
trigger1 = time = 45
id = 4203
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4202
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];リング3
type = Helper
trigger1 = time = 45
id = 4204
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4202
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];ビーム
type = Helper
trigger1 = time = 45
id = 4205
name = "bi-"
pos = 0,0
postype = p1
stateno = 4205
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];ビーム当たり判定
type = Helper
trigger1 = time = 64
id = 4207
name = "bi-"
pos = 0,0
postype = p1
stateno = 4207
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4201]
type = A
ctrl = 0
anim = 4201
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 26,-80

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2420 && root,animelem = 41
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 16
var(1) = -16

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 16


;---------------------[透過、拡縮]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2,>=0
trigger1 = time <= 14
trigger1 = gametime % 2 = 0
id = 4182
name = "hom"
sprpriority = 1
pos = -(Random%50),-10+(Random%70)
postype = p1
stateno = 4181
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)ビーム、リング
[Statedef 4202]
type = A
ctrl = 0
anim = 4202
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = varset
trigger1 = ishelper(4202)
v = 1
value = 0

[state a]
type = varset
trigger1 = ishelper(4203)
v = 1
value = 1

[state a]
type = varset
trigger1 = ishelper(4204)
v = 1
value = 2

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(1) = 1
value = 4203

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(1) = 2
value = 4204

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = time <= 20
v = 2
value = 1+var(1)

[state a]
type = varadd
trigger1 = time >= 80
v = 2
value = -1-var(1)


[state a]
type = bindtoroot
trigger1 = 1
pos = 26+var(2)*0.5,-80

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(3) = 256

[state a]
type = varset
trigger1 = time = 0
var(4) = 0


[state a]
type = varset
trigger1 = root,stateno = 2420 && root,animelem = 41
var(4) = 1



[state a]
type = varadd
trigger1 = time <= 16
var(3) = -16

[state a]
type = varadd
trigger1 = var(4) != 0
var(3) = 16


;---------------------[透過、拡縮]
[state a];エフェクト
type = Helper
trigger1 = animelem = 2,>=0
trigger1 = time <= 14
trigger1 = gametime % 2 = 0
id = 4182
name = "hom"
sprpriority = 1
pos = -(Random%50),-10+(Random%70)
postype = p1
stateno = 4181
helpertype = normal
pausemovetime = 30
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = time >= 100;var(3) >= 256
;trigger1 = var(4) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)ビーム
[Statedef 4205]
type = A
ctrl = 0
anim = 4205
velset = 0,0
movetype = A
physics = N
sprpriority = 1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 26,-80

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 255

[state a]
type = varadd
trigger1 = time > 0
trigger1 = time <= 16
var(1) = -16


[state a]
type = varadd
trigger1 = time >= 80
var(1) = 16


[state a]
type = varset
trigger1 = time = 0
var(2) = 0

[state a]
type = varadd
trigger1 = time > 0
trigger1 = time <= 20
var(2) = 4

[state a]
type = varadd
trigger1 = time >= 80
var(2) = -4

;---------------------[]
[state a];ビームエフェクト2
type = Helper
trigger1 = time = 0
id = 4206
name = "bi-"
pos = 0,0
postype = p1
stateno = 4206
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)),256

[state a]
type = angledraw
trigger1 = 1
scale = 2,var(2)*0.01

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)ビーム2
[Statedef 4206]
type = A
ctrl = 0
anim = 4206
velset = 0,0
movetype = A
physics = N
sprpriority = 1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = 1
pos = 372,0

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 255

[state a]
type = varadd
trigger1 = time > 0
trigger1 = time <= 16
var(1) = -16


[state a]
type = varadd
trigger1 = time >= 80
var(1) = 16


[state a]
type = varset
trigger1 = time = 0
var(2) = 0

[state a]
type = varadd
trigger1 = time > 0
trigger1 = time <= 20
var(2) = 4

[state a]
type = varadd
trigger1 = time >= 80
var(2) = -4

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)),256

[state a]
type = angledraw
trigger1 = 1
scale = 100,var(2)*0.01

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger2 = root,movetype = H


;----------------------------------------------------------------------------
;(HELPER)ビーム当たり判定
[Statedef 4207]
type = A
ctrl = 0
anim = 4207
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 26,-80


;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time % 2
attr = S, HP
damage    = floor(12*root,fvar(5)),1
getpower = 0,0
priority = 4, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 1,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s10450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit = 1
ignorehitpause = 0
fvar(5) = root,fvar(5)*0.984


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7001
name = "hit"
pos = floor(p2dist x +10) , floor(p2dist y/2 -35)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = floor(p2dist x +10) , floor(p2dist y/2 -35)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = angledraw
trigger1 = 1
scale = 1,1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H


;---------------------------------------------------------------------------
; 属性効果[トラペズィオ]
[Statedef 2425]
type    = A
physics = N
anim = 2425
velset = 0,0
ctrl = 1

;---------------------[音]
[State 200, 1];
type = null;PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4180, 0

;---------------------[透過、拡縮]
[state a];エフェクト1
type = Helper
trigger1 = time = 0
id = 2427
name = "hom"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 2427
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト2
type = Helper
trigger1 = time % 24 = 0
trigger2 = time = 0
trigger3 = time = 1
id = 4208
name = "hom"
sprpriority = 1
pos = floor(-5+(random%100)*0.1),floor(-50+(random%100)*0.1)
postype = p1
stateno = 4208
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト3
type = Helper
trigger1 = time % 24 = 6
trigger2 = time = 0
trigger3 = time = 1
id = 4209
name = "hom"
sprpriority = 1
pos = floor(-5+(random%100)*0.1),floor(-50+(random%100)*0.1)
postype = p1
stateno = 4208
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト3
type = Helper
trigger1 = time % 24 = 12
trigger2 = time = 0
trigger3 = time = 1
id = 4210
name = "hom"
sprpriority = 1
pos = floor(-5+(random%100)*0.1),floor(-50+(random%100)*0.1)
postype = p1
stateno = 4208
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト4
type = Helper
trigger1 = time % 24 = 18
trigger2 = time = 0
trigger3 = time = 1
id = 4211
name = "hom"
sprpriority = 1
pos = floor(-5+(random%100)*0.1),floor(-50+(random%100)*0.1)
postype = p1
stateno = 4208
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = veladd
trigger1 = vel y <= 1.2
y = 0.02

[state a]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = vel x < const(velocity.jump.fwd.x)
x = 0.2

[state a]
type = veladd
trigger1 = command = "holdback"
trigger1 = vel x > const(velocity.jump.back.x)
x = -0.2

[state a]
type = velmul
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0.9

;---------------------[]
[State 45, 7];
type = ChangeState
trigger1 = command != "holdup"
trigger2 = time >= 180
value = 2426
ctrl = 1

[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 2426]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;----------------------------------------------------------------------------
;(HELPER)エフェクト１
[Statedef 2427]
type = A
ctrl = 0
anim = 2425
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varadd
trigger1 = 1
var(1) = 16

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)),256

[state a]
type = angledraw
trigger1 = 1
scale = 1+time*0.05,1+time*0.05

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256

;----------------------------------------------------------------------------
;(HELPER)エフェクト2
[Statedef 4208]
type = A
ctrl = 0
anim = 4208
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(4209)
value = 4209

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(4210)
value = 4210

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(4211)
value = 4211

;---------------------[]
[state a]
type = veladd
trigger1 = 1
y = 0.03

[state a]
type = velset
trigger1 = time = 0
x = -2 + (random%40)*0.1
y = -3 + (random%20)*0.1

[state a]
type = velmul
trigger1 = 1
x = 0.98

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varadd
trigger1 = 1
var(1) = 4

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(256-var(1)),256

[state a]
type = angledraw
trigger1 = 1
scale = 0.75,0.75

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;アルカナ必殺技０３・モリオモト
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 蔦・正面
[Statedef 2550]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2550
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2550, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 360, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 5
id = 4000
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];アルカナ技発動その２
type = Helper
trigger1 = animelem = 5
id = 4001
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4001
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];蔦
type = Helper
trigger1 = animelem = 5
id = 4002
name = "tuta"
pos = 0,0
postype = p1
stateno = 4002
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7];派生・引き寄せ
type = ChangeState
trigger1 = time <= 39
trigger1 = var(5) = 1
trigger1 = command = "holdback" && command = "a"
value = 2551

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4000]
type = A
ctrl = 0
anim = 4000
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2550 && root,animelem = 25
trigger2 = root,stateno = 2551 && root,animelem = 14
trigger3 = root,stateno = 2556 && root,animelem = 10
trigger4 = root,stateno = 2560 && root,animelem = 25
trigger5 = root,stateno = 2562 && root,animelem = 2
trigger6 = root,stateno = 2570 && root,animelem = 10
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その２
[Statedef 4001]
type = A
ctrl = 0
anim = 4001
velset = 0,0
movetype = I
physics = N
sprpriority = 4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2550 && root,animelem = 25
trigger2 = root,stateno = 2551 && root,animelem = 14
trigger3 = root,stateno = 2560 && root,animelem = 25
trigger4 = root,stateno = 2562 && root,animelem = 2
trigger5 = root,stateno = 2570 && root,animelem = 10
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)蔦
[Statedef 4002]
type = A
ctrl = 0
anim = 4002
velset = 0,0
movetype = A
physics = N
sprpriority = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, SP
damage    = floor(31*root,fvar(5)),0
priority = 3, Hit
animtype  = mid
hitflag = MAFLD
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[変数指定]
[state a]
type = parentvarset
trigger1 = movehit
var(5) = 1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0 , -50
postype = p2
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0 , -50
postype = p2
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = animtime = 0

;---------------------[]
[state a]
type = changestate
trigger1 = root,stateno = 2551
value = 4003


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 引き寄せ・正面
[Statedef 2551]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2551
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]

;---------------------[ヘルパー]
[state a];蔦
type = null;Helper
trigger1 = animelem = 5
id = 4002
name = "tuta"
pos = 0,0
postype = p1
stateno = 4002
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)蔦
[Statedef 4003]
type = A
ctrl = 0
anim = 4003
velset = 0,0
movetype = A
physics = N
sprpriority = -1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, SP
damage    = 0,0
priority = 7, Hit
animtype  = diagup
hitflag = MAFLD
guardflag = MA
getpower = 0,0
pausetime = 0,12
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 7,-5
air.velocity = 7,-5
fall = 1
fall.recover = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.70

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = animtime = 0

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 空中落下
[Statedef 2552]
type    = A
physics = A
anim = 10111

[State 51, 1]
type = Null
trigger1 = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 蔦・斜め
[Statedef 2553]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2553
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2550, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 360, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 5
id = 4004
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4004
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];アルカナ技発動その２
type = Helper
trigger1 = animelem = 5
id = 4005
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4005
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];蔦
type = Helper
trigger1 = animelem = 5
id = 4006
name = "tuta"
pos = 0,0
postype = p1
stateno = 4006
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7];派生・引き寄せ
type = ChangeState
trigger1 = time <= 35
trigger1 = var(5) = 1
trigger1 = command = "holdback" && command = "a"
value = 2554

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4004]
type = A
ctrl = 0
anim = 4004
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[アニメーション]
[state a]
type = angleset
trigger1 = time = 0
trigger1 = root,statetype = A
value = 270

[state a]
type = angledraw
trigger1 = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2553 && root,animelem = 25
trigger2 = root,stateno = 2554 && root,animelem = 14
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その２
[Statedef 4005]
type = A
ctrl = 0
anim = 4005
velset = 0,0
movetype = I
physics = N
sprpriority = 4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[アニメーション]
[state a]
type = angleset
trigger1 = time = 0
trigger1 = root,statetype = A
value = 270

[state a]
type = angledraw
trigger1 = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2553 && root,animelem = 25
trigger2 = root,stateno = 2554 && root,animelem = 14
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)蔦
[Statedef 4006]
type = A
ctrl = 0
anim = 4006
velset = 0,0
movetype = A
physics = N
sprpriority = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = root,statetype = A
value = 4007

[state a]
type = angleset
trigger1 = anim = 4007
value = 270

[state a]
type = angledraw
trigger1 = 1



;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, SP
damage    = floor(31*root,fvar(5)),0
priority = 3, Hit
animtype  = mid
hitflag = MAFLD
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[変数指定]
[state a]
type = parentvarset
trigger1 = movehit
var(5) = 1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0 , -50
postype = p2
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0 , -50
postype = p2
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = animtime = 0

;---------------------[]
[state a]
type = changestate
trigger1 = root,stateno = 2554
value = 4008

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 引き寄せ・斜め
[Statedef 2554]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2551
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]

;---------------------[ヘルパー]
[state a];蔦
type = null;Helper
trigger1 = animelem = 5
id = 4002
name = "tuta"
pos = 0,0
postype = p1
stateno = 4002
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)蔦
[Statedef 4008]
type = A
ctrl = 0
;anim = 4008
velset = 0,0
movetype = A
physics = N
sprpriority = -1

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
value = anim + 2

[state a]
type = angleset
trigger1 = anim = 4009
value = 270

[state a]
type = angledraw
trigger1 = 1



;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 2
trigger1 = anim = 4008
attr = A, SP
damage    = 0,0
priority = 7, Hit
animtype  = diagup
hitflag = MAFLD
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 5,5
air.velocity = 5,5
fall = 1
fall.recover = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[State 400, 2]
type = HitDef
trigger1 = animelem = 2
trigger1 = anim = 4009
attr = A, SP
damage    = 0,0
priority = 7, Hit
animtype  = diagup
hitflag = MAFLD
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 6,-9
air.velocity = 6,-9
fall = 1
fall.recover = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.70

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 種蒔き
[Statedef 2555]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2555
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
trigger1 = time = 16
v = 5
value = 1


[state a]
type = varset
trigger1 = time = 26
v = 5
value = 2

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 5
trigger1 = command != "おしっぱなしa"
trigger2 = time = 36
value = 2556


;---------------------------------------------------------------------------
; 種蒔き・発動
[Statedef 2556]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2556
poweradd = 0
sprpriority = 1

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 6
value = 2550, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 2
id = 4000
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];種
type = Helper
trigger1 = animelem = 6
trigger1 = var(5) = 0
id = 4010
name = "tane"
pos = 0,0
postype = p1
stateno = 4010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];種
type = Helper
trigger1 = animelem = 6
trigger1 = var(5) = 1
id = 4011
name = "tane"
pos = 0,0
postype = p1
stateno = 4010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];種
type = Helper
trigger1 = animelem = 6
trigger1 = var(5) = 2
id = 4012
name = "tane"
pos = 0,0
postype = p1
stateno = 4010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)種
[Statedef 4010]
type = A
ctrl = 0
anim = 4010
velset = 0,0
movetype = I
physics = N
sprpriority = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 32,-67

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(4011)
trigger1 = root,statetype != A
value = 4011

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(4012)
trigger1 = root,statetype != A
value = 4012

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = root,statetype = A
value = 4014

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 4010
x = 1.0
y = -1.5

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 4011
x = 2.0
y = -1.7

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 4012
x = 3.0
y = -1.9

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 4014
trigger1 = ishelper(4010)
x = 1.0
y = 2

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 4014
trigger1 = ishelper(4011)
x = 2.0
y = 2

[state a]
type = velset
trigger1 = time = 0
trigger1 = anim = 4014
trigger1 = ishelper(4012)
x = 3.0
y = 2

[state a]
type = veladd
triggerall = animelem = 7,<=0
trigger1 = anim = 4010
trigger2 = anim = 4011
trigger3 = anim = 4012
y = 0.06

[state a]
type = velset
triggerall = animelem = 7
trigger1 = anim = 4010
trigger2 = anim = 4011
trigger3 = anim = 4012
x = 0
y = 0.4

[state a]
type = veladd
trigger1 = anim = 4013
trigger2 = anim = 4014
trigger3 = anim = 4015
y = 0.1

[state a]
type = velmul
trigger1 = anim = 4013
trigger2 = anim = 4014
trigger3 = anim = 4015
x = 0.98

;---------------------[当身関係]
[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP
stateno = 4013

;---------------------[]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4015


;----------------------------------------------------------------------------
;(HELPER)種・消滅
[Statedef 4013]
type = A
ctrl = 0
anim = 4013
velset = 0,0
movetype = I
physics = N
sprpriority = 1


;---------------------[]
[State 170, 1]
type = destroyself
trigger1 = time = 0


;----------------------------------------------------------------------------
;(HELPER)種・接地
[Statedef 4015]
type = S
ctrl = 0
anim = 4015
velset = 0,0
movetype = I
physics = N
sprpriority = 1

;---------------------[]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[当身関係]
[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP
stateno = 4013

;---------------------[変数]
[state a]
type = varadd
trigger1 = time >= 300
v = 1
value = 8

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[]
[state a]
type = changestate
trigger1 = animelem = 5,>=0
trigger1 = p2dist x <= 30 && p2dist x >= -30
value = 4016

;---------------------[]
[State 170, 1]
type = destroyself
trigger1 = var(1) >= 256

;----------------------------------------------------------------------------
;(HELPER)種・噛み付き
[Statedef 4016]
type = C
ctrl = 0
anim = 4016
velset = 0,0
movetype = A
physics = N
sprpriority = 1

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = C, SP
damage    = floor(76*root,fvar(5)),0
priority = 4, Hit
animtype  = mid
hitflag = MAFLD
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,-4
air.velocity = 0,-3.5
fall = 1
fall.recover = 1
fall.recovertime = 56
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = fvar(5)*0.83

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7012
name = "hit"
pos = 0 , -30
postype = p2
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0 , -30
postype = p2
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[State 170, 1]
type = destroyself
trigger1 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 養分吸収
[Statedef 2560]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2560
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2550, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 360, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 5
id = 4000
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];アルカナ技発動その２
type = Helper
trigger1 = animelem = 5
id = 4001
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4001
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];蔦
type = Helper
trigger1 = animelem = 5
id = 4020
name = "tuta"
pos = 0,0
postype = p1
stateno = 4020
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7];派生・引き寄せ
type = ChangeState
trigger1 = var(5) = 1
value = 2561

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 養分吸収・吸収
[Statedef 2561]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2561
poweradd = 0
sprpriority = 1

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 140,0

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]

;---------------------[]
[state a]
type = lifeadd
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animtime = 0
value = 8

;---------------------[ステートチェンジ]

[State 200, 7]
type = null;ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = time = 150
value = 2562


;---------------------------------------------------------------------------
; 養分吸収・終了
[Statedef 2562]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2562
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]

;---------------------[ヘルパー]

;---------------------[ステートチェンジ]

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)蔦
[Statedef 4020]
type = A
ctrl = 0
anim = 4020
velset = 0,0
movetype = A
physics = N
sprpriority = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, HA
damage    = 0,0
priority = 5, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 0,0
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[変数指定]
[state a]
type = parentvarset
trigger1 = movehit
var(5) = 1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0 , -50
postype = p2
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = animtime = 0

;---------------------[]
[state a]
type = changestate
trigger1 = root,stateno = 2561
value = 4021


;----------------------------------------------------------------------------
;(HELPER)蔦・吸収
[Statedef 4021]
type = A
ctrl = 0
anim = 4021
velset = 0,0
movetype = A
physics = N
sprpriority = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 9
value = 2750, 2

;---------------------[ヘルパー]
[state a];蔦・巻きつき
type = Helper
trigger1 = time = 0
id = 4023
name = "tuta"
pos = 0 , 0
postype = p1
stateno = 4023
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[相手制御]
[state a]
type = targetstate
trigger1 = time = 0
value = 2565

[state a]
type = targetbind
trigger1 = animelem = 1
pos = 160,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 2
pos = 149,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 3
pos = 132,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 4
pos = 124,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 5
pos = 116,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 6
pos = 108,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 7
trigger2 = animtime = 0
pos = 103,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 8
trigger2 = animelem = 10
pos = 102,27
time = 3

[state a]
type = targetbind
trigger1 = animelem = 9
pos = 101,27
time = 3


[state a]
type = targetlifeadd
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animtime = 0
value = -8

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H

;---------------------[]
[state a]
type = changestate
trigger1 = root,stateno = 2562
value = 4022

;----------------------------------------------------------------------------
;(HELPER)蔦・終了
[Statedef 4022]
type = A
ctrl = 0
anim = 4022
velset = 0,0
movetype = A
physics = N
sprpriority = 1

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1


;---------------------[相手制御]
[state a]
type = targetstate
trigger1 = time = 0
value = 2566

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0



;----------------------------------------------------------------------------
;(HELPER)蔦2・巻きつき
[Statedef 4023]
type = A
ctrl = 0
anim = 4023
velset = 0,0
movetype = A
physics = N
sprpriority = 10

;---------------------[発生位置]
[state a]
type = bindtoparent
trigger1 = animelem = 1
pos = 140,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 2
pos = 139,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 3
pos = 132,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 4
pos = 124,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 5
pos = 116,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 6
pos = 108,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 7
trigger2 = animtime = 0
pos = 103,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 8
trigger2 = animelem = 10
pos = 102,27
time = 3

[state a]
type = bindtoparent
trigger1 = animelem = 9
pos = 101,27
time = 3

;---------------------[変数指定]

;---------------------[]
[State explod];エフェクト1
type = Explod
trigger1 = animelem = 2
anim = 4024
id = 3000
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

[State explod];エフェクト2
type = Explod
trigger1 = animelem = 2
anim = 4025
id = 3000
sprpriority = 8
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

[State explod];エフェクト3
type = Explod
trigger1 = animelem = 5
anim = 4026
id = 3000
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H

;---------------------[]
[state a]
type = changestate
trigger1 = root,stateno = 2562
value = 4027

;----------------------------------------------------------------------------
;(HELPER)蔦2・開放
[Statedef 4027]
type = A
ctrl = 0
anim = 4027
velset = 0,0
movetype = A
physics = N
sprpriority = 10

;---------------------[発生位置]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[変数指定]

;---------------------[]
[State explod];エフェクト消去
type = removeExplod
trigger1 = time = 0
id = 3000

[State explod];エフェクト1
type = Explod
trigger1 = animelem = 1
anim = 4028
id = 3000
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

;---------------------[ヘルパー]
[state a];蔦3・ステート番号あわせ
type = Helper
trigger1 = time = 0
id = 4029
name = "tuta"
pos = 0 , 0
postype = p1
stateno = 4029
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;----------------------------------------------------------------------------
;(HELPER)蔦3・ステート番号あわせ
[Statedef 4029]
type = A
ctrl = 0
anim = 4029
velset = 0,0
movetype = A
physics = N
sprpriority = 3

;---------------------[発生位置]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[当身関係]
[state a]
type = sprpriority
trigger1 = animelem = 3
value = 8

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;(ENEMY)捕縛
[Statedef 2565]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 5

[state a]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2565

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 0,0

;---------------------------------------------------------------------------
;(ENEMY)開放
[Statedef 2566]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = time = 0
x = -1
y = -5

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .34

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 花満開
[Statedef 2570]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2570
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];アルカナ超必殺技発動演出・個別エフェクト
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2550, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 360, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 4
id = 4000
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4000
helpertype = normal
pausemovetime = 4
keyctrl = 0 
ownpal = 1

[state a];アルカナ技発動その２
type = Helper
trigger1 = animelem = 4
id = 4001
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4001
helpertype = normal
pausemovetime = 4
keyctrl = 0 
ownpal = 1


[state a];種
type = Helper
trigger1 = animelem = 5
id = 4010
name = "tane"
pos = 0,0
postype = p1
stateno = 4010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];種
type = Helper
trigger1 = animelem = 5
id = 4011
name = "tane"
pos = 0,0
postype = p1
stateno = 4010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];種
type = Helper
trigger1 = animelem = 5
id = 4012
name = "tane"
pos = 0,0
postype = p1
stateno = 4010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ステートチェンジ]
[State 200, 7];派生・引き寄せ
type = ChangeState
trigger1 = var(5) = 1
value = 2561

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;アルカナ必殺技０５・ランゴン
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 火仙弋
[Statedef 2650]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2650
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = statetype = A
value = 2651

;---------------------[移動]
[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2550, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 7
value = 360, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 5
id = 4100
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4100
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];
type = Helper
trigger1 = animelem = 5
id = 4101
name = "tama"
pos = 22,-57
postype = p1
stateno = 4101
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4100]
type = A
ctrl = 0
anim = 4100
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = root,statetype = A
value = 4103

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2650 && root,animelem = 10
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H


;----------------------------------------------------------------------------
;(HELPER)飛び道具
[Statedef 4101]
type = A
ctrl = 0
anim = 4101
velset = 0,0
movetype = A
physics = N
sprpriority = 2

;---------------------[]
[state a]
type = changeanim
triggerall = time = 0
trigger1 = root,anim = 2651
value = 4104

;---------------------[]
[state a]
type = velset
trigger1 = time = 0
trigger1 = root,anim = 4101
x = 1
y = -1

[state a]
type = velset
trigger1 = time = 0
trigger1 = root,anim = 4104
x = 1
y = 1

[state a]
type = veladd
trigger1 = anim = 4101
x = 0.3
y = -0.3

[state a]
type = veladd
trigger1 = anim = 4104
x = 0.3
y = 0.3


;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = A, SP
damage    = floor(76*root,fvar(5)),10
getpower = 30,30
priority = 3, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.5,-3.5
air.fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.83


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = frontedgedist < -20

;---------------------[]
[state a]
type = changestate
trigger1 = movecontact
value = 4102

[state a]
type = changestate
trigger1 = pos y >= 0
value = 4105


;----------------------------------------------------------------------------
;(HELPER)飛び道具・ヒット
[Statedef 4102]
type = A
ctrl = 0
anim = 4102
velset = 0,0
movetype = A
physics = N
sprpriority = 2

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 2650, 0

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------
;(HELPER)飛び道具・接地
[Statedef 4105]
type = A
ctrl = 0
anim = 4105
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 2650, 0

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 火攻焔
[Statedef 2652]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2652
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
trigger1 = time = 19
v = 5
value = 1


[state a]
type = varset
trigger1 = time = 33
v = 5
value = 2

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = time >= 9
trigger1 = command != "おしっぱなしa"
trigger2 = time = 36
value = 2653


;---------------------------------------------------------------------------
; 火攻焔・発動
[Statedef 2653]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2653
poweradd = 0
sprpriority = 1

;---------------------[]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 2654

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 2655

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 2550, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その2
type = Helper
trigger1 = animelem = 2
id = 4106
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4106
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];炎
type = Helper
trigger1 = animelem = 3 && var(5) = 0
trigger2 = animelem = 2 && var(5) != 0
id = 4107
name = "honoo"
pos = 60,-56
postype = p1
stateno = 4107
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その2
[Statedef 4106]
type = A
ctrl = 0
anim = 4106
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,anim = 2653 && root,animelem = 9
trigger2 = root,anim = 2654 && root,animelem = 10
trigger3 = root,anim = 2655 && root,animelem = 19
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H


;----------------------------------------------------------------------------
;(HELPER)飛び道具
[Statedef 4107]
type = A
ctrl = 0
anim = 4107
velset = 0,0
movetype = A
physics = N
sprpriority = 2

;---------------------[]
[state a]
type = changeanim
triggerall = time = 0
trigger1 = root,var(5) = 1
value = 4108

[state a]
type = changeanim
triggerall = time = 0
trigger1 = root,var(5) = 2
value = 4109

;---------------------[]
[state a]
type = velset
trigger1 = time = 0
x = 2

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 3 && anim = 4109
trigger2 = animelem = 4 && anim = 4109
trigger3 = animelem = 5 && anim != 4107
trigger4 = animelem = 6 && anim != 4107
trigger5 = animelem = 7 && anim != 4107
trigger6 = animelem = 8 && anim != 4107
trigger7 = animelem = 9 && anim = 4109
trigger8 = animelem = 10&& anim = 4109
trigger9 = animelem = 11&& anim = 4109
attr = S, SP
damage    = floor(12*root,fvar(5)),2
getpower = 5,5
priority = 4, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 3,4
sparkno = s-1
sparkxy = -0,-0
hitsound   = s410,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1
air.velocity = -1.5,-6.5
air.fall = 0
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999


[State 400, 2]
type = HitDef
trigger1 = time = 0
trigger1 = anim = 4107
trigger2 = animelem = 9
trigger2 = anim = 4108
trigger3 = animelem = 12
trigger3 = anim = 4109
attr = S, SP
damage    = floor(76*root,fvar(5)),10
getpower = 30,30
priority = 4, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 0,12
sparkno = s-1
sparkxy = -0,-0
hitsound   = s410,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1.5,-7
air.velocity = -1.5,-6.5
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.83


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 轟天焦
[Statedef 2660]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2660
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = time <= 41
value = SCA
time = 1


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = time = 0
value = A

[state a]
type = velset
trigger1 = time = 30
y = -3

[state a]
type = velmul
trigger1 = vel y <= 0
y = 0.92

[state a]
type = veladd
trigger1 = time >= 65
y = 0.15

[state a]
type = veladd
trigger1 = time >= 85
y = 0.25


;---------------------[音]
[State 200, 1];成敗！
type = PlaySnd
trigger1 = time = 38
value = 2100, 1

[State 200, 1];
type = PlaySnd
trigger1 = time = 36
value = 2650, 1

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 36
id = 4110
name = "gouten"
pos = 0,-60
postype = p1
stateno = 4110
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];
type = Helper
trigger1 = time = 38
id = 4111
name = "gouten"
pos = 0,-60
postype = p1
stateno = 4111
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;----------------------------------------------------------------------------
;(HELPER)轟天焦エフェクト
[Statedef 4110]
type = A
ctrl = 0
anim = 4110
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数指定]
[state a]
type = varadd
trigger1 = animelem = 10,>=0
var(1) = 32

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;----------------------------------------------------------------------------
;(HELPER)轟天焦攻撃
[Statedef 4111]
type = A
ctrl = 0
anim = 4111
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow


;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage    = floor(247*root,fvar(5)),20
getpower = 0,0
priority = 6, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 10,13
sparkno = s-1
sparkxy = -0,-0
hitsound   = s450,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1
air.velocity = -1.5,-6.5
air.fall = 0
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
p2stateno = 259

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.50


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1


[state a];壁バウンドエフェクト
type = Helper
trigger1 = movehit
id = 270
name = "hit"
pos = 0 , 0
postype = p1
stateno = 270
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 火孔覇
[Statedef 2670]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2670
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2550, 0

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 360, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その3
type = Helper
trigger1 = animelem = 5
id = 4112
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4112
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];炎
type = Helper
trigger1 = animelem = 5
id = 4113
name = "honoo"
pos = 60,-56
postype = p1
stateno = 4113
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その3
[Statedef 4112]
type = A
ctrl = 0
anim = 4112
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,animelem = 17
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H


;----------------------------------------------------------------------------
;(HELPER)飛び道具
[Statedef 4113]
type = A
ctrl = 0
anim = 4113
velset = 0,0
movetype = A
physics = N
sprpriority = 2

;---------------------[]
[state a]
type = changeanim
triggerall = time = 0
trigger1 = root,var(5) = 1
value = 4108

[state a]
type = changeanim
triggerall = time = 0
trigger1 = root,var(5) = 2
value = 4109

;---------------------[]
[state a]
type = velset
trigger1 = time = 0
x = 1.5

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
trigger9 = animelem = 10
trigger10= animelem = 11
trigger11= animelem = 12
trigger12= animelem = 13
trigger13= animelem = 14
trigger14= animelem = 15
attr = S, HP
damage    = floor(19*root,fvar(5)),2
getpower = 0,0
priority = 4, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 3,4
sparkno = s-1
sparkxy = -0,-0
hitsound   = s410,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1
air.velocity = -1.5,-6.5
air.fall = 0
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999


[State 400, 2]
type = HitDef
trigger1 = animelem = 16
attr = S, HP
damage    = floor(76*root,fvar(5)),10
getpower = 0,0
priority = 4, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 0,12
sparkno = s-1
sparkxy = -0,-0
hitsound   = s410,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1.5,-7
air.velocity = -1.5,-6.5
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit = 1
trigger1 = animelem =16,<0
fvar(5) = root,fvar(5)*0.95

[state a]
type = parentvarset
trigger1 = movehit = 1
trigger1 = animelem =16,>=0
fvar(5) = root,fvar(5)*0.83


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0



;----------------------------------------------------------------------------
;(HELPER)アルカナフォース・跳澗閻羅
[Statedef 4114]
type = A
ctrl = 0
anim = 4114
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[アニメーション]
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = angleset
trigger1 = time = 0
trigger1 = root,p2dist y <= 0
value = floor(atan(ceil(abs(root,p2dist y + 0.1))/ ceil(abs(root,p2dist x + 0.1)))*180 / pi)

[state a]
type = angleset
trigger1 = time = 0
trigger1 = root,p2dist y > 0
value = -floor(atan(ceil(abs(root,p2dist y + 0.1))/ ceil(abs(root,p2dist x + 0.1)))*180 / pi)


[state a]
type = angledraw
trigger1 = 1


;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 10,-57

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
trigger2 = movecontact = 4
attr = A, NP
damage    = floor(19*root,fvar(5)),2
getpower = 0,0
priority = 4, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 1,1
sparkno = s-1
sparkxy = -0,-0
hitsound   = s410,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1.5,-6.5
air.velocity = -1.5,-6.5
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.95

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
;persistent = 0
;ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = root,stateno != 910 && root,stateno != 929
trigger2 = root,movetype = H


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;アルカナ必殺技０７・ギーァ
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ギーァ・待機
[Statedef 4070]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4070
poweradd = 0
sprpriority = -3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = facing != root,facing


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-100,100


;---------------------[ステートチェンジ]
[State 200, 7];アルカナブレイズ
type = ChangeState
trigger1 = root,stateno = 3400
value = 4089

[State 200, 7];待機
type = ChangeState
trigger1 = root,var(31) != 0
trigger2 = root,var(32) != 0
value = 4072

[State 200, 7];移動
type = ChangeState
trigger1 = parentdist x > 10
trigger2 = parentdist x < -20
value = 4071

;---------------------------------------------------------------------------
; ギーァ・移動
[Statedef 4071]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4071
poweradd = 0
sprpriority = -3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = parentdist x < -40


[state a]
type = posadd
trigger1 = parentdist x > 10
x = 1

[state a]
type = posadd
trigger1 = parentdist x < -20
x = -1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-100,100

;---------------------[ステートチェンジ]
[State 200, 7];アルカナブレイズ
type = ChangeState
trigger1 = root,stateno = 3400
value = 4089

[State 200, 7];待機
type = ChangeState
triggerall = time >= 5
trigger1 = root,var(31) != 0
trigger2 = root,var(32) != 0
value = 4072

[State 200, 7];移動
type = ChangeState
trigger1 = time >= 5
trigger1 = parentdist x <= 10
trigger1 = parentdist x >= -20
value = 4070


;---------------------------------------------------------------------------
; ギーァ・待機
[Statedef 4072]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 4072
poweradd = 0
sprpriority = -3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = (prevstateno = 4070) || (prevstateno = 4071)
value = 4072

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = time = 0
v = 32
value = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = command = "holdfwd"
x = 1.5

[state a]
type = velmul
trigger1 = command != "holdfwd"
trigger1 = vel x >= 0
x = 0.95

[state a]
type = velset
trigger1 = command = "holdback"
x = -1.5

[state a]
type = velset
trigger1 = command != "holdback"
trigger1 = vel x <= 0
x = 0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-100,100

;---------------------[ステートチェンジ]
[State 200, 7];ズィヒェル・強化版
type = ChangeState
triggerall = (root,var(31) = 1 && root,var(32) = 0 )|| root,var(32) = 1
triggerall = command != "おしっぱなしa"
triggerall = root,var(21) = 1
trigger1 = time >= 13 && anim = 4072
trigger2 = time >= 1 && anim != 4072
value = 4081

[State 200, 7];ズィヒェル
type = ChangeState
triggerall = (root,var(31) = 1 && root,var(32) = 0 )|| root,var(32) = 1
triggerall = command != "おしっぱなしa"
trigger1 = time >= 13 && anim = 4072
trigger2 = time >= 1 && anim != 4072
value = 4075



[State 200, 7];シェーレ・強化版
type = ChangeState
triggerall = (root,var(31) = 2 && root,var(32) = 0 )|| root,var(32) = 2
triggerall = command != "おしっぱなしa"
triggerall = root,var(21) = 1
trigger1 = time >= 13 && anim = 4072
trigger2 = time >= 1 && anim != 4072
value = 4082


[State 200, 7];シェーレ
type = ChangeState
triggerall = (root,var(31) = 2 && root,var(32) = 0 )|| root,var(32) = 2
triggerall = command != "おしっぱなしa"
trigger1 = time >= 13 && anim = 4072
trigger2 = time >= 1 && anim != 4072
value = 4076


[State 200, 7];ファレン
type = ChangeState
triggerall = (root,var(31) = 3 && root,var(32) = 0 )|| root,var(32) = 3
triggerall = command != "おしっぱなしa"
trigger1 = time >= 13 && anim = 4072
trigger2 = time >= 1 && anim != 4072
value = 4077


[State 200, 7];マルテルン
type = ChangeState
triggerall = (root,var(31) = 4 && root,var(32) = 0 )|| root,var(32) = 4
triggerall = command != "おしっぱなしa"
trigger1 = time >= 13 && anim = 4072
trigger2 = time >= 1 && anim != 4072
value = 4083


;---------------------------------------------------------------------------
; ギーァ・待機解除
[Statedef 4073]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4073
poweradd = 0
sprpriority = -3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = facing != root,facing


;---------------------[速度]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 0,0

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[変数]
[state a]
type = parentvarset
trigger1 = time = 0
v = 31
value = 0

[state a]
type = parentvarset
trigger1 = time = 0
v = 32
value = 0


[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time != 0
trigger1 = time < 11
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(var(1)*1.56),256 - floor(var(1)*1.56)

;---------------------[ステートチェンジ]
[State 200, 7];ズィヒェル
type = ChangeState
trigger1 = animtime = 0
value = 4070

;---------------------------------------------------------------------------
; ギーァ・アルカナブレイズ待機
[Statedef 4089]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4089
poweradd = 0
sprpriority = -3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = facing != root,facing


;---------------------[速度]
[state a]
type = bindtoroot
trigger1 = 1
pos = 0,0

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[変数]
[state a]
type = parentvarset
trigger1 = time = 0
v = 31
value = 0

[state a]
type = parentvarset
trigger1 = time = 0
v = 32
value = 0

;---------------------[透過]
;---------------------[ステートチェンジ]
[State 200, 7];
type = ChangeState
trigger1 = root,movetype = H
value = 4070

[State 200, 7];
type = ChangeState
trigger1 = root,stateno = 3400 && root,animelem = 12,>=0
value = 4090




;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ズィヒェル
[Statedef 2750]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2750
poweradd = 0
sprpriority = 1

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2750, 0

;---------------------[変数]
[state a];仕込み２
type = varset
trigger1 = time = 21
trigger1 = var(31) != 0
trigger1 = var(32) = 0
v = 32
value = 1

[state a];仕込み１
type = varset
trigger1 = time = 21
trigger1 = var(31) = 0
v = 31
value = 1

;---------------------[ヘルパー]
[state a];アルカナ技発動
type = Helper
trigger1 = animelem = 5
id = 4074
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4074
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動
[Statedef 4074]
type = A
ctrl = 0
anim = 4074
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2750 && root,animelem = 10
trigger2 = root,stateno = 2751 && root,animelem = 10
trigger3 = root,stateno = 2752 && root,animelem = 10
trigger4 = root,stateno = 2753 && root,animelem = 10
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H


;---------------------------------------------------------------------------
; ギーァ・ズィヒェル
[Statedef 4075]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4075
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = 0
trigger1 = root,var(31) != 0
trigger1 = root,var(32) != 0
v = 32
value = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 2750, 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = posadd
trigger1 = animelem = 5
x = 176


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time > 44
v = 1
value = 10

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, SA
damage    = floor(57*root,fvar(5)),10
getpower = 167,167
priority = 4, Hit
animtype  = hard
hitflag = MAFLD
guardflag = MA
pausetime = 14,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -3.0,-6
air.velocity = -3.0,-6
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[state a]
type = statetypeset
trigger1 = animelem = 8
movetype = I

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.87

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = animelem = 5,<2
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = animelem = 5,>=2
trigger1 = animelem = 10,<0
trans = addalpha
alpha = 256-85,85

[state a]
type = Trans
trigger1 = animelem = 10,>=0
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = animelem = 10
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073


;---------------------------------------------------------------------------
; ギーァ・ズィヒェル・強化版
[Statedef 4081]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4081
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = 0
trigger1 = root,var(31) != 0
trigger1 = root,var(32) != 0
v = 32
value = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 2750, 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = posadd
trigger1 = animelem = 5
x = 176


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time > 44
v = 1
value = 10

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, SA
damage    = floor(84*root,fvar(5)),10
getpower = 167,167
priority = 4, Hit
animtype  = diagup
hitflag = MAFLD
guardflag = MA
pausetime = 23,23
sparkno = s-1
sparkxy = -0,-0
hitsound   = s499,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6.0,-6
air.velocity = -6.0,-6
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[state a]
type = statetypeset
trigger1 = animelem = 8
movetype = I

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.87

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = animelem = 5,<2
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = animelem = 5,>=2
trigger1 = animelem = 10,<0
trans = addalpha
alpha = 256-85,85

[state a]
type = Trans
trigger1 = animelem = 10,>=0
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = animelem = 10
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; シェーレ
[Statedef 2751]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2751
poweradd = 0
sprpriority = 1

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2750, 0

;---------------------[変数]
[state a];仕込み２
type = varset
trigger1 = time = 13
trigger1 = var(31) != 0
trigger1 = var(32) = 0
v = 32
value = 2

[state a];仕込み１
type = varset
trigger1 = time = 13
trigger1 = var(31) = 0
v = 31
value = 2

;---------------------[ヘルパー]
[state a];アルカナ技発動
type = Helper
trigger1 = animelem = 5
id = 4074
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4074
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; ギーァ・シェーレ
[Statedef 4076]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4076
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = 0
trigger1 = root,var(31) != 0
trigger1 = root,var(32) != 0
v = 32
value = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 2750, 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage    = floor(19*root,fvar(5)),5
getpower = 167,167
priority = 4, Hit
animtype  = hard
hitflag = MAFLD
guardflag = MA
pausetime = 5,5
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = 0,-7
air.velocity = 0,-7
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = S, SA
damage    = floor(76*root,fvar(5)),10
getpower = 167,167
priority = 4, Hit
animtype  = hard
hitflag = MAFLD
guardflag = MA
pausetime = 17,17
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,-3
air.velocity = 0,0
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[state a]
type = statetypeset
trigger1 = animelem = 8
movetype = I

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 7,>=0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
pos = 0,-87

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = animelem = 2,>=0 && animelem = 4,<0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.95

[state a]
type = parentvarset
trigger1 = animelem = 7,>=0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.83

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 2,>=0 && animelem = 4,<0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -58)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 7,>=0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -78)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 2,>=0 && animelem = 4,<0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 7,>=0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -78)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time > 60
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = animelem = 8,<4
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = animelem = 8,>=4
trigger1 = animelem = 13,<0
trans = addalpha
alpha = 256-85,85

[state a]
type = Trans
trigger1 = animelem = 13,>=0
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = animelem = 13
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073



;---------------------------------------------------------------------------
; ギーァ・シェーレ・強化版
[Statedef 4082]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4082
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = 0
trigger1 = root,var(31) != 0
trigger1 = root,var(32) != 0
v = 32
value = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 2750, 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
attr = S, SA
damage    = floor(19*root,fvar(5)),5
getpower = 167,167
priority = 4, Hit
animtype  = hard
hitflag = MAFLD
guardflag = MA
pausetime = 2,2
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = 0,-7
air.velocity = 0,-7
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = S, SA
damage    = floor(76*root,fvar(5)),10
getpower = 167,167
priority = 4, Hit
animtype  = hard
hitflag = MAFLD
guardflag = MA
pausetime = 21,21
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,-3
air.velocity = 0,0
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[state a]
type = statetypeset
trigger1 = animelem = 8
movetype = I

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 7,>=0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
pos = 0,-87

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = animelem = 2,>=0 && animelem = 4,<0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.95

[state a]
type = parentvarset
trigger1 = animelem = 7,>=0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.83

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 2,>=0 && animelem = 3,<0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -58)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 3,>=0 && animelem = 4,<0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -63)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 4,>=0 && animelem = 5,<0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -68)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 5,>=0 && animelem = 7,<0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -73)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = animelem = 7,>=0
trigger1 = movehit
id = 7012
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -78)
postype = p1
stateno = 7010
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 2,>=0 && animelem = 3,<0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 3,>=0 && animelem = 4,<0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 4,>=0 && animelem = 5,<0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -68)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 5,>=0 && animelem = 7,<0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -73)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = animelem = 7,>=0
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -78)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time > 60
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = animelem = 8,<4
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = animelem = 8,>=4
trigger1 = animelem = 13,<0
trans = addalpha
alpha = 256-85,85

[state a]
type = Trans
trigger1 = animelem = 13,>=0
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = animelem = 13
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ファレン
[Statedef 2752]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2751
poweradd = 0
sprpriority = 1

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2750, 0

;---------------------[変数]
[state a];仕込み２
type = varset
trigger1 = time = 13
trigger1 = var(31) != 0
trigger1 = var(32) = 0
v = 32
value = 3

[state a];仕込み１
type = varset
trigger1 = time = 13
trigger1 = var(31) = 0
v = 31
value = 3

;---------------------[ヘルパー]
[state a];アルカナ技発動
type = Helper
trigger1 = animelem = 5
id = 4074
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4074
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; ギーァ・ファレン・攻撃
[Statedef 4077]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4077
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = 0
trigger1 = root,var(31) != 0
trigger1 = root,var(32) != 0
v = 32
value = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 2750, 2

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage    = 0,0
getpower = 0,0
priority = 4, Hit
animtype  = hard
hitflag = MAF
guardflag = MA
pausetime = 5,5
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.32
fall = 0
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
palfx.time = ifelse(root,var(21) = 1,90,60)
palfx.mul = 230,230,250
;palfx.sinadd = 255,255,255,5;palfx.sinadd = 63,65,68,5
palfx.add = 16,16,16
palfx.color = 1
palfx.invertall = 0

[state a]
type = statetypeset
trigger1 = animelem = 7
movetype = I

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = movehit
persistent = 0
ignorehitpause = 1
pos = 0,0

;---------------------[ヘルパー]
[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = floor(p2dist x/2 +5) , floor(p2dist y/2 -48)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time > 40
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = animelem = 9,<0
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = animelem = 9,>=0
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = animelem = 9
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];捕縛
type = ChangeState
trigger1 = movehit
value = 4078


[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073


;---------------------------------------------------------------------------
; ギーァ・ファレン・相手捕縛
[Statedef 4078]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4078
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
trigger2 = enemy,statetype = A
trigger3 = enemy,stateno = 40
trigger4 = enemy,stateno = 0 && enemy,time = 0
trigger5 = enemy,stateno = 20 && enemy,time = 0
trigger6 = enemy,vel x != 0
attr = S, SA
damage    = 0,0
getpower = 0,0
priority = 4, Hit
;animtype  = hard
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,2
ground.type = low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.32
fall = 0
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
p2stateno = 4080

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = 1
ignorehitpause = 1
pos = 0,0

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = changeanim
triggerall = anim != 4079
trigger1 = time >= 60 && root,var(21) != 1
trigger2 = time >= 90 && root,var(21) = 1
value = 4079

[state a]
type = varadd
trigger1 = anim = 4079
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = anim = 4078
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = anim = 4079
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = anim = 4079
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073


;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 4080]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = selfstate
Trigger1 = Time = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; マルテルン
[Statedef 2753]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2753
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2750, 0

;---------------------[変数]
[state a];仕込み２
type = varset
trigger1 = time = 13
trigger1 = var(31) != 0
trigger1 = var(32) = 0
v = 32
value = 4

[state a];仕込み１
type = varset
trigger1 = time = 13
trigger1 = var(31) = 0
v = 31
value = 4

;---------------------[ヘルパー]
[state a];アルカナ技発動
type = Helper
trigger1 = animelem = 5
id = 4074
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4074
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; ギーァ・マルテルン
[Statedef 4083]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4083
poweradd = 0
sprpriority = 3

;---------------------[影]
[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[エフェクト]
[State explod];
type = Explod
trigger1 = AnimElem = 7
anim = 4084
id = 3000
sprpriority = 2
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 1
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256-85,85

[State explod];
type = Explod
trigger1 = AnimElem = 12
anim = 4085
id = 3000
sprpriority = 2
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 1
under = 0
scale = 0.5,0.5
trans = addalpha
alpha = 256-85,85

;---------------------[]
[state a]
type = turn
triggerall = p2dist x < 0
trigger1 = time = 0
trigger2 = AnimElem = 7
trigger3 = AnimElem = 12

;---------------------[変数]
[state a];
type = parentvarset
trigger1 = time = 0
trigger1 = root,var(31) != 0
trigger1 = root,var(32) != 0
v = 32
value = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
value = 2750, 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 0

[state a]
type = posadd
trigger1 = animelem = 5
trigger2 = AnimElem = 10
trigger3 = AnimElem = 15
x = 176


;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time > 68
v = 1
value = 10

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 9
attr = A, HA
damage    = floor(57*root,fvar(5)),10
getpower = 0,0
priority = 4, Hit
animtype  = hard
hitflag = MAFLD
guardflag = MA
pausetime = 14,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -3.0,-4
air.velocity = -3.0,-4
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[State 400, 2]
type = HitDef
trigger1 = animelem = 14
attr = A, HA
damage    = floor(84*root,fvar(5)),10
getpower = 0,0
priority = 5, Hit
animtype  = diagup
hitflag = MAFLD
guardflag = MA
pausetime = 23,23
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,2
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6.0,-6
air.velocity = -6.0,-6
yaccel = 0.32
fall = 1
fall.recover = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999

[state a]
type = statetypeset
trigger1 = animelem = 20
movetype = I

;---------------------[ダメージ補正]
[state a]
type = null;parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.87

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = animelem = 4,>=0  && animelem = 5,<0
id = 7001
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = animelem = 9,>=0  && animelem = 10,<0
id = 7001
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = animelem = 14,>=0  && animelem = 15,<0
id = 7002
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1



[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = animelem = 4,>=0  && animelem = 5,<0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = animelem = 9,>=0  && animelem = 10,<0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = animelem = 14,>=0  && animelem = 15,<0
id = 7050
name = "hit"
pos = floor(p2dist x/2 +35) , floor(p2dist y/2 -58)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1



;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = animelem = 5,<0
trigger2 = animelem = 7,>=0
trigger2 = animelem = 10,<0
trigger3 = animelem = 12,>=0
trigger3 = animelem = 15,<0
trans = addalpha
alpha = 256-20,20

[state a]
type = Trans
trigger1 = animelem = 5,>=0
trigger1 = animelem = 10,<0
trigger2 = animelem = 10,>=0
trigger2 = animelem = 12,<0
trigger3 = animelem = 15,>=0
trigger3 = animelem = 20,<0
trans = addalpha
alpha = 256-85,85

[state a]
type = Trans
trigger1 = animelem = 20,>=0
trans = addalpha
alpha =156 - floor(var(1)*1.56),100 + floor(var(1)*1.56)

[state a]
type = sprpriority
trigger1 = animelem = 20
value = -3

;---------------------[ステートチェンジ]
[State 200, 7];待機
type = ChangeState
trigger1 = root,var(32) != 0
trigger1 = var(1) = 10
value = 4072


[State 200, 7];解除
type = ChangeState
trigger1 = var(1) >= 100
value = 4073


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;アルカナ必殺技０８・ディウー・モール
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; アンプワゾネ
[Statedef 2800]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2800
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 10
value = 4000, 0+(Random%9)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 5
value = 2800, 0

;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 10
id = 4130
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4130
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];魔方陣エフェクト
type = Helper
trigger1 = animelem = 10
id = 4131
name = "Mg"
pos = 0,0
postype = p1
stateno = 4131
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



[state a];蔦
type = null;Helper
trigger1 = animelem = 5
id = 4002
name = "tuta"
pos = 0,0
postype = p1
stateno = 4002
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1



;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)アルカナ技発動その１
[Statedef 4130]
type = A
ctrl = 0
anim = 4130
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = 1
pos = 22,-57

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varset
trigger1 = root,stateno = 2800 && root,animelem = 21
trigger2 = root,stateno = 2806 && root,animelem = 1
var(2) = 1



[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = var(2) != 0
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger1 = var(2) != 0
trigger2 = root,movetype = H

;----------------------------------------------------------------------------
;(HELPER)魔方陣エフェクト
[Statedef 4131]
type = A
ctrl = 0
anim = 4131
velset = 0,0
movetype = I
physics = N
sprpriority = -1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 92,-240

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = time >= 75
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[ヘルパー]
[state a];毒の泡
type = Helper
trigger1 = time >= 10
trigger1 = time % 12 = 0
trigger1 = time <= 87
id = 4132
name = "awa"
pos = 0,0
postype = p1
stateno = 4132
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];毒髑髏
type = Helper
trigger1 = time = 0
id = 4133
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4133
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;----------------------------------------------------------------------------
;(HELPER)毒の泡
[Statedef 4132]
type = A
ctrl = 0
anim = 4132
velset = 0,-1
movetype = I
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = -32+(Random%64),-5


;---------------------[]
[state a]
type = veladd
trigger1 = time >= 5
trigger1 = vel y > -3.0
y = -0.07



;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varadd
trigger1 = time <= 10
var(1) = -26

[state a]
type = varadd
trigger1 = time >= 47
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = changestate
trigger1 = movehit
value = 4134

[state a]
type = changestate
trigger1 = time = 87
value = 4135

[state a]
type = destroyself
trigger1 = var(1) >= 256




;----------------------------------------------------------------------------
;(HELPER)毒髑髏
[Statedef 4133]
type = A
ctrl = 0
anim = 4133
velset = 0,0
movetype = A
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 1
pos = 0,-40


;---------------------[]
[state a]
type = veladd
trigger1 = time >= 22
trigger1 = vel y > -0.55
y = -0.05

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 20
attr = A, SP
damage    = floor(38*root,fvar(5)),10
getpower = 30,30
givepower = -150,0
priority = 3, Hit
animtype  = mid
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 0,14
sparkno = s-1
sparkxy = -0,-0
hitsound   = s420,0
guard.sparkno = s-1
guardsound = s120,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.5,-8
air.velocity = -1.5,-7.5
yaccel = 0.35
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
palfx.time =55
palfx.mul = 110,10,120
palfx.sinadd = 123,125,128,28
palfx.add = 74,1,70

;---------------------[ダメージ補正]
[state a]
type = parentvarset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(5) = root,fvar(5)*0.91


;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7002
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7050
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -63)
postype = p1
stateno = 7050
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];毒ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7060
name = "hit"
pos = 0,0;floor(p2dist x/2 +20) , floor(p2dist y/2 -55)
postype = p1
stateno = 7060
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1


;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varadd
trigger1 = time <= 20
var(1) = -13

[state a]
type = varadd
trigger1 = time >= 87
trigger2 = moveguarded
var(1) = 14
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = changestate
trigger1 = movehit
value = 4134

[state a]
type = changestate
trigger1 = time = 87
value = 4135

[state a]
type = destroyself
trigger1 = var(1) >= 256



;----------------------------------------------------------------------------
;(HELPER)毒髑髏・ヒット
[Statedef 4134]
type = A
ctrl = 0
anim = 4134
velset = 0,0
movetype = A
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow


;---------------------[]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 2800, 1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varset
trigger1 = time = 0
var(2) = 0

[state a]
type = varadd
trigger1 = time >= 30
trigger2 = moveguarded
var(1) = 16
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256

;----------------------------------------------------------------------------
;(HELPER)毒髑髏・消滅
[Statedef 4135]
type = A
ctrl = 0
;anim = 4135
;velset = 0,0
movetype = I
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数指定]
[state a]
type = varadd
trigger1 = 1
var(1) = 14
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; デシリュール1
[Statedef 2801]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2801
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 2
y = -50
;---------------------[音]
[State 200, 1];たぁ
type = PlaySnd
trigger1 = AnimElem = 2
value = 220, 1

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 2801, 0

;---------------------[無敵]
[State 5120, 3]
type = NotHitBy
trigger1 = prevstateno = 5050
value = SCA
time = 1

;---------------------[ヘルパー]
[state a];エフェクトその１
type = Helper
trigger1 = animelem = 2
id = 4136
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4136
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその２
type = Helper
trigger1 = animelem = 2
id = 4138
name = "Mg"
pos = 0,0
postype = p1
stateno = 4138
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[拡縮]
[state a]
type = angledraw
trigger1 = time >= 3
scale = 1.0 - (time - 3)*0.03 , 1.0 - (time - 3)*0.03

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animelem = 3
value = 2803

;---------------------------------------------------------------------------
; デシリュール2
[Statedef 2802]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2801
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 2
y = -50

[state a]
type = posset
trigger1 = animelem = 3
x = enemy,pos x
y = enemy,pos y -50

;---------------------[音]
[State 200, 1];たぁ
type = PlaySnd
trigger1 = AnimElem = 2
value = 220, 1

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 2
value = 2801, 0

;---------------------[無敵]
[State 5120, 3]
type = NotHitBy
trigger1 = prevstateno = 5050
value = SCA
time = 1

;---------------------[ヘルパー]
[state a];エフェクトその１
type = Helper
trigger1 = animelem = 2
id = 4136
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4136
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその２
type = Helper
trigger1 = animelem = 2
id = 4138
name = "Mg"
pos = 0,0
postype = p1
stateno = 4138
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[拡縮]
[state a]
type = angledraw
trigger1 = time >= 3
scale = 1.0 - (time - 3)*0.03 , 1.0 - (time - 3)*0.03

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animelem = 3
value = 2803

;---------------------------------------------------------------------------
; デシリュール・出現
[Statedef 2803]
type    = A
movetype= I
physics = A
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 2803
poweradd = 0
sprpriority = 1

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 2801, 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = posadd
trigger1 = time = 0
trigger1 = command = "holdfwd"
trigger1 = prevstateno != 2815
x = 150

[state a]
type = posadd
trigger1 = time = 0
trigger1 = command = "holdback"
trigger1 = prevstateno != 2815
x = -150

[state a]
type = posadd
trigger1 = time = 0
trigger1 = command = "holdup"
trigger1 = prevstateno != 2815
y = -150

[state a]
type = posadd
trigger1 = time = 0
trigger1 = command = "holddown"
trigger1 = prevstateno != 2815
y = 150

[state a]
type = posset
trigger1 = time = 0
trigger1 = pos y >= 0
y = 0





[state a]
type = posadd
trigger1 = time = 20
y = 50


[state a]
type = velset
trigger1 = time <= 20
y = 0

[state a]
type = ctrlset
trigger1 = time = 20
value = 1


[State 1000, 0]
type = PlayerPush
trigger1 = time <= 20
value = 0

[State 1000, 0]
type = PlayerPush
trigger1 = time > 20
value = 1



;---------------------[音]
[State 200, 1];隙あり
type = PlaySnd
trigger1 = time = 0
trigger1 = prevstateno != 2815
value = 1300, 0

;---------------------[ヘルパー]
[state a];エフェクトその１
type = Helper
trigger1 = time = 1
id = 4137
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4137
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその２
type = Helper
trigger1 = time = 1
id = 4138
name = "Mg"
pos = 0,0
postype = p1
stateno = 4138
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[拡縮]
[state a]
type = angledraw
trigger1 = time <= 20
scale = time*0.05 ,time*0.05

;----------------------------------------------------------------------------
;(HELPER)エフェクト１a
[Statedef 4136]
type = A
ctrl = 0
anim = 4136
velset = 0,0
movetype = I
physics = N
sprpriority = -3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = null;bindtoparent
trigger1 = time = 0
pos = 0,0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 30

[state a]
type = varset
trigger1 = time = 0
var(2) = 22

[state a]
type = varadd
trigger1 = 1
var(2) = -1


[state a]
type = varset
trigger1 = 1
var(1) = var(1) + var(2)

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 216,20


[state a]
type = angleadd
trigger1 = 1
value = 5

[state a]
type = angledraw
trigger1 = 1
scale = 0.5+var(1)*0.002,0.5+var(1)*0.002

;---------------------[ヘルパー]
[state a];エフェクトその３
type = Helper
trigger1 = time <= 5
id = 4139
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4139
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその３
type = Helper
trigger1 = time <= 5
id = 4139
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4139
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 30

;----------------------------------------------------------------------------
;(HELPER)エフェクト１b
[Statedef 4137]
type = A
ctrl = 0
anim = 4136
velset = 0,0
movetype = I
physics = N
sprpriority = -3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = null;bindtoparent
trigger1 = time = 0
pos = 0,0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 40

[state a]
type = varset
trigger1 = time = 0
var(2) = 20

[state a]
type = varadd
trigger1 = 1
var(2) = -1


[state a]
type = varset
trigger1 = 1
var(1) = var(1) + var(2)

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 216,20


[state a]
type = angleadd
trigger1 = 1
value = 5

[state a]
type = angledraw
trigger1 = 1
scale = 0.3+var(1)*0.002,0.3+var(1)*0.002

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 26

;----------------------------------------------------------------------------
;(HELPER)エフェクト２
[Statedef 4138]
type = A
ctrl = 0
anim = 6268
velset = 0,0
movetype = I
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = null;bindtoparent
trigger1 = time = 0
pos = 0,0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = time >= 12
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;----------------------------------------------------------------------------
;(HELPER)エフェクト３
[Statedef 4139]
type = A
ctrl = 0
anim = 4139
velset = 0,0
movetype = I
physics = N
sprpriority = 4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = -50+(Random%100),-50+(Random%100)

;---------------------[]
[state a]
type = velset
trigger1 = time = 1
x = 2.5*((ParentDist x)/(abs(ParentDist x) + abs(ParentDist y) + 0.0000001))
y = 2.5*((ParentDist y)/(abs(ParentDist x) + abs(ParentDist y) + 0.0000001))

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = time >= 12
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15
trigger2 = abs(ParentDist x) <= 3 && abs(ParentDist y) <= 3 && time >= 2


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; サクリフィス
[Statedef 2805]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2805
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 1
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 1
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 17
value = 2800, 0


;---------------------[ヘルパー]
[state a];アルカナ技発動その１
type = Helper
trigger1 = animelem = 17
id = 4130
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4130
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];影
type = Helper
trigger1 = time = 45
id = 4140
name = "kage"
pos = 0,0
postype = p1
stateno = 4140
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
triggerall = numhelper(4140)
trigger1 = time = 153 && helper(4140),stateno = 4140
trigger2 = time = 189 && helper(4140),stateno != 4140
value = 2806

[State 200, 7]
type = ChangeState
triggerall = numhelper(4140) = 0
trigger1 = time = 189
value = 2806
;---------------------------------------------------------------------------
; サクリフィス・終了
[Statedef 2806]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2806
poweradd = 0
sprpriority = 1

;---------------------[移動]

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)影
[Statedef 4140]
type = A
ctrl = 0
anim = 4140
velset = 0,0
movetype = A
physics = N
sprpriority = -4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 84,-240

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varset
trigger1 = time = 0
var(2) = 0


[state a]
type = varadd
trigger1 = time <= 16
var(1) = -16

[state a]
type = varadd
trigger1 = time >= 96
var(1) = 16
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
damage    = 0,0
getpower = 0,0
priority = 3, Hit
animtype  = mid
hitflag = MAFLD
guardflag = N
getpower = 0,0
pausetime = 0,0
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.5,-8
air.velocity = -1.5,-7.5
yaccel = 0.35
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
p1stateno = 4141
p2stateno = 2810

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;----------------------------------------------------------------------------
;(HELPER)影2
[Statedef 4141]
type = A
ctrl = 0
;anim = 4140
velset = 0,0
movetype = A
physics = N
sprpriority = -4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoroot
trigger1 = time = 0
pos = 84,-240

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varadd
trigger1 = time <= 20
var(1) = 1

[state a]
type = varadd
trigger1 = time >= 74
var(1) = -1
;---------------------[透過、拡縮]
[state a]
type = angledraw
trigger1 = 1
scale = 1+var(1)*0.1,1+var(1)*0.1

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 104
id = 6025
name = "Arcana"
pos = 0,0
postype = p2
stateno = 6025
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];影３
type = Helper
trigger1 = time = 20
id = 4142
name = "Arcana"
pos = 0,0
postype = p2
stateno = 4142
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[]
[state a]
type = destroyself
trigger1 = time >= 104

;----------------------------------------------------------------------------
;(HELPER)影3
[Statedef 4142]
type = A
ctrl = 0
anim = 4141
velset = 0,0
movetype = A
physics = N
sprpriority = 0

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = 0,0

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 20

[state a]
type = varadd
trigger1 = time >= 54
var(1) = -1
;---------------------[透過、拡縮]
[state a]
type = angledraw
trigger1 = 1
scale = 1+var(1)*0.1,1+var(1)*0.1

;---------------------[ヘルパー]
;---------------------[]
[state a]
type = destroyself
trigger1 = time >= 84


;---------------------------------------------------------------------------
;(ENEMY)捕まれ
[Statedef 2810]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2810

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 30
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = time = 30
y = 0

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = time>= 30
trigger1 = vel y <= 14
y = .44

[state a]
type = posadd
trigger1 = time = 50
y = -800

[State 821, 3] 
type = lifeadd
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 100
value = -122

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 100
value = 5100


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ミルワール
[Statedef 2815]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2815
poweradd = 0
sprpriority = 1

[State 200, 7];失敗
type = ChangeState
trigger1 = time = 15
trigger1 = numhelper(4145) = 0
value = 2802


;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 15
time = 36
movetime = 36
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 15
value = 6250, 0

[State 2000, 2]
type = poweradd
trigger1 = time = 16
value = -1000

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 15
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 15
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 15
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 15
value = 4100, 0+(Random%3)


[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 2801, 0

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 2
y = -50


[state a]
type = posset
trigger1 = animelem = 3
x = enemy,pos x
y = enemy,pos y -50

[state a]
type = turn
trigger1 = animelem = 3

;---------------------[無敵]
[State 5120, 3]
type = NotHitBy
trigger1 = time >= 15
value = SCA
time = 1

;---------------------[ヘルパー]
[state a];エフェクトその１
type = Helper
trigger1 = animelem = 2
id = 4136
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4136
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその２
type = Helper
trigger1 = animelem = 2
id = 4138
name = "Mg"
pos = 0,0
postype = p1
stateno = 4138
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 14
id = 4145
name = "Arcana"
pos = 0,0
postype = p2
stateno = 4145
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[拡縮]
[state a]
type = angledraw
trigger1 = time >= 52
scale = 1.0 - (time - 52)*0.03 , 1.0 - (time - 52)*0.03

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = animelem = 3
value = 2803



;----------------------------------------------------------------------------
;(HELPER)相手捕縛用ヘルパー
[Statedef 4145]
type = A
ctrl = 0
anim = 4145
velset = 0,0
movetype = A
physics = N
sprpriority = -4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = posset
trigger1 = time = 0
pos = enemy,pos x,ememy,pos y-50

;---------------------[]
[state a]
type = posset
trigger1 = time = 29
x = root,pos x
y = root,pos y

[state a]
type = targetbind
trigger1 = time = 32
pos = 0,50

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 0

[state a]
type = varset
trigger1 = time = 0
var(2) = 0
;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
trigger1 = enemy,movetype != H
attr = A, HA
damage    = 0,0
getpower = 0,0
priority = 3, Hit
animtype  = mid
hitflag = MAFLD
guardflag = N
getpower = 0,0
pausetime = 0,0
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.35
fall = 1
fall.recover = 0
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
p2stateno = 2816

[State 400, 2]
type = HitDef
trigger1 = time = 0
trigger1 = enemy,movetype = H
attr = A, HA
damage    = 0,0
getpower = 0,0
priority = 3, Hit
animtype  = mid
hitflag = MAFLD
guardflag = N
getpower = 0,0
pausetime = 0,0
sparkno = s-1
sparkxy = -0,-0
hitsound   = s-1,0
guard.sparkno = s-1
guardsound = s-1,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.35
fall = 1
fall.recover = 0
fall.recovertime = 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 200
nochainID = 9999
p2stateno = 2817

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 1
trigger1 = movehit = 0
trigger2 = time = 55

;---------------------[ヘルパー]
[state a];エフェクトその１
type = Helper
trigger1 = time = 2
id = 4136
name = "Arcana"
pos = 0,-50
postype = p1
stateno = 4136
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその２
type = Helper
trigger1 = time = 2
id = 4138
name = "Mg"
pos = 0,-50
postype = p1
stateno = 4138
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];エフェクトその１
type = Helper
trigger1 = time = 30
id = 4137
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4137
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクトその２
type = Helper
trigger1 = time = 30
id = 4138
name = "Mg"
pos = 0,0
postype = p1
stateno = 4138
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1




;---------------------------------------------------------------------------
;(ENEMY)捕まれ1
[Statedef 2816]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = posadd
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2816

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


[State 820, 1]
type = turn
Trigger1 = Time = 30

;---------------------[拡縮]
[state a]
type = angledraw
trigger1 = time <= 30
scale = 1.0 - time*0.03 , 1.0 - time*0.03

[state a]
type = angledraw
trigger1 = time > 30
trigger1 = time <= 50
scale = (time-30)*0.05 ,(time-30)*0.05

[State 1];
type = selfstate
trigger1 = time = 50
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)捕まれ2
[Statedef 2817]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = posadd
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2817

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


[State 820, 1]
type = turn
Trigger1 = Time = 30


[state a]
type = veladd
trigger1 = time = 50
y = -4

;---------------------[拡縮]
[state a]
type = angledraw
trigger1 = time <= 30
scale = 1.0 - time*0.03 , 1.0 - time*0.03

[state a]
type = angledraw
trigger1 = time > 30
trigger1 = time <= 50
scale = (time-30)*0.05 ,(time-30)*0.05

[State 1];
type = selfstate
trigger1 = time = 50
value = 5050


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; アンヴァリデ
[Statedef 2820]
type    = S
movetype= A
physics = N
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 2820
poweradd = -1000
sprpriority = 1

;---------------------[超必殺技演出]
[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 6250, 0

;---------------------[]
[state a];演出用ヘルパー・スパーク
type = Helper
trigger1 = time = 3
id = 6250
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6250
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 3
id = 6260
name = "hom"
sprpriority = -2
pos = 5,-50
postype = p1
stateno = 6260
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

[state a];演出用ヘルパー・背景
type = Helper
trigger1 = time = 3
id = 30
name = "hom"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 6210
helpertype = normal
pausemovetime = 60
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 4100, 0+(Random%3)

[State 200, 1];
type = PlaySnd
trigger1 = AnimElem = 4
value = 2800, 0

;---------------------[]
[State 800, 1]
type = HitDef
trigger1 = statetype = S
Trigger1 = animelem = 5
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, HT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, hit    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = ifelse (command = "holdback", -1, 1) 
p2facing = 1;ifelse (command = "holdback", -1, 1)          ;？
p1stateno = 2822
p2stateno = 2825
;hitsound = S800,0
fall = 0              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999


[State 800, 1]
type = HitDef
trigger1 = statetype = A
Trigger1 = animelem = 5
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = A, HT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = A-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = 1 ;前を押したらターンする設定
p2facing = 1          ;？
p1stateno = 2822
p2stateno = 2825
;hitsound = S800,0
fall = 1              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999


;---------------------[ヘルパー]
[state a];髑髏
type = Helper
trigger1 = animelem = 6
id = 4150
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4150
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];炎
type = null;Helper
trigger1 = animelem = 5
id = 4113
name = "honoo"
pos = 60,-56
postype = p1
stateno = 4113
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = changeanim
trigger1 = time = 110
value = 2821

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = anim = 2821
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = anim = 2821
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; アンヴァリデ・成功
[Statedef 2822]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 2822
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = velmul
trigger1 = time = 0
x = 0.05
y = 0.05

[state a]
type = statetypeset
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = S

[State 00]
type = posset
trigger1 = statetype = S
y = 0

[State 00]
type = velset
trigger1 = statetype = S
x = 0
y = 0

;---------------------[ヘルパー]
[state a];髑髏
type = Helper
trigger1 = animelem = 6
id = 4152
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4152
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[相手制御]
[state a]
type = targetlifeadd
trigger1 = time >= 45
trigger1 = time % 4= 0
trigger1 = time < 110
value = -4
kill = 0

[state a]
type = targetlifeadd
trigger1 = time = 110
value = -4

[state a]
type = TargetPowerAdd
trigger1 = time >= 50
trigger1 = time < 100
value = -20

;---------------------[]
[state a]
type = changeanim
trigger1 = time = 112
value = 2821

;---------------------[ステートチェンジ]
[State 200, 7]
type = ChangeState
trigger1 = anim = 2821
trigger1 = animtime = 0
trigger1 = statetype = A
value = 2552
ctrl = 1


[State 200, 7]
type = ChangeState
trigger1 = anim = 2821
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------
;(HELPER)髑髏
[Statedef 4150]
type = A
ctrl = 0
anim = 4150
velset = 0,0
movetype = A
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = 105,-78

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = animelemtime(7) >= 10
var(1) = 32

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)


;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 4151
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4151
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = animelemtime(7) >= 20


;----------------------------------------------------------------------------
;(HELPER)髑髏2
[Statedef 4151]
type = A
ctrl = 0
anim = 4151
velset = 0,0
movetype = A
physics = N
sprpriority = 4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = 105,-78

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varadd
trigger1 = time <= 8
var(1) = -16

[state a]
type = varadd
trigger1 = time >= 9
var(1) = 16

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 17


;----------------------------------------------------------------------------
;(HELPER)髑髏3
[Statedef 4152]
type = A
ctrl = 0
anim = 4152
velset = 0,0
movetype = A
physics = N
sprpriority = 3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = 105,-78

;---------------------[音]
[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 2800, 1

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = animelemtime(17) >= 10
var(1) = 32

;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)


;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 4151
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4151
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];エフェクト
type = Helper
trigger1 = animelem = 3,>=0
trigger1 = animelem = 13,<=0
trigger1 = time % 6 = 0
id = 4153
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4153
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 3,>=0
trigger1 = animelem = 13,<=0
trigger1 = time % 6 = 0
id = 4153
name = "Arcana"
pos = 0,0
postype = p1
stateno = 4153
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = animelemtime(17) >= 20

;----------------------------------------------------------------------------
;(HELPER)エフェクト
[Statedef 4153]
type = A
ctrl = 0
anim = 4139
velset = 0,0
movetype = I
physics = N
sprpriority = 4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[発生位置（キャラごとに変更）]
[state a]
type = bindtoparent
trigger1 = time = 0
pos = -80+(Random%15),-20+(Random%80)

;---------------------[]
[state a]
type = velset
trigger1 = time = 1
x = 3.5*((ParentDist x)/(abs(ParentDist x) + abs(ParentDist y) + 0.0000001))
y = 3.5*((ParentDist y)/(abs(ParentDist x) + abs(ParentDist y) + 0.0000001))

;---------------------[変数指定]
[state a]
type = varset
trigger1 = time = 0
var(1) = 256

[state a]
type = varadd
trigger1 = time <= 8
var(1) = -32

[state a]
type = varadd
trigger1 = time >= 12
var(1) = 32
;---------------------[透過、拡縮]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state a]
type = angledraw
trigger1 = 1
scale = 1.5 - time*0.05,1.5 - time*0.05

;---------------------[]
[state a]
type = destroyself
;trigger1 = time = 15
trigger1 = abs(ParentDist x) <= 3 && abs(ParentDist y) <= 3 && time >= 2



;---------------------------------------------------------------------------
;(ENEMY)捕まれ1
[Statedef 2825]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = posadd
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2825

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[拡縮]
[State 1];
type = selfstate
trigger1 = time = 112
value = 5050
