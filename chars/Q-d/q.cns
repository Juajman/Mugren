;ガードキルの




;5  空中ダッシュ

;23 一撃　音楽
;24 七星　0→７つ 7→０つ（一撃OK)
;25 デバッグ
;29 ホチる 
;33 爆伴
;40 ２段ジャンプ　０なら可能　    １ならもう無理
;48 ブーストゲージ

;49






[Data]
life = 1050
power = 3000
attack = 100;88
defence = 110
fall.defence_up = 50
liedown.time = 60
airjuggle = 48
sparkno = 0
guard.sparkno = 40;S8003
KO.echo = 0
volume = 100
IntPersistIndex = 20
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 14;24     ;Player width (back, ground)
ground.front = 12;26    ;Player width (front, ground)
air.back = 20        ;Player width (back, air)
air.front = 20       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 50	         ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.7     ;Walk forward
walk.back = -1.2     ;Walk backward
run.fwd  = 5, -3.8 ;Run forward (x, y)
run.back = -5,-3.4 ;Hop backward (x, y)
jump.neu = 0,-8.4    ;Neutral jumping velocity (x, y)
jump.back = -3.2,-2.55    ;Jump back Speed (x, y)
jump.fwd = 3.2,2.5        ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.9      ;.
airjump.neu = 0,-8.9      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 1    ;Number of air jumps allowed (opt)
airjump.height = 45  ;Minimum distance from ground before you can air jump (opt)
yaccel = .44         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching




;北斗system







;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[state 0,0]
type = varset
trigger1 = time >= 0
v = 7
value = 0



[state 0,0];基本ｓんだｎ
type = varset
trigger1 = time = 0
v = 53
value = 0
[state 0,0]
type = varset
trigger1 = time = 0
v = 54
value = 0
[state 0,0]
type = varset
trigger1 = time = 0
v = 55
value = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 23
value = 0

[State 5900, 0]
type = Varadd
trigger1 = roundno >= 2
trigger1 = var(24) >= 1
v = 24
value= -1
persistent = 0

[State 5900, 0]
type = null;VarSet
triggerall = var(50) = 2
trigger1 = var(42) = 2
v = 50
value= 1

[State 5900, 0]
type = powerSet
trigger1 = var(50) = 2
value = 2000
[State 5900, 0]
type = powerSet
trigger1 = var(50) >= 3
value = 0

[State 5900, 0]
type = VarSet
trigger1 = var(50) >= 3
v = 50
value= 0

[State 1000, 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "kenki"
postype = left
pos = 0,0
stateno = 9050
ownpal = 1
sprpriority = 5
id = 9050
keyctrl = 0
pausemovetime = 200
bindtime = -1

[state 0,0]
type = powerset
trigger1 = roundno = 1
value = 1003

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 2];ブーストゲージ
type = null;VarSet
trigger1 = 1
v = 48
value = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190



;------------------------
;BOOST関連
[Statedef 2990]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[State 2, 0]
type = null;PlaySnd
trigger1 = time = 1
trigger1 = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) >= 6
trigger1 = random >= 800
value = 200,12
persistent = 0
[State 2, 0]
type = null;PlaySnd
trigger1 = time = 1
trigger1 = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) >= 6;trigger1 = parent,fvar(30) != 0
trigger1 = random >= 800
value = 200,26
persistent = 0

[state 2, BOOST]
type = palfx
trigger1 = time >= 0
time = 2
add = 180,50,0

[state 0,0]
type = parentvaradd
;triggerall = parent,Numhelper(2990) = 0
trigger1 = time = 0
trigger1 = parent,var(48) != [34,44]
trigger1 = parent,var(48) != [67,74]
trigger1 = parent,var(48) >= 8
v = 48
value = -7
[state 0,0]
type = parentvaradd
;triggerall = parent,Numhelper(2990) = 0
trigger1 = time = 0
trigger1 = parent,var(48) = [33,34]
trigger1 = parent,var(48) = [66,67]
trigger1 = parent,var(48) <= 6
v = 48
value = -6
[state 0,0]
type = parentvarset
trigger1 = time = 0
v = 26
value = 323

[state 2,0];ブースト
type = parentvaradd
triggerall = parent,var(26) = [1,323]
trigger1 = time = 0
trigger1 = parent,var(48) >= 5
v = 48
value = -5
[state 2,0];ブースト
type = parentvaradd
triggerall = parent,var(26) = [1,323]
trigger1 = time = 0
trigger1 = parent,var(48) < 5
v = 48
value = 0


[State 701, Effect]
type = Explod
trigger1 = Time = 1
trigger1 = parent,statetype = A
anim = 7122
postype = p1
pos = 45,-65
sprpriority = 5
ownpal = 0
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[State 701, Effect]
type = Explod
trigger1 = Time = 1
trigger1 = parent,statetype != A
anim = 7122
postype = p1
pos = 50,-45
sprpriority = 5
ownpal = 0
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 10
range = -15,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 11
range = -12,12

[State 701, Effect]
type = Explod
trigger1 = Time = [0,10]
anim = 7124
postype = p1
pos = -5,-65
random = 10,40
sprpriority = 5
ownpal = 0
ignorehitpause = 1
removeongethit = 1
scale = 0.05,0.05
vel = var(10)*0.5,var(11)*0.5

[state 0,0];メルティコンボリセット
type = parentvarset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = parentvarset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = parentvarset
trigger1 = time >= 0
var(47) = 0
[state 0,0];基本三段リセット
type = parentvarset
trigger1 = time >= 0
var(52) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,5]
type = destroyself
trigger1 = time >= 160
trigger2 = time >= 160;parent,command = "FF"
trigger3 = parent,command = "BB"
trigger4 = parent,command = "holdup"
trigger5 = parent,movetype = H
trigger6 = parent,p2bodydist x <= 1
trigger6 = time >= 80
trigger7 = parent,stateno = [1000,1012]
trigger7 = parent,time <= 9
trigger8 = parent,stateno = [900,999];投げ
trigger9 = parent,stateno = [2000,4001];超必殺の類
trigger10 = parent,stateno = [9900,9929];シールド
trigger11 = parent,stateno = [1013,1059]
trigger11 = parent,stateno = [1061,1099]
trigger11 = parent,stateno != [8800,8810];北斗一撃
trigger11 = parent,stateno != 1083
trigger12 = parent,movetype = A
;trigger12 = parent,movecontact
;trigger12 = parent,p2bodydist x <= 50
trigger12 = time >= 20
trigger13 = parent,command = "back"
trigger13 = time >= 15
trigger14 = parent,stateno = 1119
trigger15 = parent,stateno = [1080,1099]
trigger16 = parent,stateno = 1184


;------------------------
;BOOST関連2
[Statedef 2996]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = parentvarset
trigger1 = time = 0
trigger1 = parent,var(48) <= 30
v = 48
value = 30

[state 0,0]
type = parentvarset
trigger1 = time = 0
v = 26
value = 300

[state 0,0]
type = parentvarset
trigger1 = time = 0
v = 36
value = 1

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,5]
type = changestate;destroyself
trigger1 = time >= 300
trigger2 = parent,command = "FF"
trigger3 = parent,command = "BB"
trigger4 = parent,command = "holdup"
trigger5 = parent,movetype = H
trigger6 = parent,p2bodydist x <= 1
trigger6 = time >= 200
trigger7 = parent,stateno = [1000,1012]
trigger7 = parent,time <= 9
trigger8 = parent,stateno = [900,999];投げ
trigger9 = parent,stateno = [2000,4001];超必殺の類
trigger10 = parent,stateno = [9900,9929];シールド
trigger11 = parent,stateno = [1013,1099]
trigger11 = parent,stateno != 8800;北斗一撃
trigger11 = parent,stateno != 1083
trigger12 = parent,movetype = A
trigger12 = parent,movecontact
trigger12 = parent,p2bodydist x <= 30
trigger12 = time >= 20
trigger13 = parent,command = "back"
trigger13 = time >= 15
trigger14 = time >= 2
value = 2997

;------------------------
;自動BOOST関連3
[Statedef 2997]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = destroyself
trigger1 = time >= 5
trigger1 = enemy,movetype != H
trigger2 = parent,stateno = 8710
;trigger2 = parent,var(27) = 0

;--------------------------------------------------------------------------
; 立ち状態
[Statedef 0]
type = S
physics = S
sprpriority = 0
anim = 0

[State 105, 2]
type = CtrlSet
trigger1 = var(34) != 0
value = 0
[State 105, 2]
type = CtrlSet
trigger1 = prevstateno = [130,155]
trigger1 = roundstate = 2
trigger1 = var(34) = 0
value = 1

[State 50, 2]
type = ChangeAnim
triggerall = prevstateno = [130,155]
trigger1 = ctrl = 0
value = 130

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Numhelper(2990) >= 1
value = 100

[state 2, kihon]
type = varset
trigger1 = time = 0
v = 52
value = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];メルティコンボ補正リセット
type = varset
trigger1 = enemy,movetype != H
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
trigger1 = time >= 0
fvar(5) = 1
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[state 1256];リセット
type = Varset
trigger1 = time = 1
var(5) = 0

[state 0,0];リセット
type = varset
trigger1 = time = 0
var(6) = 0

[state 0,0]
type = varset
trigger1 = time = 0
var(14) = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 1]
type = ChangeAnim
triggerall = ctrl = 1
triggerall = Numhelper(2990) = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 1201,end]
type = Destroyself
triggerall = ishelper
trigger1 = time = 1


;--------------------------------------------------------------------------
; 立ち状態
[Statedef 1]
type = S
movetype = H
physics = S
sprpriority = 0
anim = 130


[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = Time >= GetHitVar(hittime)
x = 0

[State 105, 2]
type = CtrlSet
trigger1 = var(34) != 0
value = 0
[State 105, 2]
type = CtrlSet
trigger1 = prevstateno = [130,155]
trigger1 = roundstate = 2
trigger1 = var(34) = 0
value = 1

[State 50, 2]
type = ChangeAnim
triggerall = prevstateno = [130,155]
trigger1 = ctrl = 0
value = 130

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Numhelper(2990) >= 1
value = 100

[state 2, kihon]
type = varset
trigger1 = time = 0
v = 52
value = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];メルティコンボ補正リセット
type = varset
trigger1 = enemy,movetype != H
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
trigger1 = time >= 0
fvar(5) = 1
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[state 1256];リセット
type = Varset
trigger1 = time = 1
var(5) = 0

[state 0,0];リセット
type = varset
trigger1 = time = 0
var(6) = 0

[state 0,0]
type = varset
trigger1 = time = 0
var(14) = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 1]
type = ChangeAnim
triggerall = ctrl = 1
triggerall = Numhelper(2990) = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 1201,end]
type = changestate
trigger1 =var(34) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 時間切れで負け
[Statedef 170]
type = S
ctrl = 0
anim = 7430
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝ち台詞をきめる
[Statedef 180]
type = S
anim = 0
[State 180, 2]
type = ChangeState
;trigger1 = var(7) = 0;prevstateno != 8811
trigger1 = roundstate = 2
value = 0

[state 0,0]
type = screenbound
trigger1 = var(7) = 1;prevstateno = 8811
value = 0

[state 0,0]
type = assertspecial
trigger1 = var(7) = 1;prevstateno = 8811
flag = invisible

[State 180, 2]
type = ChangeState
trigger1 = var(7) = 1;prevstateno = 8811
trigger1 = time = 1
value = 184

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,1

[State 180, 2]
type = ChangeState
trigger1 = var(7) = 0;prevstateno != 8811
;trigger1 = var(19) = 0
trigger1 = matchover = 0
trigger1 = time = 1
value = 181
[State 180, 2]
type = ChangeState
trigger1 = var(7) = 0;prevstateno != 8811
trigger1 = matchover = 1;
trigger1 = var(19) = 0
trigger1 = time = 1
value = 182
[State 180, 2]
type = ChangeState
trigger1 = var(7) = 0;prevstateno != 8811
trigger1 = matchover = 1;
trigger1 = var(19) = 1
trigger1 = time = 1
value = 183
;---------------------------------------------------------------------------
;勝利ポーズ
; Win pose …
[Statedef 184]
type = S
ctrl = 0
movetype= I
physics = N
anim = 20
velset = 3.5,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible

;---------------------------------------------------------------------------
;勝利ポーズ
; Win pose …
[Statedef 181]
type = S
ctrl = 0
movetype= I
physics = S
anim = 7396

[State 0, 0]
type = PlaySnd
trigger1 = time = 10
trigger1 = random >= 500
value = 200,2
channel = 0

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 100
flag = roundnotover

;---------------------------------------------------------------------------
;勝利ポーズ
; Win pose …
[Statedef 182]
type = S
ctrl = 0
sprpriority = -1
movetype= I
physics = N
anim = 20

[state 0,0]
type = velset
trigger1 = time = 0
x = 1.5

[state 0,0]
type = varadd
trigger1 = var(28) >= 0
v = 28
value = -2
persistent = 1

[state 0,0]
type = velset
trigger1 = var(28) <= 30;p2bodydist x < 5
x = 0

[State 180, 2]
type = Changeanim
trigger1 = var(28) <= 30
trigger1 = anim != 7397
trigger1 = anim != 0
value = 7397

[State 180, 2]
type = Changeanim
trigger1 = animtime = 0
trigger1 = anim = 7397
value = 0

[State 190, 2]
type = AssertSpecial
trigger1 = var(28) <= 30
trigger1 = anim != 0
trigger1 = time <= 200
flag = roundnotover

[State 1000, Snd1]
type = PlaySnd
trigger1 = anim = 7110
value = 200,31;210,4
channel = 0
persistent = 0

;---------------------------------------------------------------------------
;勝利ポーズ
; Win pose …
[Statedef 183]
type = S
ctrl = 0
movetype= I
physics = N
anim = 20
sprpriority = -3

[state 0,0]
type = velset
trigger1 = time = 0
x = 1.5

[state 0,0]
type = varadd
trigger1 = var(28) >= 0
v = 28
value = -2
persistent = 1

[state 0,0]
type = velset
trigger1 = var(28) <= 15;p2bodydist x < 5
x = 0

[State 180, 2]
type = Changeanim
trigger1 = var(28) <= 15
trigger1 = anim != 7398
;trigger1 = anim != 20
value = 7398
[State 180, 2]
type = Changeanim
trigger1 = animtime = 0
trigger1 = anim = 7398
value = 20
[state 0,0]
type = velset
trigger1 = anim = 20
x = 1.5

[State 190, 2]
type = AssertSpecial
trigger1 = anim != 20
trigger1 = time <= 280
flag = roundnotover



;---------------------------------------------------------------------------
;登場シーンをきめる Preintro

[Statedef 190]
type = S
ctrl = 0
velset = 0,0
[State 5900, 0]
type = VarSet
trigger1 = roundno = 1
trigger1 = palno = [7,12]
v = 41
value= 2
[State 5900, 0]
type = VarSet
trigger1 = roundno = 1
trigger1 = palno = [1,6]
v = 41
value= 1

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,1

[State 190, 4]
type = ChangeState
trigger1 = var(19) = 0
value = 193
[State 190, 4]
type = ChangeState
trigger1 = var(19) = 1
value = 191

;---------------------
; 空中から登場
[Statedef 191]
type = A
ctrl = 0
velset = 0,0
anim = 0;7390

[State 1000, effect]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bunsin"
postype = p1
pos = -80,-280
stateno = 192
ownpal = 1
id = 192


[state 0,0]
type = varadd
trigger1 = var(41) != 0
trigger1 = command = "holdup"
v = 58
value = -1
persistent = 4
[state 0,0]
type = varadd
trigger1 = var(41) != 0
trigger1 = command = "holddown"
v = 58
value = 1
persistent = 4

[state 0,0]
type = varadd
trigger1 = command = "start"
v = 41
value = ifelse(var(41)=2,-2,1)

[state 0,0]
type = null;varadd
trigger1 = command = "tuika"
v = 25
value = ifelse(var(25)=2,-2,1)

[state 0,0]
type = removeexplod
trigger1 = command = "start"
id = 195
[state 0,0]
type = removeexplod
trigger1 = command = "tuika"
id = 197

[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 0
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7112
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 1
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7113
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,215),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1







[State 190, 2]
type = AssertSpecial
trigger1 = time <= 240
flag = Intro

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 124;numhelper(192) = 1
trigger2 = time <= 10
flag = invisible

;---------------------
;  分身
[Statedef 192]
type = A
ctrl = 0
velset = 2.1,0
anim = 7390

[state 0,0]
type = envshake
persistent = 0
trigger1 = pos y >= 0
time = 20
ampl = -6

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 10
value = 400,1
channel = 0

[state 0,0]
type = veladd
trigger1 = pos y < 0
y = 0.45
[state 0,0]
type = velset
trigger1 = pos y >= 0
x = 0
y = 0
[state 0,0]
type = posset
trigger1 = pos y > 0
y = 0

[state 0,0]
type = changeanim
trigger1 = pos y >= 0
trigger1 = anim != 7391
value = 7391

[State 0, 0]
type = Explod
trigger1 = anim = 7391
trigger1 = animtime = 0
persistent = 0
removetime = 1
postype = p1
pos = 0,0
anim = 0
ownpal = 1
sprpriority = 1

[state 0,0]
type = destroyself
trigger1 = anim = 7391
trigger1 = animtime = 0

;---------------------
;  歩いて登場
[Statedef 193]
type = S
ctrl = 0
velset = 0,0
anim = 0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -220,120

[State 0, 0]
type = Explod
trigger1 = random >= 100
trigger1 = time = 0
postype = p1
pos = -270+var(19),5
anim = 7392
ownpal = 1
sprpriority = -1
removetime = 350
vel = 3+(random%10*0.5),0
[State 0, 0]
type = Explod
trigger1 = random >= 100
trigger1 = time = 1
postype = p1
pos = -270+var(19),5
anim = 7393
ownpal = 1
sprpriority = -1
vel = 3+(random%10*0.5),0
removetime = 350
[State 0, 0]
type = Explod
trigger1 = random >= 100
trigger1 = time = 2
postype = p1
pos = -270+var(19),5
anim = 7394
ownpal = 1
sprpriority = -1
vel = 2.7+(random%10*0.51),0
removetime = 350
[State 0, 0]
type = Explod
trigger1 = random >= 100
trigger1 = time = 3
postype = p1
pos = -270+var(19),5
anim = 7395
ownpal = 1
sprpriority = -1
vel = 2.8+(random%10*0.48),0
removetime = 350

[State 1000, effect]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bunsin"
postype = p1
pos = -260,0
stateno = 194
ownpal = 1
id = 194

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 340
flag = Intro

[State 190, 2]
type = AssertSpecial
trigger1 = numhelper(194) = 1
trigger2 = time <= 10
flag = invisible


[state 0,0]
type = varadd
trigger1 = var(41) != 0
trigger1 = command = "holdup"
v = 58
value = -1
persistent = 4
[state 0,0]
type = varadd
trigger1 = var(41) != 0
trigger1 = command = "holddown"
v = 58
value = 1
persistent = 4

[state 0,0]
type = varadd
trigger1 = command = "start"
v = 41
value = ifelse(var(41)=2,-2,1)

[state 0,0]
type = null;varadd
trigger1 = command = "tuika"
v = 25
value = ifelse(var(25)=2,-2,1)

[state 0,0]
type = removeexplod
trigger1 = command = "start"
id = 195
[state 0,0]
type = removeexplod
trigger1 = command = "tuika"
id = 197

[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 0
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7112
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 1
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7113
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = Numexplod(195) = 0
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,215),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = playsnd
trigger1 = time = 120
value = 200, 3
channel = 0

;---------------------
;  分身
[Statedef 194]
type = S
ctrl = 0
velset = 1,0
anim = 20

[State 0, 0]
type = Explod
trigger1 = parentdist x <= 5
persistent = 0
removetime = 1
postype = p1
pos = 0,0
anim = 0
ownpal = 1
sprpriority = 1

[state 0,0]
type = destroyself
trigger1 = parentdist x <= 5


;---------------------------------------------------------------------------
; RUN_FWD dash
[Statedef 100]
type    = A
physics = N
anim = 100
sprpriority = 1
velset = 0,0
ctrl = 0

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 1000, Snd1]
type = null;PlaySnd
trigger1 = time = 1
value = 0,4

[State 100, 1]
type = VelSet
trigger1 = time = 5
x = ifelse(var(41) = 1,3.5,5)
y = -1
[State 100, 1]
type = Veladd
trigger1 = time >= 10
y = 0.45

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 101
ctrl = 1

;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 5
;value = 31, 6

;---------------------------------------------------------------------------
; RUN_FWD dash2
[Statedef 101]
type    = S
physics = S
anim = 101
sprpriority = 1
;velset = 0,0
[State 100, 1]
type = VelSet
trigger1 = time =0
y = 0
[State 100, 1]
type = posSet
trigger1 = time =0
y = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,3

[State 200, 4]
type = CtrlSet
trigger1 = time >= 8
value = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------
;ヒート エフェクトヘルパー
[Statedef 1959]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = Playsnd
trigger1 = time = 1
value = 50,6

[State 3000, kemukemu]
type = Explod
trigger1 = time = [1,20]
anim = 7051
removetime = 1
postype = p1
pos = 0,-5
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.1+(time*0.05),0.1+(time*0.04)

[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7052
removetime = 1
postype = p1
pos = 0,-80
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.2+(time*0.05),0.2+(time*0.05)
[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7053
removetime = 1
postype = p1
pos = 0,-80
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.2+(time*0.05),0.2+(time*0.05)
[State 3000, kirari]
type = Explod
trigger1 = time = 1
anim = 7054
postype = p1
pos = -10,-100
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.5,0.5

[state 0,0]
type = palfx
trigger1 = time >= 1
time = 1
mul = 240-(time*10),240-(time*10),240-(time*10)

[state 0,0]
type = destroyself
trigger1 = time = 20
;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;モード変更
[Statedef 195]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7423;335
sprpriority = 2
velset = 0,0

[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 0
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7112
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 1
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7113
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,215),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = removeexplod
trigger1 = time = 0
id = 195

[state 0,0]
type = null;BGpalfx
trigger1 = time <= 30
time = 1
add = time*2,0,0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 200,28
channel = 0

[state 0,0]
type = varadd
trigger1 = time = 1
v = 41
value = ifelse(var(41)=3,-3,1)


:0 メルブラ
:1 SF3 3rd
:2 北斗


[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,5
stateno = 1959
ownpal = 1
keyctrl = 0
id = 1959

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 4

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 130,70,70
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 80,40,40
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 20,0,0

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;デバッグモード変更
[Statedef 197]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7335
sprpriority = 2
velset = 0,0

[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(25) = 0
postype = left
pos = ifelse(teamside = 1,5,245),155
anim = 7128
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 197
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(25) = 1
postype = left
pos = ifelse(teamside = 1,5,245),155
anim = 7127
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 197
removetime = 5000
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(25) = 2
postype = left
pos = ifelse(teamside = 1,5,245),155
anim = 7126
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 197
ontop = 1
removetime = 5000
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1


[state 0,0]
type = removeexplod
trigger1 = time = 0
id = 197

;[state 0,0]
;type = null;BGpalfx
;trigger1 = time <= 30
;time = 1
;add = 0,time*3,0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 200,28
channel = 0

[state 0,0]
type = varadd
trigger1 = time = 1
v = 25
value = ifelse(var(25)=2,-2,1)

:0 ノーマル
:1 デバッグ１
:2 デバッグ２


[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,5
stateno = 1959
ownpal = 1
keyctrl = 0
id = 1959

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 4

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 130,180,130
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 80,130,80
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 0,50,0

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;
[Statedef 196]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[state 0,0]
type = destroyself
trigger1 = time >= 300

;---------------------------------------------------
;起き上がり攻撃
[Statedef 1407]
type    = C
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
velset = 0,0
anim = 7037
sprpriority = 1

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = C, NA
damage = 50, 10
getpower = 8
givepower = 5
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, miss
pausetime = 2, 2
sparkno = 0;S8000
sparkxy = 0, floor(-60 + p2dist y)
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -3,-4
air.velocity = -3,-3.5
fall = 1
air.fall = 1
fall.recovertime = 30

[State 0, 0]
type = Explod
trigger1 = animelem = 8
postype = p1
pos = 0,0
anim = 7038
ownpal = 1
keyctrl = 0
sprpriority = 3

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 8
value = 180, 0

[State 1, 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl =1 

;---------------------------------------------------
;パワーを溜める
[Statedef 1409]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 7040
sprpriority = 1

[State 810, 11];パワーを溜める
type = powerAdd
trigger1 = time >= 5
value = 5

[State 0,0]
type = varAdd
triggerall = var(48) <= 98
trigger1 = time >= 5
persistent = 20
v = 48
value = 1

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 5
value = 170,1
channel = 3

[State 5201, 5]
type = PalFX
trigger1 = gametime % 12 = 0
time = 3
add = 28,28,128

[State 1, 0]
type = ChangeState
trigger1 = command != "holda"
trigger2 = command != "holdx"
;trigger3 = power = 3000
value = 0
ctrl = 1









;---------------------------------------
;その場投げ 
[Statedef 7912]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7443;702
sprpriority = 1
velset = 0,0
poweradd = 70

[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(43) <= 3
trigger1 = var(24) < 7
trigger1 = var(27) = 0
trigger1 = time = 1
v = 24
value = 1
persistent = 0


[state 0,reverse]
type = varset
trigger1 = time = 1
fvar(5) = fvar(5)*0.3
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 200, 32
channel = 0

[State 0, 1]
type = TargetBind
trigger1 = time <= 1
pos = 85,-105
[State 0, 1]
type = TargetBind
trigger1 = time = 4
pos = 78,-118
[State 0, 1]
type = TargetBind
trigger1 = time = 8
pos = 71,-127
[State 0, 1]
type = TargetBind
trigger1 = time = 12
pos = 47,-138
[State 0, 1]
type = TargetBind
trigger1 = time = 16
pos = 29,-145
[State 0, 1]
type = TargetBind
trigger1 = time = 20
pos = 10,-150
[State 0, 1]
type = TargetBind
trigger1 = time = 40
pos = 8,-144
[State 0, 1]
type = TargetBind
trigger1 = time = 44
pos = 4,-128
[State 0, 1]
type = TargetBind
trigger1 = time = 48
pos = 0,-40

[State 701, Effect]
type = Explod
trigger1 = time = 48
anim = F3
postype = p1
pos = 0,-42
sprpriority = 5
ownpal = 1
;bindtime = -1
;ignorehitpause = 1
[state 0,0]
type = playsnd
trigger1 = time = 48
value = 120,1

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------
; 投げられてる相手2
[Statedef 7913]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = posadd
trigger1 = time = 55
x = 15
y = 30
[state 0,0]
type = velset
trigger1 = time = 54
x = -1.5
y = -5
[state 0,0]
type = veladd
trigger1 = time >= 55
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 705
[state 0,0]
type = changeanim2
trigger1 = time =22
value = 709

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 52
value = -110

[state 0,0]
type = envshake
trigger1 = time = 52
time = 15

[state 0,0]
type = selfstate
trigger1 = time >= 55
value = 5050

;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする
[Statedef 981]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 7321
sprpriority = 2
velset = 1.6,0

[state 0,0]
type = Velset
trigger1 = time <= 6
x = 2

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 5
trigger1 = P2MoveType != H
attr = S, NT
hitflag = H
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 7912;900
p2stateno = 7913;901
fall = 1
fall.recovertime = 38

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする
[Statedef 980]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 7213
sprpriority = 2

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time <= 2
trigger1 = P2MoveType != H
attr = S, NT
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 900
p2stateno = 901
fall = 1
fall.recovertime = 38

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
; 投げられてる相手
[Statedef 901]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time = 11
y = 10

[state 0,0]
type = veladd
trigger1 = time >= 10
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7215

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 1
value = -5
kill = 0
[state 0,0]
type = lifeadd
trigger1 = time = 10
value = -95

[state 0,0]
type = posset
trigger1 = time = 10
y = -5

[state 0,0]
type = envshake
trigger1 = time = 11
time = 10

[state 0,0]
type = selfstate
trigger1 = time >= 12;34
value = 5070

;---------------------------------------
;投げ
[Statedef 900]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7214
sprpriority = 1
velset = 0,0

[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(43) <= 3
trigger1 = var(24) < 7
trigger1 = var(27) = 0
trigger1 = time = 1
v = 24
value = 1
persistent = 0


[state 0,reverse]
type = varset
trigger1 = time = 1
fvar(5) = fvar(5)*0.3
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 200, 32
channel = 0

[State 0, 1]
type = TargetBind
trigger1 = time = 1
pos = 30,-90

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------
;投げ2
[Statedef 902]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7090
sprpriority = 3
velset = 0,-7

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = 66, 0
getpower = 0
givepower = 0
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 7, 7
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-11
air.velocity = 0,-11
air.fall = 1
fall.recovertime = 40


[State 200, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 52
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする air
[Statedef 970]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7280
sprpriority = 2
juggle = 4

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 0
attr = A, NT
;juggle = 30
hitflag = AF
priority = 1, Miss
sparkno = -1
hitsound = S230, 6
sprpriority = 1
p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 791
p2stateno = 792
air.fall = 1
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 150, 0

[State 200, 3]
type = ChangeState
trigger1 = time = 2
value = 9920

;---------------------------------------
;ku-tyu-投げ 
[Statedef 791]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7415
sprpriority = 1
;velset = 0,0
poweradd = 70

[state 0,reverse]
type = varset
trigger1 = time = 1
fvar(5) = fvar(5)*0.2
persistent = 0

[State 0, 1]
type = TargetBind
trigger1 = time = [0,11]
pos = 10,-158
[State 0, 1]
type = TargetBind
trigger1 = time = [12,15]
pos = 8,-152
[State 0, 1]
type = TargetBind
trigger1 = time >= 16
pos = 4,-136
;[State 0, 1]
;type = TargetBind
;trigger1 = time = 48
;pos = 0,-40

[State 200, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 793
ctrl = 0

[state 0,0]
type = veladd
trigger1 = time >= 10
y = 0.45

;---------------------------------------
;投げ2 
[Statedef 793]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7416
sprpriority = 1
velset = 0,0
poweradd = 70

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 701, Effect]
type = Explod
trigger1 = time = 0
anim = F3
postype = p1
pos = 0,-42
sprpriority = 5
ownpal = 1
;bindtime = -1
;ignorehitpause = 1
[state 0,0]
type = playsnd
trigger1 = time = 0
value = 120,1

[State 0, 1]
type = TargetBind
trigger1 = time = 0
pos = 0,-40

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------
; 投げられてる相手2
[Statedef 792]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = posadd
trigger1 = enemy,stateno != 791
x = 15
y = 30
persistent = 0
[state 0,0]
type = velset
trigger1 = enemy,stateno != 791
x = -1.5
y = -4

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time =0
value = 7417

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = enemy,stateno != 791
value = ifelse(gethitvar(hitcount) >= 10,-50,-80)
persistent = 0

[state 0,0]
type = envshake
trigger1 = enemy,stateno != 791
time = 15

[state 0,0]
type = selfstate
trigger1 = enemy,stateno != 791
value = 5050



;---------------------------------------
;投げair
[Statedef 905]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7279
sprpriority = 1
velset = 0,0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[state 0,0]
type = velset
trigger1 = time <= 9
x = 0
y = 0

[State 0, 1]
type = TargetBind
trigger1 = time <= 1
pos = 33,-62

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
value = 5040
ctrl = 1

[state 0,0]
type = velset
trigger1 = time = 10
x = -2.3
y = -2




;------------------------------------------
; 投げられてる相手
[Statedef 906]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7092

;[state 0,0]
;type = changeanim2
;trigger1 = time = 15
;value = 811

[state 0,0]
type = playerpush
trigger1 = 1
value = 0


[state 0,0]
type = velset
trigger1 = time = 10
x = -5
y = 16

[state 0,0]
type = lifeadd
trigger1 = time = 9
value = -50
kill = 0

[state 0,0]
type = null;changeanim
trigger1 = time = 14
value = 5002

[state 0,0]
type = changestate
trigger1 = time = 10
value = 612;5100

;---------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 206
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 10 = 0
var(45) = 1
persistent = 0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.82
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) > 1
trigger2 = var(46) > 1
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 1
trigger2 = var(46) >= 1
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
scale = 0.5,0.5
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 3
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 30,0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = ifelse(var(39)=1,33,30), 0
getpower = ifelse(var(50)=0,30,0),8
givepower = 18,4
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 5, 7
sparkno = 0;S8004
sparkxy = -5, -80
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3
air.velocity = -2.8,-3

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 1


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; AIRUN_FWD dash
[Statedef 201]
type    = S
physics = S
anim = 100
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,4

[State 200, 4]
type = CtrlSet
trigger1 = time = 6
value = 1

[State 100, 1]
type = VelSet
trigger1 = time >= 2
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = enemy,movetype = A
trigger2 = time >= 40
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = enemy,stateno = [120,155]
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 740
value = 207
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 800
trigger1 = p2bodydist x = [-20,20]
value = 240
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 680
trigger1 = p2bodydist x = [-3,14]
value = 200

[State 200, AI]
type = ChangeState
;trigger1 = enemy,statetype = C
trigger1 = time >= 10
trigger1 = random >= 920
trigger1 = p2bodydist x >= 30
value = 207

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 800
trigger1 = p2bodydist x = [-3,14]
value = 400

[State 200, AI]
type = ChangeState
trigger1 = enemy,stateno = [120,155]
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 950
trigger1 = enemy,statetype != A
trigger1 = p2bodydist x = [-3,12]
value = 1088
[State 200, AI]
type = ChangeState
trigger1 = time >= 7
trigger1 = var(59) = 1
trigger1 = random >= 40
trigger1 = enemy,statetype != A
trigger1 = p2bodydist x = [-3,12]
value = 980


[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 840
trigger1 = enemy,stateno = [120,155]
;trigger1 = p2bodydist x = [-3,12]
value = 1000

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 840
trigger1 = enemy,stateno = [120,155]
;trigger1 = p2bodydist x = [-3,12]
value = 1001


;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 202]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = prevstateno = 1012
trigger2 = prevstateno = 2000
value = 423
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 203
ctrl = 1

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 203]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
;trigger1 = var(59) = 1
trigger1 = time = [5,8]
trigger1 = random >= 760
value = 206


;------------------------------------------
; AI低空ダッシュair dash
[Statedef 206]
type    = A
movetype= I
physics = N
ctrl = 1
anim = 100;107
sprpriority = 2


[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -15,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = -12,12

[State 701, Effect]
type = Explod
trigger1 = Time = [0,10]
anim = 7124
postype = p1
pos = -5,-65
random = 10,40
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.05,0.05
vel = var(19)*0.5,var(18)*0.5


[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7067
postype = p1
pos = 10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 105, 1]
type = VelSet
trigger1 = Time <= 8
x = 8
y = 0

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[state 0,0]
type = velset
trigger1 = time >= 25
x = 2.2

[State 1000, 3]
type = Changeanim
trigger1 = time = 25
value = 45

[State 1000, 3]
type = ChangeState
trigger1 = time >= 28
value = 51
ctrl = 1

[State 1000, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 0 || var(41) = 3
trigger1 = random >= 500
trigger1 = numhelper(1111) = 0
value = 1110
ctrl = 0
[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 0 || var(41) = 3
trigger1 = random >= 500
value = 600
ctrl = 0
[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 0 || var(41) = 3
trigger1 = random >= 500
value = 630
ctrl = 0
[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 2
trigger1 = random >= 500
value = 8620
ctrl = 0
[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 2
trigger1 = random >= 500
value = 8611
ctrl = 0
[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 2
trigger1 = random >= 500
value = 8600
ctrl = 0


;---------------------------------------------------------------------------
; AI backJump Start
[Statedef 207]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = var(41) = 1
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 208
ctrl = 1

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 208]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
;trigger1 = var(59) = 1
trigger1 = time = [7,10]
trigger1 = random >= 760
value = 206

[State 40, 6]
type = ChangeState
trigger1 = time >= 11
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; AIRUN_FWD dash
[Statedef 204]
type    = S
physics = S
anim = 100
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,4

[State 200, 4]
type = CtrlSet
trigger1 = time = 16
value = 1

[State 100, 1]
type = VelSet
trigger1 = time >= 2
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = p2dist x < -70
trigger2 = time >= 80
value = 0
ctrl = 1



[State 200, AI]
type = ChangeState
trigger1 = time >= 4
;trigger1 = var(59) = 1
trigger1 = random >= 650
trigger1 = p2bodydist x = [-3,14]
trigger2 = p2bodydist x = [-3,14]
trigger2 = time >= 9
trigger2 = random >= 50
value = 400
[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = random >= 800
trigger1 = p2bodydist x = [-3,12]
value = 980
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = random >= 820
trigger1 = p2bodydist x = [-3,14]
value = 202
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = random >= 900
trigger1 = p2bodydist x = [-3,14]
value = 230
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = random >= 900
;trigger1 = p2bodydist x = [-3,14]
value = 200
[State 200, AI]
type = ChangeState
;trigger1 = enemy,statetype = C
trigger1 = time >= 10
trigger1 = random >= 900
trigger1 = p2bodydist x >= 30
value = 425

[State 200, AI]
type = ChangeState
;trigger1 = enemy,statetype = C
trigger1 = time >= 10
trigger1 = random >= 920
trigger1 = p2bodydist x >= 30
value = 207

[State 200, AI]
type = ChangeState
trigger1 = time >= 6
;trigger1 = var(59) = 1
trigger1 = random >= 750
trigger1 = enemy,movetype = A
trigger1 = gametime % 4 = 0
value = 105

[State 1, Blocking]
type = HitOverride
triggerall = var(59) = 1
triggerall = life <= 600
trigger1 = random >= 200 + life
trigger1 = gametime % 5 = 0
attr = SA, NA, SA, HA, NP, SP, HP
stateno = 9905
time = 1

[State 1, Blocking]
type = HitOverride
triggerall = var(59) = 1
triggerall = life <= 300
trigger1 = random >= life
trigger1 = gametime % 5 = 0
attr = C, NA, SA, HA, NP, SP, HP
stateno = 9915
time = 1

;---------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
anim = 240
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 100 < 10
var(45) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
fvar(5) = fvar(5)*0.9
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 110, 0

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 4
channel = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [2,4]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [4,6]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 8
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,11)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,20,16)
ground.velocity = -4
air.velocity = -2,-3
air.fall = 1
fall.recovertime = 20



[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = var(45) % 1000000 < 100000
value = 211

[state 0,0]
type = changestate
trigger1 = time >= 15
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1



;------------夢想印刷---------------------------
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
anim = 215
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 1000000 < 100000
var(45) = 100000
persistent = 0
[State 0, reverse]
type = null;Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200

[state 0,0]
type = posadd
trigger1 = time <= 5
x = 2
[state 0,0]
type = posadd
trigger1 = time = 0
x = 3

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.92
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 4
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,11)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -75
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,22,16)
ground.velocity = -2,-7.8
air.velocity = -2,-8.5
fall = 1
air.fall = 1
fall.recovertime = ifelse(enemy,statetype = A,35,32)


[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 110, 1
[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200, 4
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 10
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
value = 421

;---------------------------------------
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
anim = 215
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 100 < 10
var(45) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
fvar(5) = fvar(5)*0.9
persistent = 0


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [2,4]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [4,6]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2

[state 0,0]
type = velset
trigger1 = time <= 25
x = 1.8

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 8
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,11)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,20,16)
ground.velocity = -4
air.velocity = -2,-3
air.fall = 1
fall.recovertime = 20

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;壁バウンド

[Statedef 613]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 0.4
y = -7.2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;壁までふっとびB

[Statedef 614]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = turn
;triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = -0.3;1

[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 615

[state 0,0]
type = selfstate
trigger1 = time >= 20
value = 5050

;---------------------------------------------------------------------------
;壁バウンドB

[Statedef 615]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 5.4
y = -7.2+(gethitvar(hitcount)*0.32)

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;---------------------------------------
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 250
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 1000 < 100
var(45) = 100
persistent = 0


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 8
fvar(5) = fvar(5)*0.85
persistent = 0
[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = numhelper(2990) = 1
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.76
persistent = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0
[state 0,0]
type = varadd
trigger1 = movecontact;hit
v = 18
value = 1

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 12
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 20,2
persistent = 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 13
attr = S, NA
damage = ifelse(var(18)<=2,35,72), 0
getpower = ifelse(var(50)=0,57,0),10
givepower = 20,5
animtype = heavy
guardflag = M
hitflag = MAFD
priority = 4, Hit
pausetime = 5, ifelse(enemy,statetype=A,8,12)
guard.pausetime = 6,8
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = -12, -46
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
air.slidetime = 6
air.hittime  = 6
ground.velocity = -5
air.velocity = -3.2,-5;-3.8
down.velocity = -3,-1
envshake.time = 10
envshake.ampl = 2
envshake.freq = 60
air.fall = 1
fall.recovertime = 10

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 200, 1
channel = 0

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 110, 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------ブローバック------------------------------
[Statedef 221]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 222
sprpriority = 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 10
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 0,14
persistent = 0


[State 210, 3]
type = ChangeState
trigger1 = time = [2, 15]
trigger1 = command != "holdz"
value = 222

[State 210, 2]
type = PlaySnd
trigger1 = time = 16
value = 30, 0
[State 0, c]
type = Explod
trigger1 = time = 16
anim = 7333
;scale = 0.5,0.5
postype = p1
pos = 10,-38
ownpal = 1
sprpriority = 5
;bindtime = -1

[State 210, 3]
type = ChangeState
trigger1 = time = [20, 35]
trigger1 = command != "holdz"
trigger2 = time >= 36
value = 223


;---------------------------------------
[Statedef 222]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 223
sprpriority = 2

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0
[state 0,0]
type = varadd
trigger1 = movecontact;hit
v = 18
value = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = ifelse(var(18)<=2,45,82), 0
getpower = ifelse(var(50)=0,67,0),18
givepower = 20,5
animtype = heavy
guardflag = M
hitflag = MAFD
priority = 4, Hit
pausetime = 8, ifelse(enemy,statetype=A,8,14)
guard.pausetime = 6,13
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = -12, -46
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
air.slidetime = 6
air.hittime  = 6
ground.velocity = -5
air.velocity = -3.2,-5;-3.8
down.velocity = -3,-1
envshake.time = 10
envshake.ampl = 2
envshake.freq = 60
air.fall = 1
fall.recovertime = 24

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
[Statedef 223]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 224
sprpriority = 2

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0
[state 0,0]
type = varadd
trigger1 = movecontact;hit
v = 18
value = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = 90, 0
getpower = ifelse(var(50)=0,74,0),30
givepower = 20,5
animtype = heavy
guardflag = H
hitflag = MAFD
priority = 4, Hit
pausetime = 8, ifelse(enemy,statetype=A,12,20)
guard.pausetime = 6,13
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = -12, -46
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
air.slidetime = 6
air.hittime  = 6
ground.velocity = -5
air.velocity = -3.2,-5;-3.8
down.velocity = -3,-1
envshake.time = 14
envshake.ampl = 2
envshake.freq = 60
air.fall = 1
fall.recovertime = 35

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 210
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(41) = 0
var(45) = 10000
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = posadd
trigger1 = time = [5,15]
x = 1



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.84
persistent = 0

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0
[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 7
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0
[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 9
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0),13
givepower = 28,10
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 11
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -56
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -4
guard.velocity = -4.2
air.velocity = -2,-4
air.fall = 1
fall.recovertime = 12


[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 110, 1
[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200, 4
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
triggerall = moveguarded
trigger1 = enemy,stateno = [120,155]
trigger1 = enemy,statetype = C
trigger1 = time >= 11
trigger1 = var(59) = 1
trigger1 = random >= 740
value = 207

[state 0,0]
type = changestate
trigger1 = time >= 12
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

;肘-------------------------------------------
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 230
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(41) = 0
var(45) = 10000
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = posadd
trigger1 = time = [5,15]
x = 1



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.84
persistent = 0

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0
[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 7
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0
[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 9
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0),13
givepower = 28,10
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,0
guard.velocity = -3
air.velocity = -4,-4
fall = 1
air.fall = 1
fall.recovertime = 30
envshake.time = 10
envshake.ampl = 2
p2stateno = 614

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
triggerall = moveguarded
trigger1 = enemy,stateno = [120,155]
trigger1 = enemy,statetype = C
trigger1 = time >= 11
trigger1 = var(59) = 1
trigger1 = random >= 740
value = 207

[state 0,0]
type = changestate
trigger1 = time >= 20
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

;---------------------------------------
[Statedef 240]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 220
sprpriority = 2
velset = 0,0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 100000 < 10000
var(45) = 100000
persistent = 0
[State 0, reverse]
type = null;Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200


[state 0,0]
type = velset
trigger1 = time = [18,30]
x = 1.8
;y = -0.1

[state 0,0]
type = velset
trigger1 = time = [16,23]
y = -0.2
[state 0,0]
type = velset
trigger1 = time = [24,30]
y = 0.2
[state 0,0]
type = velset
trigger1 = time = 30
y = 0
[state 0,0]
type = posset
trigger1 = time = 30
y = 0
[state 0,0]
type = statetypeset
trigger1 = time = 30
physics = S



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [3,6]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 20,2

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 7
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,14,8)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -65
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6.2,0
air.velocity = -1.2,9

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100, 2

[state 0,0]
type = changestate
trigger1 = time >= 30
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
[Statedef 251];ダスト相手
type    = A
movetype= H
physics = A
ctrl = 0
anim = 5030
sprpriority = 0

[state 0,0]
type = velset
trigger1 = time <= 80
y = -5

[state 0,0]
type = selfstate
trigger1 = time = 81
value = 5050



;---------------------------------------------------------------------------
; 5y ヒット後 ５Yにつなぐ
[Statedef 211];241]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 2

[State 2, BOOST]
type = Helper
triggerall = p2dist x >= 60
triggerall = Numhelper(2990) = 0
triggerall = var(48) >= 25
triggerall = roundstate = 2
trigger1 = time = 15
helpertype = normal
name = "boost"
pos = 0,0
stateno = 2990
ownpal = 1
id = 2990
keyctrl = 0

[state 0,0]
type = changeanim
trigger1 = animtime = 0
value = 0

[state 0,0]
type = changestate
trigger1 = p2dist x = [0,50]
trigger1 = p2dist y = [-100,0]
value = 240

[State 210, 3]
type = ChangeState
triggerall = anim = 0
;trigger1 = enemy,stateno != [5000,5050]
trigger1 = time >= 65
;trigger2 = var(48) < 25
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 3
trigger1 = Numhelper(2990) = 0
trigger1 = var(48) < 25
value = 1050
ctrl = 0

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
value = 421


;---------------------------------------------------------------------------
; 5B ヒット後 ５Yにつなぐ
[Statedef 241]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 2

[state 0,0]
type = changeanim
trigger1 = animtime = 0
value = 0

[state 0,0]
type = changestate
trigger1 = time = [30,65]
trigger1 = p2dist y = [-80,0]
value = 210

[State 210, 3]
type = ChangeState
;triggerall = anim = 0
trigger1 = enemy,stateno != [5000,5050]
trigger2 = time >= 65
trigger3 = p2dist x >= 110
value = 0
ctrl = 1

[state 0,0]
type = changestate
triggerall = Numhelper(1001) <= 1
trigger1 = time = 3
trigger1 = random >= 600
trigger1 = var(40) % 10 = 0
value = 1000
[state 0,0]
type = changestate
triggerall = Numhelper(1001) <= 1
trigger1 = time = 3
trigger1 = random >= 600
trigger1 = var(40) % 10000 < 1000
value = 1010

[state 0,0]
type = changestate
trigger1 = time = 10
trigger1 = power >= 3000
trigger1 = var(40) = 11111
value = 9910

;---------------------------------------------------------------------------
; Jump Start
[Statedef 242]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 243
ctrl = 1


;---------------------------------------------------------------------------
; Jump Up
[Statedef 243]
type    = A
physics = A

[State 0, 0]
type = ChangeAnim
triggerall = Numhelper(2990) >= 1
trigger1 = Anim != 101
value = 101

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
triggerall = prevstateno != 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 44, ifelse((vel x)>0, 45, 46))

[State 50, 2]
type = ChangeAnim
triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[state 0,0]
type = changestate
triggerall = enemy,gethitvar(hitcount) < 5
trigger1 = time >= 7
trigger1 = p2dist y = [-20,30]
trigger2 = time = 22
value = 640

[state 0,0]
type = changestate
triggerall = enemy,gethitvar(hitcount) >= 4
trigger1 = power >= 2000
trigger1 = time >= 7
trigger1 = p2dist y = [-50,50]
value = 2170

[state 0,0]
type = changestate
;triggerall = enemy,gethitvar(hitcount) >= 4
trigger1 = time >= 15
trigger1 = p2dist y = [-20,100]
value = 1090

[state 0,0]
type = changestate
trigger1 = time >= 30
trigger1 = enemy,movetype != H
value = 51
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;屈み弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
anim = 430
poweradd = 0
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(46) % 10 = 0
var(46) = 1
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) > 1
trigger2 = var(46) > 1
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 1
trigger2 = var(46) >= 1
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.75
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,43,41), 0
getpower = ifelse(var(50)=0,20,0),4
givepower = 9,3
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 5, 6
guard.pausetime = 8, 7
sparkno = 0;S8000
sparkxy = 0, -50
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 13
ground.velocity = -2.4
air.velocity = -2,0
down.velocity = -1,-0.1

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 100, 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = var(45) % 10000 < 1000
trigger1 = random >= 720
trigger1 = p2bodydist x = [-3,14]
value = 230
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = random >= 800
trigger1 = p2bodydist x = [-3,14]
value = 200

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = time >= 4
trigger1 = gametime % 2 = 0
trigger1 = p2bodydist x = [-3,13]
value = 400

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 100 < 10
trigger1 = p2bodydist x = [10,55]
value = 410

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 840
trigger1 = enemy,statetype = C
trigger1 = p2bodydist x = [-14,13]
trigger1 = moveguarded
value = 240

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 1000 < 100
value = 420

;---:::::::::::::::::::::::::::::::::::::::::::::
;屈みちゅう けり
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
anim = 440
poweradd = 0
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = var(46) % 100 < 10
trigger1 = time = 1
var(46) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
scale = 0.5,0.5
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [2,3]
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 38,25

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,48,45), 0
getpower = ifelse(var(50)=0,50,0),6
givepower = 22,6
animtype = medium
guardflag = L
hitflag = MAFD
priority = 5, Hit
pausetime = 8, 12
guard.pausetime = 3, 6
sparkno = 1;S8000
sparkxy = 0, -5
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5,0
air.velocity = -5,0
down.velocity = -3,-1

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = var(45) % 10000 < 1000
trigger1 = random >= 720
trigger1 = p2bodydist x = [-3,14]
value = 230

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 1000 < 100
trigger1 = p2bodydist x = [-3,73]
value = 420

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 840
trigger1 = enemy,statetype = C
trigger1 = p2bodydist x = [-14,13]
trigger1 = moveguarded
value = 240

;---:::::::::::::::::::::::::::::::::::::::::::::
;屈み強パンチ
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 9
ctrl = 0
anim = 420
poweradd = 0
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = var(46) % 1000 < 100
trigger1 = time = 1
var(46) = 100
persistent = 0

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [4,7]
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 38,25


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 8
fvar(5) = fvar(5)*0.7;45
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = !movehit
trigger1 = enemy,stateno != [5100,5111]
trigger1 = time >= 10
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,109,104), 0
getpower = ifelse(var(50)=0,120,0),24
givepower = 94,37
animtype = up;heavy
guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 3, ifelse(var(37)=1,20,14)
guard.pausetime = 2, 10
sparkno = 2;S8000
sparkxy = 0, -10
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-1.5
air.velocity = -2,0
fall = 1
down.velocity = -3,-1
guard.velocity = -4.4
envshake.time = 10
envshake.ampl = 2
;airjuggle = 14使えneeeeeeeeeeeeee
p2stateno = 631;ifelse(enemy,statetype = L,427,621)
[State 200, HitDef]
type = HitDef
trigger1 = !movehit
trigger1 = enemy,stateno = [5100,5111]
trigger1 = time >= 10
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,109,104), 0
getpower = ifelse(var(50)=0,120,0),24
givepower = 94,37
animtype = up;heavy
guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 3, ifelse(var(37)=1,20,14)
guard.pausetime = 2, 10
sparkno = 2;S8000
sparkxy = 0, -10
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-1.5
air.velocity = -2,0
fall = 1
down.velocity = -3,-1
guard.velocity = -4.4
envshake.time = 10
envshake.ampl = 2


[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200, 6
channel = 0

[state 0,0]
type = envshake
trigger1 = animelem = 6
time = 12
[State 210, 2]
type = PlaySnd
trigger1 = animelem = 6
value = 31, 5

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 5
value = 110, 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(45) % 100 < 10
value = 210

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = var(45) % 100 >= 10
trigger1 = var(45) % 1000000 < 100000
value = 211

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 840
trigger1 = enemy,statetype = C
trigger1 = p2bodydist x = [-14,13]
trigger1 = moveguarded
value = 240


;------------------------------------------------------
;相手
[Statedef 631]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070;60
velset = -2,10

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = selfstate
triggerall = pos y >= -1
;triggerall = gethitvar(hitcount) >= 20
trigger1 = command = "down"
trigger2 = command = "up"
value = 5100

[state 0,0]
type = changestate
trigger1 = pos y >= 0
;trigger2 = statetype != A
value = 632

;------------------------------------------------------
;あ痛(イテ)２
[Statedef 632]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070
velset = 0,-6;ifelse(gethitvar(hitcount)<35,-8 + gethitvar(hitcount)*0.2, -1)

[state 0,0]
type = playsnd
trigger1 = time = 0
value = F7,2

[state 0,0]
type = null;velset
trigger1 = time = 0
;trigger1 = gethitvar(hitcount) <= 1
x = -5

[state 0,0]
type = veladd
trigger1 = time >= 2
y = 0.45

[state 0,0]
type = selfstate
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 5110



;------------------------------------------------------
;相手
[Statedef 427]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070;60
velset = -2,10

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
;trigger2 = statetype != A
value = 622

[state 0,0]
type = velset
trigger1 = prevstateno = 622
y = ifelse(gethitvar(hitcount)<=4,-8,-5)


;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 421]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = prevstateno = 1012
trigger2 = prevstateno = 2000
value = 423
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 422
ctrl = 0

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 422]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 16
trigger1 = p2dist y = [-10,20]
value = 610

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 17
;trigger1 = p2dist y = [-15,25]
value = 630

[state 0,0]
type = ctrlset
trigger1 = time >= 19
value = 1
;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 423]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 3
trigger1 = random >= 500
value = 620
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
value = 630



;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 425]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 426
ctrl = 0

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 426]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = random >= 800
value = 234
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = random >= 900
value = 45

[state 0,0]
type = ctrlset
trigger1 = time >= 10
value = 1


;---:::::::::::::::::::::::::::::::::::::::::::::

;突進頭部打撃----1-----------------------------------
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7400
sprpriority = 2
[State 0, counter]
type = HitOverride
trigger1 = !movecontact
trigger1 = anim = 7400
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 1006
IgnoreHitPause = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.8
persistent = 0

[State 701, Effect]
type = Explod
trigger1 = time = 0
anim = 7356
postype = p1
pos = -6,0
sprpriority = 0
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 24
removeongethit = 1
id = 1700
[State 701, Effect]
type = Explod
trigger1 = time = 1
anim = 7356
postype = p1
pos = -12,0
sprpriority = -1
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 22
removeongethit = 1
id = 1700
[state 0,0]
type = removeexplod
trigger1 = anim != 7356
id = 1700

[State 100,00]
type = null;Afterimage
trigger1 = time = 2
trans = none
TimeGap = 1
FrameGap = 1
time = 14
palbright = 255,255,255
palcontrast = 255,255,255

[state 0,0]
type = velset
triggerall = anim = 7400
trigger1 = time = [2,30]
x = 5.9

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
persistent = 0
guard.kill = 0
triggerall = var(27) = 0
trigger1 = anim != 7359
trigger1 = time >= 14
attr = S, SA
damage = ifelse(var(39)=1,90,85), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 11,5
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 6, Hit
pausetime = 10, 14
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -4,-5
;p2stateno = 8715
[State 200, HitDef]
type = HitDef
persistent = 0
guard.kill = 0
triggerall = var(27) = 1
trigger1 = anim != 7359
trigger1 = time >= 14
attr = S, SA
damage = ifelse(var(39)=1,90,85), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 11,5
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 6, Hit
pausetime = 10, 14
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5
ground.cornerpush.veloff = 10
air.velocity = -4,-5
p2stateno = 8715

[State 210, 2]
type = PlaySnd
trigger1 = time = 12
value = 110, 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = Changeanim
trigger1 = command != "holdx"
trigger1 = Anim = 7400
trigger1 = time >= 12
value = 7401
[State 210, 3]
type = Changeanim
trigger1 = Anim = 7400
trigger1 = time = 35
value = 7401

[state 0,0]
type = changestate
triggerall = var(41) = 2
trigger1 = time >= 5
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[state 0,0]
type = velset
trigger1 = frontedgedist < 20
x = 0

[State 210, 3]
type = Changestate
trigger1 = command = "236_x"
trigger1 = movecontact
value = 1001
[State 210, 3]
type = Changestate
trigger1 = command = "236_y"
trigger1 = movecontact
value = 1002



;突進頭部打撃----分岐中段-----------------------------------
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7404
sprpriority = 2

[State 701, Effect]
type = Explod
trigger1 = time = 0
anim = 7356
postype = p1
pos = -6,0
sprpriority = 0
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 24
removeongethit = 1
id = 1700
[State 701, Effect]
type = Explod
trigger1 = time = 1
anim = 7356
postype = p1
pos = -12,0
sprpriority = -1
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 22
removeongethit = 1
id = 1700
[state 0,0]
type = removeexplod
trigger1 = anim != 7356
id = 1700

[State 100,00]
type = null;Afterimage
trigger1 = time = 2
trans = none
TimeGap = 1
FrameGap = 1
time = 14
palbright = 255,255,255
palcontrast = 255,255,255

[state 0,0]
type = velset
trigger1 = time = [2,17]
x = 5.9

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = var(27) = 0
trigger1 = anim != 7359
trigger1 = time >= 14
attr = S, SA
guard.kill = 0
damage = ifelse(var(39)=1,110,105), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 11,5
animtype = heavy
guardflag = HA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 6, Hit
pausetime = 10, 14
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -4,-5
;p2stateno = 8715
[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = var(27) = 1
trigger1 = anim != 7359
trigger1 = time >= 14
attr = S, SA
guard.kill = 0
damage = ifelse(var(39)=1,110,105), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 11,5
animtype = heavy
guardflag = HA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 6, Hit
pausetime = 10, 14
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -4,-5
p2stateno = 8715

[State 210, 2]
type = PlaySnd
trigger1 = time = 12
value = 110, 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[state 0,0]
type = changestate
triggerall = var(41) = 2
trigger1 = time >= 5
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;突進頭部打撃--分岐下段-------------------------------------
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7403
sprpriority = 2

[State 701, Effect]
type = Explod
trigger1 = time = 0
anim = 7356
postype = p1
pos = -6,0
sprpriority = 0
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 24
removeongethit = 1
id = 1700
[State 701, Effect]
type = Explod
trigger1 = time = 1
anim = 7356
postype = p1
pos = -12,0
sprpriority = -1
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 22
removeongethit = 1
id = 1700
[state 0,0]
type = removeexplod
trigger1 = anim != 7356
id = 1700

[State 100,00]
type = null;Afterimage
trigger1 = time = 2
trans = none
TimeGap = 1
FrameGap = 1
time = 14
palbright = 255,255,255
palcontrast = 255,255,255

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
persistent = 0
guard.kill = 0
triggerall = var(27) = 0
trigger1 = anim != 7359
trigger1 = time >= 14
attr = C, SA
damage = ifelse(var(39)=1,114,100), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 15,10
animtype = heavy
guardflag = LA;ifelse(anim = 7359,H,M);A
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 14
guard.pausetime = 14, 11
sparkno = 2;S8004
sparkxy = -5, -10
hitsound = S120, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.5
air.velocity = -4,-3
[State 200, HitDef]
type = HitDef
persistent = 0
guard.kill = 0
triggerall = var(27) = 1
trigger1 = anim != 7359
trigger1 = time >= 14
attr = C, SA
damage = ifelse(var(39)=1,114,100), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 15,10
animtype = heavy
guardflag = LA;ifelse(anim = 7359,H,M);A
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 14
guard.pausetime = 14, 11
sparkno = 2;S8004
sparkxy = -5, -10
hitsound = S120, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.5
air.velocity = -4,-3
p2stateno = 8715

[State 210, 2]
type = PlaySnd
trigger1 = time = 12
value = 110, 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[state 0,0]
type = changestate
triggerall = var(41) = 2
trigger1 = time >= 5
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;突進頭部打撃----2-----------------------------------
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7402
sprpriority = 2

[State 0, counter]
type = HitOverride
trigger1 = !movecontact
trigger1 = anim = 7402
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 1007
IgnoreHitPause = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.72
persistent = 0

[State 701, Effect]
type = Explod
trigger1 = time = 0
anim = 7356
postype = p1
pos = -6,0
sprpriority = 0
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 24
removeongethit = 1
id = 1700
[State 701, Effect]
type = Explod
trigger1 = time = 1
anim = 7356
postype = p1
pos = -12,0
sprpriority = -1
ownpal = 0
bindtime = -1
;ignorehitpause = 1
removetime = 22
removeongethit = 1
id = 1700
[state 0,0]
type = removeexplod
trigger1 = anim != 7356
id = 1700

[State 100,00]
type = null;Afterimage
trigger1 = time = 2
trans = none
TimeGap = 1
FrameGap = 1
time = 14
palbright = 255,255,255
palcontrast = 255,255,255

[state 0,0]
type = velset
triggerall = anim = 7402
trigger1 = time = [2,30]
x = 5.9

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = var(27) = 0
trigger1 = anim != 7359
trigger1 = time >= 14
attr = C, SA
guard.kill = 0
damage = ifelse(var(39)=1,86,80), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 15,10
animtype = heavy
guardflag = LA;ifelse(anim = 7359,H,M);A
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 14
sparkno = 2;S8004
sparkxy = -5, -10
hitsound = S120, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.5
air.velocity = -4,-3
down.velocity = -1,-1
[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = var(27) = 1
trigger1 = anim != 7359
trigger1 = time >= 14
attr = C, SA
guard.kill = 0
damage = ifelse(var(39)=1,86,80), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 15,10
animtype = heavy
guardflag = LA;ifelse(anim = 7359,H,M);A
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 14
sparkno = 2;S8004
sparkxy = -5, -10
hitsound = S120, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.5
air.velocity = -4,-3
down.velocity = -1,-1
p2stateno = 8715

[State 210, 2]
type = PlaySnd
trigger1 = time = 12
value = 110, 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = Changeanim
trigger1 = command != "holdy"
trigger1 = Anim = 7402
trigger1 = time >= 12
value = 7403
[State 210, 3]
type = Changeanim
trigger1 = Anim = 7402
trigger1 = time = 35
value = 7403

[State 210, 3]
type = Changestate
trigger1 = command = "236_x"
trigger1 = movecontact
value = 1001
[State 210, 3]
type = Changestate
trigger1 = command = "236_y"
trigger1 = movecontact
value = 1002

[state 0,0]
type = changestate
triggerall = var(41) = 2
trigger1 = time >= 5
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1




;突進頭部打撃----1-----------------------------------
[Statedef 1006]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
sprpriority = 2
[state 0,0]
type = pause
trigger1 = time = 0
time = 6
[State 0, 0]
type = StateTypeSet
trigger1 = time >= 2
movetype = A
[state 0,0]
type = palfx
triggerall = alive
trigger1 = time = 0
time = 8
add = 140,20,0

[state 0,0]
type = posfreeze
trigger1 = time < gethitvar(hittime)


[state 0,0]
type = removeexplod
trigger1 = anim != 7356
id = 1700

[state 0,0]
type = velset
triggerall = anim = 7400
trigger1 = time = [2,30]
x = 3

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = var(27) = 0
trigger1 = anim != 7359
trigger1 = time >= 4
attr = S, SA
guard.kill = 0
damage = ifelse(var(39)=1,90,85), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 11,5
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 6, Hit
pausetime = 10, 14
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -4,-5
[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = var(27) = 1
trigger1 = anim != 7359
trigger1 = time >= 4
attr = S, SA
guard.kill = 0
damage = ifelse(var(39)=1,90,85), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 11,5
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 6, Hit
pausetime = 10, 14
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -4,-5
p2stateno = 8715


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = Changeanim
trigger1 = command != "holdx"
trigger1 = Anim = 7400
trigger1 = time >= 5
trigger1 = time >= gethitvar(hittime)
value = 7401
[State 210, 3]
type = Changeanim
trigger1 = Anim = 7400
trigger1 = time >= 30
trigger1 = time >= gethitvar(hittime)
value = 7401

[State 210, 3]
type = Changestate
trigger1 = command = "236_x"
trigger1 = movecontact
value = 1001
[State 210, 3]
type = Changestate
trigger1 = command = "236_y"
trigger1 = movecontact
value = 1002

[state 0,0]
type = changestate
triggerall = var(41) = 2
trigger1 = time >= 5
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

;突進頭部打撃---アーマー-2-----------------------------------
[Statedef 1007]
type    = S
movetype= H
physics = S
ctrl = 0
sprpriority = 2
velset = 0,0
[state 0,0]
type = pause
trigger1 = time = 0
time = 6
[State 0, 0]
type = StateTypeSet
trigger1 = time >= 2
movetype = A
[state 0,0]
type = palfx
triggerall = alive
trigger1 = time = 0
time = 8
add = 140,20,0
[state 0,0]
type = posfreeze
trigger1 = time < gethitvar(hittime)

[state 0,0]
type = removeexplod
trigger1 = anim != 7356
id = 1700

[state 0,0]
type = velset
triggerall = anim = 7402
trigger1 = time = [2,30]
x = 3

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 0
trigger1 = anim != 7359
trigger1 = time >= 4
attr = C, SA
damage = ifelse(var(39)=1,86,80), 8
getpower = ifelse(var(50)=0,50,0),ifelse(var(50)=0,28,0)
givepower = 15,10
animtype = heavy
guardflag = LA;ifelse(anim = 7359,H,M);A
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 14
sparkno = 2;S8004
sparkxy = -5, -10
hitsound = S120, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2.5
air.velocity = -4,-3
down.velocity = -1,-1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = Changeanim
trigger1 = command != "holdy"
trigger1 = Anim = 7402
trigger1 = time >= 10
value = 7403
[State 210, 3]
type = Changeanim
trigger1 = Anim = 7402
trigger1 = time = 25
value = 7403

[State 210, 3]
type = Changestate
trigger1 = command = "236_x"
trigger1 = movecontact
value = 1001
[State 210, 3]
type = Changestate
trigger1 = command = "236_y"
trigger1 = movecontact
value = 1002



;高速度連続打撃----1-----------------------------------
[Statedef 1021]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(41)=0,3,5)
poweradd= ifelse(var(41)=1,30,0)
ctrl = 0
anim = 7365
sprpriority = 2

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 35,-80
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 20
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 35,-80
keyctrl = 0
ownpal = 1
persistent = 0

[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 20
attr = S, SA
damage = 35, 9
getpower = ifelse(var(50)=0,56,0),ifelse(var(50)=0,33,0)
givepower = 10,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 15
guard.pausetime = 10,7
sparkno = 2;S8004
sparkxy = -5, -77
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -2,0
air.velocity = -3.8,-2
air.fall = 1
fall.recover = 0
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 20
attr = S, SA
damage = 35, 9
getpower = ifelse(var(50)=0,56,0),ifelse(var(50)=0,33,0)
givepower = 10,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 15
guard.pausetime = 10,7
sparkno = 2;S8004
sparkxy = -5, -77
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -2,0
air.velocity = -3.8,-2
air.fall = 1
fall.recover = 0

[State 210, 2]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 19
value = 110, 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;高速度連続打撃----2-----------------------------------
[Statedef 1022]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(41)=0,3,5)
poweradd= ifelse(var(41)=1,30,0)
ctrl = 0
anim = 7366
sprpriority = 2

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "kokken"
stateno = 2122
postype = p1
pos = 35,-88
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 20
helpertype = normal
name = "kokken"
stateno = 2122
postype = p1
pos = 35,-90
keyctrl = 0
ownpal = 1
persistent = 0

[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 20
attr = S, SA
damage = 35, 9
getpower = ifelse(var(50)=0,56,0),ifelse(var(50)=0,33,0)
givepower = 10,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 15
guard.pausetime = 10,7
sparkno = 2;S8004
sparkxy = -5, -77
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -2,0
air.velocity = -3.8,-2
air.fall = 1
fall.recover = 0


[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 20
attr = S, SA
damage = 35, 9
getpower = ifelse(var(50)=0,56,0),ifelse(var(50)=0,33,0)
givepower = 10,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 15
guard.pausetime = 10,7
sparkno = 2;S8004
sparkxy = -5, -77
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -2,0
air.velocity = -3.8,-2
air.fall = 1
fall.recover = 0

[State 210, 2]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 19
value = 110, 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;捕獲に挑戦１
[Statedef 1030]
type    = S
movetype= A
physics = S
ctrl = 0
;juggle = 4
anim = 7408
poweradd = ifelse(var(41)=1,50,0)
sprpriority = 1
[state 0,reverse]
type = varset
trigger1 = time = 0
;trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.6

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 5
trigger1 = P2MoveType != H
attr = S, ST
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S31, 7
sprpriority = 1
;p2facing = -1
p1stateno = 1731
p2stateno = 1732
fall = 1
fall.recover = 0

[State 210, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 110, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;捕獲に挑戦3
[Statedef 1031]
type    = S
movetype= A
physics = S
ctrl = 0
;juggle = 4
anim = 7409
poweradd = ifelse(var(41)=1,50,0)
sprpriority = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
;trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.6

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 5
trigger1 = P2MoveType != H
attr = S, ST
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S31, 7
sprpriority = 1
;p2facing = -1
p1stateno = 1741
p2stateno = 1742
fall = 1
fall.recover = 0

[State 210, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 110, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;電撃放出-----------------------------------
[Statedef 1045]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 7434
sprpriority = 2
velset = 1,-1

[State 0, 0]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "dengekizanzo"
stateno = 1048
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
id = 1045
persistent = 0

[State 100,00]
type = null;Afterimage
trigger1 = time = 2
trans = none
TimeGap = 2
FrameGap = 2
time = 14
length = 25
palbright = 255,255,255
palcontrast = 255,255,255


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[state 0,0]
type = changeanim
trigger1 = time = 6
value = 5040
[state 0,0]
type = changestate
trigger1 = time = 6
value = 51
ctrl = 1



;電撃放出-----------------------------------
[Statedef 1049]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 7434
sprpriority = 2

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "dengekizanzo"
stateno = 1046
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
id = 1045
persistent = 0

[State 100,00]
type = null;Afterimage
trigger1 = time = 2
trans = none
TimeGap = 2
FrameGap = 2
time = 14
length = 25
palbright = 255,255,255
palcontrast = 255,255,255

[state 0,0]
type = velset
trigger1 = time <= 19
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time = 20
x = 2
y = -1
[state 0,0]
type = veladd
trigger1 = time > 20
y = 0.45

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[state 0,0]
type = changeanim
trigger1 = time = 20
value = 5040

[state 0,0]
type = changestate
trigger1 = time = 21
value = 5040
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 20
value = 52
ctrl = 0


;電撃放出-----------------------------------
[Statedef 1046]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 7435
sprpriority = 2

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,var(44) % 1000000 < 100000
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time <= 20
x = 0
y = 0

[State 200, HitDef]
type = HitDef
persistent = 5
triggerall = parent,var(27) = 0
trigger1 = time >= 5
attr = A, SA
damage = 13, 6
getpower = ifelse(parent,var(50)=0,20,0),ifelse(var(50)=0,12,0)
givepower = 11,5
guard.kill = 0
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 4, Hit
pausetime = 6, 8
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2.5,-4
air.velocity = -2,-5
;fall = 1
;air.fall = 1

[State 200, HitDef]
type = HitDef
persistent = 5
triggerall = parent,var(27) = 1
trigger1 = time >= 5
attr = A, SA
damage = 13, 6
getpower = ifelse(parent,var(50)=0,20,0),ifelse(var(50)=0,12,0)
givepower = 11,5
guard.kill = 0
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 4, Hit
pausetime = 6, 8
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2.5,-4
air.velocity = -2,-5
p2stateno = 8715

[State 210, 3]
type = changestate
trigger1 = time >= 150
trigger2 = parent,statetype != A
value = 1047

;電撃放出-----------------------------------
[Statedef 1047]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 9999
sprpriority = 2

[State 210, 3]
type = destroyself
trigger1 = time = 9

;電撃放出-----------------------------------
[Statedef 1048]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 7435
sprpriority = 2

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time <= 20
x = 0
y = 0

[State 200, HitDef]
type = HitDef
persistent = 5
triggerall = parent,var(27) = 0
trigger1 = time >= 5
attr = A, SA
damage = 13, 6
getpower = ifelse(parent,var(50)=0,22,0),ifelse(parent,var(50)=0,12,0)
givepower = 11,5
guard.kill = 0
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 4, Hit
pausetime = 6, 8
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2.5,-4
air.velocity = -2,-5
;fall = 1
;air.fall = 1
[State 200, HitDef]
type = HitDef
persistent = 5
triggerall = parent,var(27) = 1
trigger1 = time >= 5
attr = A, SA
damage = 13, 6
getpower = ifelse(parent,var(50)=0,22,0),ifelse(parent,var(50)=0,12,0)
givepower = 11,5
guard.kill = 0
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 4, Hit
pausetime = 6, 8
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2.5,-4
air.velocity = -2,-5
p2stateno = 8715

[State 210, 3]
type = changestate
trigger1 = time >= 40
value = 1047


;電撃放出-----------------------------------
[Statedef 2020]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 7434
sprpriority = 2
velset = 1,-1

[State 0, 0]
type = Helper
trigger1 = time = 3
helpertype = normal
name = "dengekizanzo"
stateno = 2021
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
id = 1045
persistent = 0

[state 0,0]
type = velset
trigger1 = time <= 1
x = 0
y = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7049
postype = p1
pos = -5,-88
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7048
postype = p1
pos = -5,-88
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 0
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 2

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
;movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 5
channel = 0

[state 0,0]
type = changeanim
trigger1 = time = 5
value = 5040
[state 0,0]
type = changestate
trigger1 = time = 5
value = 51
ctrl = 1
;電撃放出-----------------------------------
[Statedef 2021]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 7435
sprpriority = 2

[state 0,0]
type = velset
trigger1 = time <= 20
x = 0
y = 0

[State 200, HitDef]
type = HitDef
persistent = 5
trigger1 = time >= 5
attr = A, SA
damage = 12, 5
getpower = ifelse(parent,var(50)=0,20,0),ifelse(var(50)=0,12,0)
givepower = 11,5
guard.kill = 0
animtype = heavy
guardflag = MA;ifelse(anim = 7359,H,M);A
hitflag = MAF
priority = 4, Hit
pausetime = 6, 5
guard.pausetime = 1,5
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2.5,-4
air.velocity = -2,-5
fall = 1
air.fall = 1
fall.recovertime = 10

[State 210, 3]
type = changestate
trigger1 = time >= 240
value = 1047

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7410
sprpriority = 2

[state 0,0]
type = posadd
triggerall = numhelper(2012) >= 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = helper(2012),movehit
x = floor(enemy,gethitvar(hitcount)*-0.08)
;ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 0
channel = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -5,-88
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -5,-88
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 73

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 5
trigger1 = P2MoveType != H
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S31, 7
sprpriority = 1
;p2facing = -1
p1stateno = 2011
p2stateno = 2012
fall = 1
fall.recover = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.5
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 1
persistent = 0
value = 200,19
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 10
persistent = 0
value = 200,20
channel = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
ignorehitpause = 1
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
;ignorehitpause = 1
persistent = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0

[state 0,0]
type = varadd
trigger1 = time >= 60
v = 19
value = ifelse(var(19) <= 7,1,-8)
persistent = 5

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------
;投げ
[Statedef 2011]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7411
sprpriority = 1
velset = 0,0
poweradd = 70

[state 0,0]
type = velset
trigger1 = time = 0
x = 1.3
y = -9
[state 0,0]
type = velset
trigger1 = time = [30,35]
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time = 36
x = -1
y = -3
[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(43) <= 3
trigger1 = var(24) < 7
trigger1 = var(27) = 0
trigger1 = time = 1
v = 24
value = 1
persistent = 0


[state 0,reverse]
type = varset
trigger1 = time = 1
fvar(5) = fvar(5)*0.3
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 200, 32
channel = 0

[State 0, 1]
type = TargetBind
trigger1 = time <= 1
pos = 80,-90
[State 0, 1]
type = TargetBind
trigger1 = time = 4
pos = 20,-90
[State 0, 1]
type = TargetBind
trigger1 = time = 8
pos = -30,-90
[State 0, 1]
type = TargetBind
trigger1 = time = 12
pos = -78,-78
[State 0, 1]
type = TargetBind
trigger1 = time = 16
pos = -82,-73
[State 0, 1]
type = TargetBind
trigger1 = time = 20
pos = -84,-66
[State 0, 1]
type = TargetBind
trigger1 = time = 28
pos = -65,-95
[State 0, 1]
type = TargetBind
trigger1 = time = 30
pos = 42,-124
[State 0, 1]
type = TargetBind
trigger1 = time = 32
pos = 6,0
[State 0, 1]
type = TargetBind
trigger1 = time = 33
pos = 6,20

[State 0, 0]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "bomb"
stateno = 2013
postype = p1
pos = 50,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
size.xscale = 0.5
size.yscale = 0.5

[state 0,0]
type = envshake
trigger1 = time = 41
time = 15
ampl = -6

[state 0,0]
type = playsnd
trigger1 = time = 41
value = 31, 0

[State 200, 3]
type = ChangeState
trigger1 = time >= 52
;trigger1 = pos y >= 0
value = 5210
ctrl = 1

[State 200, 3]
type = ChangeState
trigger1 = time >= 50
trigger1 = pos y >= 0
value = 52
;ctrl = 1

;------------------------------------------
; 投げられてる相手
[Statedef 2012]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = -2
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = posadd
trigger1 = time = 34
x = 55
persistent = 0
[state 0,0]
type = velset
trigger1 = time = 34
x = -1
y = 10

[state 0,0]
type = veladd
trigger1 = time >= 34
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 705
[state 0,0]
type = turn;changeanim2
trigger1 = time = 6
;value = 706
[state 0,0]
type = changeanim2
trigger1 = time = 10
value = 706
[state 0,0]
type = changeanim2
trigger1 = time = 20
value = 707
[state 0,0]
type = changeanim2
trigger1 = time = 32
value = 708

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 34
value = -220

[state 0,0]
type = envshake
trigger1 = time = 34
time = 15
ampl = -5

[state 0,0]
type = selfstate
trigger1 = time >= 34
;trigger1 = pos y >= 0
value = 5050

;------------------------------------------
; エフェクト
[Statedef 2013]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 4
velset =0,0
anim = 7234

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,0]
type = palfx
trigger1 = time = 0
time = 100
add = 180,50,-180

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[state 0,0]
type = angleset
trigger1 = time >= 0
value = -90

[state 0,0]
type = angledraw
trigger1 = time >= 0

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;中段下段分岐
[Statedef 1050]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7232
sprpriority = 2
poweradd = 0

[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
trigger1 = var(43) <= 3
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 20
anim = 7234
postype = p1
pos = 2,-32
ownpal = 1
sprpriority = 5
bindtime = -1

[state 2, hoshi]
type = varadd
trigger1 = var(43) <= 3
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1



[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 19;animelem = 2
trigger1 = command = "holdy"
value = 1051

[State 2, shild]
type = HitOverride
triggerall = !movehit
trigger1 = time = [0,18]
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 1052
IgnoreHitPause = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time >= 13
x = 2.2

[state 0,0]
type = playsnd
trigger1 = time = 20
value = 31, 3

[State 200, HitDef1]
type = HitDef
trigger1 = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,114,110), 18
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 9, 9
guard.pausetime = 12, 6
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recover = 0
;ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -9.5


[State 200, HitDef1]
type = HitDef
trigger1 = var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,114,110), 18
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 9, 9
guard.pausetime = 12, 6
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recover = 0
;ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -9.5
p2stateno = 8715


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;中段下段分岐 アーマー
[Statedef 1052]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 2
poweradd = 0
anim = 7332
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31, 3

[state 0,0]
type = palfx
trigger1 = time = 0
time = 10
add = 120,0,0

[state 0,0]
type = pause
trigger1 = time = 0
time = 5

[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
trigger1 = var(43) <= 3
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7234
postype = p1
pos = 2,-32
ownpal = 1
sprpriority = 5
bindtime = -1

[state 2, hoshi]
type = varadd
trigger1 = var(43) <= 3
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1



[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 4;animelem = 2
trigger1 = command = "holdy"
value = 1051

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time >= 4
x = 1.2

[State 200, HitDef1]
type = HitDef
trigger1 = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,114,110), 18
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 9, 9
guard.pausetime = 12, 6
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 4
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recover = 0
;ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -9.5


[State 200, HitDef1]
type = HitDef
trigger1 = var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,114,110), 18
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 9, 9
guard.pausetime = 12, 6
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 4
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recover = 0
;ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -9.5
p2stateno = 8715

;---------------------------------------------------------------------------
;中段下段分岐 下段
[Statedef 1051]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7233
sprpriority = 2
poweradd = 0

[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 8
anim = 7235
postype = p1
pos = 2,-15
ownpal = 1
sprpriority = 5
bindtime = -1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 31, 2

[State 200, HitDef1]
type = HitDef
trigger1 = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,104,100), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 5
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,0
air.velocity = -1,5
;fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,104,100), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 5
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,0
air.velocity = -1,5
;fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;乱打
[Statedef 1060]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7247
sprpriority = 2
poweradd = 0

[state 0,0]
type = playsnd
trigger1 = time = [7,24]
value = 100, 2
channel = 2
persistent = 4

[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = [9,34]
x = 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = var(27) = 0
trigger1 = time >= 2
persistent = 3
attr = S, SA
damage = ifelse(var(39)=1,20,15), 4
getpower = ifelse(var(50)=0,17,0),23
givepower = 6,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 4, 4
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5

[State 200, HitDef1]
type = HitDef
trigger1 = var(27) >= 1
trigger1 = time >= 2
persistent = 3
attr = S, SA
damage = ifelse(var(39)=1,21,15), 3
getpower = ifelse(var(50)=0,20,0),23
givepower = 6,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 4, 4
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5
p2stateno = 8715


[State 0, 0]
type = Helper
trigger1 = Numhelper(1061) = 0
trigger1 = time = [5,23]
helpertype = normal
name = "padhi"
ID = 1061
stateno = 1061
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1


;---------------------------------------------------------------------------
;乱打判定
[Statedef 1061]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7339
sprpriority = 3

[State 2, shild]
type = null;HitOverride
trigger1 = time >= 0
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 1062
IgnoreHitPause = 1

[state 0,0]
type = reversaldef
trigger1 = 1;enemy,movetype = A
Reversal.Attr = SCA, NA,AP
pausetime = 1,20
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 16,-13
p1stateno = 1062
persistent = 0

[state 0,0]
type = bindtoparent
trigger1 = time >= 1
ignorehitpause = 1
pos = 0,0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,SA,HA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,NA,AP
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 16
trigger2 = parent,stateno != 1060


;---------------------------------------------------------------------------
;乱打判定 発動
[Statedef 1062]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 9999
sprpriority = 3

[State 0, 0]
type = Helper
;trigger1 = p2bodydist x >= 40;enemy,Numproj >= 1
trigger1 = time = 0
helpertype = normal
name = "hajiki"
ID = 1072
stateno = 1072
;postype = p1
pos = 35,-60+(random%10)
keyctrl = 0
ownpal = 1
pausemovetime = 99

[state 0,0]
type = bindtoparent
trigger1 = time >= 1
ignorehitpause = 1
pos = 0,0

[state 0,0]
type = destroyself
trigger1 = time = 2





;---------------------------------------------------------------------------
; もえるカラダ
[Statedef 1099]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = -3

[State 1000, big]
type = null;Explod
trigger1 = random >= 150
trigger1 = numexplod(1) <= 6
anim = 7261
random = 55,90
pos = 0,-20
ownpal = 1
sprpriority = -3
scale = 1+var(3)*0.1,1+var(3)*0.1
id = 1

[State 180, 1]
type = VarRandom
trigger1 = Time >= 0
v = 1
range = -20,20

[State 180, 1]
type = VarRandom
trigger1 = Time >= 0
v = 2
range = -20,20

[State 180, 1];scale
type = VarRandom
trigger1 = Time >= 0
v = 3
range = 0,15

[State 180, 1];x
type = VarRandom
trigger1 = Time >= 0
v = 4
range = -2,2

[State 180, 1];y
type = VarRandom
trigger1 = Time >= 0
v = 5
range = -5,-1

[State 0,0]
type = PosAdd
trigger1 = P2Dist X >= 0
x = 5
[State 0,0]
type = PosAdd
trigger1 = P2Dist X <= 0
x = -5
[State 0,0]
type = PosAdd
trigger1 = P2Dist Y <= 50
y = -5
[State 0,0]
type = PosAdd
trigger1 = P2Dist Y >= 50
y = 5

[State 1000, mini]
type = Explod
trigger1 = random >= 600
trigger1 = numexplod(10) <= 16
anim = 7261
random = 55,90
pos = 0,30
removetime = 60
ownpal = 1
sprpriority = 1
scale = 0.1,0.1
id = 10
vel = var(4),var(5)

[state 0, 0]
type = ModifyExplod
trigger1 = 1
ID = 10
vel = var(4)

[state 0,0]
type = destroyself
trigger1 = time = 100

;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　壁叩きつけ
[Statedef 1083]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = enemy,stateno != 1084
value = 1085
ctrl = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time >= 2
trigger1 = enemy,frontedgedist <= 5
anim = 7260
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 40
anim = 7261
random = 40,40
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 3
scale = 2,2

;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　壁叩きつけ lv2
[Statedef 1483]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = enemy,stateno != 1084
value = 1085
ctrl = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time >= 2
trigger1 = enemy,frontedgedist <= 5
anim = 7260
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 40
anim = 7261
random = 40,40
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 3
scale = 2,2


;---------------------------------------------------------------------------
;あっかい　壁までふっとび
[Statedef 1084]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 10
time = 5
add = 150,0,0
mul = 200,200,200
[state 0,0]
type = palfx
trigger1 = time >= 5
persistent = 10
time = 5
add = 130,0,0
mul = 150,150,150

[state 0,0]
type = posset
trigger1 = time = 0
y = -35

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = 15
y = 0

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = lifeadd
trigger1 = frontedgedist <= 4
;trigger1 = time >= 2
persistent = 0
value = -176
[state 0,0]
type = lifeadd
trigger1 = enemy,stateno = 1483
trigger1 = frontedgedist <= 4
persistent = 0
value = -55

[state 0,0]
type = lifeadd
trigger1 = time = 0
persistent = 0
value = -2
kill = 0

[state 0,0]
type = changestate
trigger1 = frontedgedist <= 4
;trigger2 = time >= 90
value = 1093

;---------------------------------------------------------------------------
;圧壊つかんだ 終了隙
[Statedef 1085]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7263
sprpriority = 2


[state 0,0]
type = playsnd
triggerall = time = 0
trigger1 = prevstateno = 1083
trigger2 = prevstateno = 1483
value = 31, 0
volume = -20

[State 210, 3]
type = Changeanim
triggerall = time = 0
trigger1 = prevstateno = 1081
trigger2 = prevstateno = 1089
value = 7264

[State 210, 3]
type = Changeanim
triggerall = time = 0
trigger1 = prevstateno = 1091
value = 7268

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;壁バウンド

[Statedef 1093]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -1

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 0.4
y = -7.2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
triggerall = time >= 18
triggerall = Alive
triggerall = CanRecover
trigger1 = command = "recovery"
value = 5200

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100



;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　地面叩きつけ
[Statedef 1086]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
value = 1085
ctrl = 0

[state 0,0]
type = playsnd
trigger1 = time = 5
value = 31, 0
volume = -80

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7260
postype = p1
pos = -40,-15
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　地面叩きつけ lv2
[Statedef 1486]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
value = 1085
ctrl = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7260
postype = p1
pos = -40,-15
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[state 0,0]
type = playsnd
trigger1 = time = 5
value = 31, 0
volume = -80

;---------------------------------------------------------------------------
;あっかい　地面までご案内
[Statedef 1087]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 10
time = 55
add = 150,0,0
mul = 200,200,200
[state 0,0]
type = palfx
trigger1 = time >= 5
persistent = 10
time = 5
add = 130,0,0
mul = 150,150,150

[state 0,0]
type = posadd
trigger1 = time = 0
x = 10

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 5030

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[state 0,0]
type = velset
trigger1 = time = 0
x = 7
y = 15

[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = lifeadd
trigger1 = time = 4
persistent = 0
value = -145
[state 0,0]
type = lifeadd
trigger1 = enemy,stateno = 1486
trigger1 = time = 4
persistent = 0
value = -53

[state 0,0]
type = selfstate
trigger1 = time = 5
value = 5100




;---------------------------------------------------------------------------
;圧壊2
[Statedef 1088]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7265
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 800, 1]
type = HitDef
trigger1 = time >= 4
trigger1 = P2MoveType != H
persistent = 0
attr = S, ST
hitflag = M
priority = 2, Miss
sparkno = -1
air.juggle = 1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 1089
p2stateno = 1082
fall = 1
air.fall = 1
fall.recovertime = 10

;---------------------------------------------------------------------------
;圧壊つかんだ2
[Statedef 1089]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7258
sprpriority = 2
poweradd = 0
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time = 80
value = 1085
ctrl = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.6
persistent = 0

[State 210, 3]
type = ChangeState
triggerall = power >= 1000 || var(50) >= 2
trigger1 = time <= 64
trigger1 = command = "623_z"
value = 1095

[State 210, 3]
type = ChangeState
trigger1 = time = 65
trigger1 = command = "holdback"
value = 1483
[State 210, 3]
type = ChangeState
trigger1 = time = 65
trigger1 = command = "holddown"
value = 1486

[state 0,0]
type = targetbind
trigger1 = time <= 1
pos = 40,-90


[state 0,0]
type = playsnd
trigger1 = time = 69
value = 31, 0
volume = -80
[State 3000, effect]
type = Explod
trigger1 = time = 69
anim = 7260
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 60
anim = 7261
random = 40,40
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 3
scale = 2,2

[State 1000, moeru]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(1099) = 0
helpertype = normal
name = "fire"
pos = 0,0
postype = p2
stateno = 1099
ownpal = 1
id = 1099
keyctrl = 0
bindtime = -1


;---------------------------------------------------------------------------
;圧壊ex
[Statedef 1090]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7267
sprpriority = 2
poweradd = 0
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 65

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 6
channel = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = animelem = 2
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelem = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = animelem = 2
persistent = 0
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 2
anim = 7049
postype = p1
pos = 6,-65
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 2
anim = 7048
postype = p1
pos = 6,-65
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 800, 1]
type = HitDef
trigger1 = time >= 4
;airjuggle = 99
;trigger1 = enemy,stateno != [150,155]
persistent = 0
attr = S, HT
hitflag = MAF
priority = 2, Miss
sparkno = -1
air.juggle = 1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 1091
p2stateno = 1092
fall = 1
air.fall = 1
fall.recover = 0


;---------------------------------------------------------------------------
;圧壊つかんだex
[Statedef 1091]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7258
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,star]
type = varadd
triggerall = var(41) = 2
trigger1 = var(44) % 1000 < 100
trigger1 = time = 2
persistent = 0
v = 44
value = 100
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = time = 1
trigger1 = var(44) % 1000 < 100
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = fvar(5)*0.05
persistent = 0

[state 0,0]
type = palfx
trigger1 = time >= 5
time = 2
add = 10,0,0
mul = 100,100,100
[state 0,0]
type = BGpalfx
trigger1 = time >= 5
time = 2
add = 100,0,0
color = 0
mul = 200,200,200

[State 210, 3]
type = ChangeState
trigger1 = time = 100
value = 1085
ctrl = 0

[state 0,0]
type = targetbind
trigger1 = time <= 1
pos = 40,-90

[state 0,0]
type = envshake
trigger1 = time = 5
time = 90

[state 0,0]
type = hitadd
trigger1 = time >= 5
persistent = 10
value = 1
[state 0,0]
type = hitadd
trigger1 = time = 99
value = 1

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 60, 1

[state 0,0]
type = playsnd
trigger1 = time = 99
value = 300, 2

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7266
postype = p1
pos = 30,0
ownpal = 1
sprpriority = -5
scale = 2,2

[State 3000, effect]
type = Explod
trigger1 = time = 99
anim = 7260
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

;---------------------------------------------------------------------------
;圧壊つかまれたex
[Statedef 1092]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000
sprpriority = -1
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 8
time = 4
add = 150,0,0
mul = 90,90,90
[state 0,0]
type = palfx
trigger1 = time >= 4
persistent = 8
time = 4
add = 130,0,0
mul = 50,50,50

[state 0,0]
type = changeanim2
trigger1 = time >= 0
value = 7259

[state 0,0]
type = lifeadd
persistent = 10
triggerall = prevstateno != [150,155]
trigger1 = time >= 5
value = ifelse(gethitvar(hitcount) >= 5, ifelse(gethitvar(hitcount) >= 10,-6,-10), -18)
kill = 0
[state 0,0]
type = lifeadd
triggerall = prevstateno != [150,155]
trigger1 = time = 99
value = ifelse(gethitvar(hitcount) >= 2, ifelse(gethitvar(hitcount) >= 10,-43,-70), -200)


[state 0,0]
type = lifeadd
persistent = 10
triggerall = prevstateno = [150,155]
trigger1 = time >= 5
value = ifelse(gethitvar(hitcount) >= 5, ifelse(gethitvar(hitcount) >= 10,-3,-7), -12)
kill = 0
[state 0,0]
type = lifeadd
triggerall = prevstateno = [150,155]
trigger1 = time = 99
value = ifelse(gethitvar(hitcount) >= 2, ifelse(gethitvar(hitcount) >= 10,-26,-40), -150)


[state 0,0]
type = velset
trigger1 = time = 99
x = -1.3
y = -5

[state 0,0]
type = posset
trigger1 = time = 100
y = -35


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 99
value = SCA
time = 60

[State 210, 3]
type = selfState
trigger1 = time = 100
value = 5050

;---------------------------------------------------------------------------
;あっかい　EX追加 噛み噛みしtyaうお！
[Statedef 1095]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 2
anim = 7300
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = animelem = 2
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelem = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = animelem = 1
persistent = 0
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 1
anim = 7049
postype = p1
pos = 20,-25
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 1
anim = 7048
postype = p1
pos = 20,-25
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1


[state 0,0]
type = allpalfx
trigger1 = time = [70,80]
add = (time*3)-90,0,0
mul = 255,0,0
time = 1
;color = 0

[State 3000, effect]
type = Explod
trigger1 = time = 75
anim = 7297
;postype = p1
pos = -40,67
ownpal = 1
sprpriority = 5

[state 0,0]
type = playsnd
trigger1 = time = 75
value = 60, 3

[state 0,0]
type = varset
trigger1 = time = 75
v = 49
value = 1200

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 =var(24) < 7
trigger1 = time = 74
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changestate
trigger1 = time = 100
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;あっかい　噛まれたお（；；）
[Statedef 1096]
type    = L
movetype= H
physics = C
ctrl = 0
sprpriority = -2
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = -15
[state 0,0]
type = posset
trigger1 = time >= 2
y = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7299

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 10
persistent = 0
value = -290

[state 0,0]
type = selfstate
trigger1 = time = 15
value = 5100







;---------------------------------------------------------------------------
;空中ビーム発射１
[Statedef 1110]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7289
sprpriority = 2
poweradd = 0

;[state 0,0]
;type = posadd
;triggerall = numhelper(1111) >= 1
;trigger1 = var(41) = 2
;trigger1 = var(27) >= 1
;trigger1 = enemy,gethitvar(hitcount)>=8;helper(1111),movehit
;x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "beam"
ID = 1111
stateno = 1111
postype = p1
pos = 0,-12
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[State 210, 3]
type = ChangeState
triggerall = var(41) != 2
trigger1 = pos y >= 0
value = 9929
[State 210, 3]
type = ChangeState
triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 52

;---------------------------------------------------------------------------
;空中ビーム１
[Statedef 1111]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7286
sprpriority = 3
velset = 1.5,1.5

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31, 1
volume = -200

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1113

[State 210, 3]
type = ChangeState
trigger1 = time = 35
trigger2 = pos y >= -20
value = 1112


[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2


[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715



;---------------------------------------------------------------------------
;空中ビームhit
[Statedef 1112]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7287
sprpriority = 3
velset = 1,1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;空中ビームmiss
[Statedef 1113]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7288
sprpriority = 3
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time = 0
x = 10

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;空中ビーム発射2
[Statedef 1115]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7285
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = posadd
triggerall = numhelper(1111) >= 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = helper(1111),movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time <= 14
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time = 15
x = -3
y = -2

[State 0, 0]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "beam"
ID = 1111
stateno = 1116
postype = p1
pos = 0,-12
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[state 0,0]
type = veladd
trigger1 = time >= 15
y = 0.45

[State 210, 3]
type = ChangeState
triggerall = var(41) != 2
trigger1 = pos y >= 0
value = 9929
[State 210, 3]
type = ChangeState
triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 9929


;---------------------------------------------------------------------------
;空中ビーム2
[Statedef 1116]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7286
sprpriority = 3
velset = 4,4

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8


[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31, 1
volume = -200

[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
trigger1 = parent,var(44) % 10000000 < 1000000
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 10000000 < 1000000
trigger1 = movehit
persistent = 0
v = 44
value = 1000000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1113

[State 210, 3]
type = ChangeState
trigger1 = time = 40
trigger2 = pos y >= -20
value = 1112

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(var(39)=1,94,90), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(var(39)=1,94,90), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715

;---------------------------------------------------------------------------
;空中ビーム発射ex
[Statedef 1117]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7290
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = posadd
triggerall = time >= 61
triggerall = numhelper(1118) >= 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = helper(1118),movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = 45,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = 45,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
persistent = 0
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)


[state 0,0]
type = velset
trigger1 = time <= 66
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time = 69
x = -3
y = -4

[state 0,0]
type = playsnd
trigger1 = time =68
value = 31, 1

[State 0, 0]
type = Helper
trigger1 = time = 68
helpertype = normal
name = "beam"
ID = 1118
stateno = 1118
postype = p1
pos = 0,-12
keyctrl = 0
ownpal = 1
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 9
channel = 0

[state 0,0]
type = veladd
trigger1 = time >= 69
y = 0.45

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

;---------------------------------------------------------------------------
;空中ビームex
[Statedef 1118]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7291
sprpriority = 3
velset = 2,2

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.5

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,star]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = movehit
persistent = 0
v = 44
value = 1000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
;persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
;trigger1 = time = 69
trigger1 = pos y >= 0
value = 1119

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,14,23), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 3, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,14,23), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 3, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715
;---------------------------------------------------------------------------
;空中ビームex
[Statedef 1119]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7292
sprpriority = 3
velset = 2.3,0

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 1
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,star]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = time = 1
persistent = 0
v = 44
value = 1000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = time = 1
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1




[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
;persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,9,13), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 20
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,9,13), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 20
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715



;震脚１---------------------------------------
[Statedef 1180]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 7350
sprpriority = 2

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
;trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.86
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
scale = 0.5,0.5
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 7
attr = S, SA
damage = ifelse(var(39)=1,55,50), 6
getpower = ifelse(var(50)=0,48,0),13
givepower = 19,8
animtype = heavy
guardflag = M
hitflag = M
priority = 4, Hit
pausetime = 1, 10
sparkno = 0;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0,-6.9
guard.velocity = -5
fall = 1
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0))

[state 0,0]
type = envshake
trigger1 = AnimElem = 7
time = 10

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60, 6

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;震脚2---------------------------------------
[Statedef 1181]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 7351
sprpriority = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[state 0,0]
type = envshake
trigger1 = AnimElem = 7
time = 10

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60, 6

;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 5
;value = 200, 11
;channel = 0

[State 0, 0]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "star"
ID = 1182
stateno = 1182
postype = p1
pos =  0,0
ownpal = 1
persistent = 0


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;震脚EX---------------------------------------
[Statedef 1184]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7353
sprpriority = 1



[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7049
postype = p1
pos = 10,-20
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7048
postype = p1
pos = 10,-20
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 5
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 10

[State 3500, 1]
type = SuperPause
trigger1 = time = 5
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)



[state 0,0]
type = envshake
trigger1 = AnimElem = 7
time = 10

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60, 6

[State 210, 2]
type = PlaySnd
trigger1 = time = 5
value = 200, 11
channel = 0

[State 0, 0]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "star"
ID = 1185
stateno = 1185
postype = p1
pos =  0,0
ownpal = 1
persistent = 0
size.xscale = 2
size.yscale = 2


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;震脚star---------------------------------------
[Statedef 1182]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
anim = 7352
sprpriority = 2
velset = 2,-1.4

[state 0,0]
type = varrandom
trigger1 = time = 0
v = 10
range = -10,0
[state 0,0]
type = varrandom
trigger1 = time = 0
v = 11
range = -7,14

;[state 0,0]
;type = veladd
;trigger1 = time = 1
;x = var(10)*0.1
;y = var(11)*0.1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[state 0,0]
type = angleadd
trigger1 = time >= 1
value = -1

[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = palfx
trigger1 = time <= 24
mul = time*10,time*10,time*10
time = 1

[state 0,0]
type = assertspecial
trigger1 = time <= 1
flag = invisible

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 15
attr = A, SA
damage = ifelse(var(39)=1,45,40), 6
getpower = ifelse(var(50)=0,20,0),18
givepower = 20,10
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, ifelse(parent,Numhelper(9055)= 0,10,20)
sparkno = 2;S8004
sparkxy = -5, -5
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 0,-6.5
guard.velocity = -3
fall = 1
air.fall = 1
fall.recovertime = 45
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0))

;[state 0,0]
;type = destroyself
;trigger1 = time = 120

[state 0,0]
type = changestate
trigger1 = movecontact
trigger2 = time = 110
value = 1183

;震脚star---------------------------------------
[Statedef 1183]
type    = A
movetype= I
physics = N
ctrl = 0
;anim = 7352
sprpriority = 2

[state 0,0]
type = angledraw
trigger1 = 1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time >= 0
mul = 255-(time*10),255-(time*10),255-(time*10)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 24

;震脚star--ex1-------------------------------------
[Statedef 1185]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7354
sprpriority = 2
velset = 0.2,-0.1;2,-2

[state 0,0]
type = varrandom
trigger1 = time = 0
v = 10
range = -12,10
[state 0,0]
type = varrandom
trigger1 = time = 0
v = 11
range = -10,18
[state 0,0]
type = varrandom
trigger1 = time = 0
v = 12
range = -10,10
[state 0,0]
type = varrandom
trigger1 = time = 0
v = 13
range = -10,10

;[state 0,0]
;type = veladd
;trigger1 = time = 1
;x = var(10)*0.1
;y = var(11)*0.1
[state 0,0]
type = posadd
trigger1 = time = 1
x = var(12)
y = var(13)

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[state 0,0]
type = angleadd
trigger1 = time >= 1
value = -4

[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = palfx
trigger1 = time <= 24
mul = time*10,time*10,time*10
time = 1

[state 0,0]
type = assertspecial
trigger1 = time <= 1
flag = invisible

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 15
attr = A, HA
damage = 130, 6
getpower = 0
givepower = 20,10
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, ifelse(parent,Numhelper(9055)= 0,10,20)
sparkno = 2;S8004
sparkxy = -5, -5
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 0,-4.5
air.velocity = 0,-8
guard.velocity = -3
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0))
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
fall.recovertime = 55

;[state 0,0]
;type = destroyself
;trigger1 = time = 120

[state 0,0]
type = changestate
trigger1 = movecontact
trigger2 = time = 480
value = 1183


;---------------------------------------------------------------------------
;呼ぶー　古泉くん
[Statedef 1120]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7302
sprpriority = 1
poweradd = 0

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "koizumikun"
ID = 1130
stateno = 1130
postype = p1
pos =  floor((backedgedist)*-1)-80,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;呼ぶー　みくるちゃん
[Statedef 1121]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7302
sprpriority = 1
poweradd = 0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 1
channel = 0

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "mikuru"
ID = 1140
stateno = 1140
postype = p1
pos = floor((backedgedist)*-1)-80,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;呼ぶー　ハルヒ
[Statedef 1122]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7302
sprpriority = 1
poweradd = 0

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "haruhi"
ID = 1150
stateno = 1150
postype = p1
pos = floor(backedgedist * -1),-50
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;呼ぶー　鶴屋さん
[Statedef 1123]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7302
sprpriority = 1
poweradd = 0

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "turuya"
ID = 1170
stateno = 1170
postype = p1
pos = floor(frontedgedist)+20,0
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;呼ぶー　ちゅるや屋さん
[Statedef 1124]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7302
sprpriority = 1
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,0]
type = null;playsnd
trigger1 = time = 0
value = 200, 9
channel = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -5,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -5,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 0
movetime = 0
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0



[State 0, 0]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "tyuruya"
ID = 1175
stateno = 1175
postype = p1
pos = floor((backedgedist)*-1)-20,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
;古泉くん「どうやらこのステートが私の本体を成り立たせている様ですね。」
[Statedef 1130]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7303
sprpriority = -4
poweradd = 0

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
Reversal.Attr = SCA, NA,SA,NP,SP,HP
pausetime = 18,20
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 30,-40
p1stateno = 1132
persistent = 0

[state 0,0]
type = playsnd
trigger1 = time = 50
value = 430, 0

[state 0,0]
type = turn
trigger1 = parentdist x < -60
persistent = 100

[state 0,0]
type = changeanim
triggerall = anim != 7304
trigger1 = time <= 160
trigger2 = parentdist x > 200
persistent = 50
value = 7304

[state 0,0]
type = changeanim
trigger1 = time >= 100
trigger1 = parentdist x = [-170,170]
value = 7303
persistent = 10

[state 0,0]
type = posadd
trigger1 = anim = 7304
x = 2

[State 210, 3]
type = ChangeState
triggerall = parent,numhelper(1160) = 1
trigger1 = parent,Numexplod(999) = 1;parent,helper(1160),stateno = 1162
value =1131

[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

;---------------------------------------------------------------------------
;古泉くん「なるほど…僕の役目もこれまでのようです。」
[Statedef 1131]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7315
sprpriority = -4
poweradd = 0
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 90
value = 430, 2
volume = -100

[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[State 0,0]
type = Explod
;trigger1 = Numexplod(1131) = 0
trigger1 = time = 0
anim = 7316
pos = 0,0
ownpal = 0
sprpriority = 5
ignorehitpause = 1
;persistent = 0
;id = 1131

[state 0,0]
type = velset
trigger1 = animelem = 7
y = -2
[state 0,0]
type = veladd
trigger1 = time >= 135
y = 0.45

[state 0,0]
type = assertspecial
trigger1 = time >= 135
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time = 230


;---------------------------------------------------------------------------
;古泉くん「やられました。あちらも本気というわけですね。」
[Statedef 1132]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7315
sprpriority = -4
poweradd = 0
velset = 0,0


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[State 0,0]
type = Explod
trigger1 = Numexplod(1131) = 0
trigger1 = time = 0
id = 1131
anim = 7329
pos = 0,0
ownpal = 0
vel = -0.2,-3
accel = 0,0.2
sprpriority = 5
;ignorehitpause = 1
persistent = 0

[state 0,0]
type = velset
trigger1 = animelem = 7
y = -2
[state 0,0]
type = veladd
trigger1 = time >= 135
y = 0.45

[state 0,0]
type = assertspecial
trigger1 = time >= 135
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time = 230

;---------------------------------------------------------------------------
;みくるちゃん「…こ、ここどこなんですかぁ〜？（泣」
[Statedef 1140]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7305
sprpriority = -5
poweradd = 0

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
Reversal.Attr = SCA, NA,SA,HA,NP,SP
pausetime = 18,20
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 8,-3
p1stateno = 1141
persistent = 0

[state 0,0]
type = playsnd
trigger1 = time = 80
value = 420, 1
channel = 3

[state 0,0]
type = playsnd
triggerall = gametime % 9 = 0;
triggerall = random >= 800
trigger1 = parent,stateno = [5000,5002]
trigger1 = gametime % 4 = 0
trigger2 = parent,stateno = [5010,5012]
trigger2 = gametime % 3 = 0
trigger3 = parent,stateno = 5020
trigger3 = gametime % 9 = 0
value = 420, 0
channel = 3
persistent = 140

[state 0,0]
type = turn
trigger1 = time >= 160
trigger1 = ifelse(parentdist x >= 0,random >= 980, random >= 870)
;trigger1 = backedgedist >= 0
persistent = 100

[state 0,0]
type = changeanim
triggerall = anim != 7306
trigger1 = time <= 160
trigger2 = random >= 900
persistent = 90
value = 7306

;[state 0,0]
;type = null;screenbound
;trigger1 = time >= 150
;value = 1
;movecamera = 0,1

[state 0,0]
type = changeanim
trigger1 = time = 170
trigger2 = time >= 160
trigger2 = random >= 900
value = 7305
persistent = 60

[state 0,0]
type = posadd
trigger1 = anim = 7306
x = 1

[state 0,0]
type = destroyself
trigger1 = parent,Numhelper(1160) = 1
;trigger2 = time >= 600
;trigger2 = backedgedist <= -100


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800


;---------------------------------------------------------------------------
;みくるちゃん「ひっ（泣」
[Statedef 1141]
type    = S
movetype= H
physics = S
ctrl = 0
;anim = 7328
sprpriority = -5
poweradd = 50


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[state 0,0]
type = destroyself
trigger1 = parent,Numhelper(1160) = 1

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 420, 2
channel = 3

[state 0,0]
type = changeanim
trigger1 = time = 1
value = 7328

[state 0,0]
type = velset
trigger1 = time >= 1
x = -6

[state 0,0]
type = destroyself
trigger1 = backedgedist <= -100

;---------------------------------------------------------------------------
;ハルヒちゃん「とりゃあ〜！！！！！」
[Statedef 1150]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7307
sprpriority = 4
poweradd = 0
velset = 6,-2


[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 2
attr = SCA, AA,AP
stateno = 1152
IgnoreHitPause = 1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = posset
trigger1 = time = 0
y = -50

[state 0,0]
type = veladd
trigger1 = time >= 17
y = 0.45

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 400, 0

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 5
persistent = 0
attr = A, SA
damage = 80,4
getpower = 0
givepower = 20
animtype = heavy
hitflag = MAF
guardflag = HA
priority = 4, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -60
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-2.6
air.velocity = -3,-2
fall = 1
air.fall = 1
fall.recovertime = 30
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2


[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 5
persistent = 0
attr = A, SA
damage = 80,4
getpower = 0
givepower = 20
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -60
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-2.6
air.velocity = -3,-2
fall = 1
air.fall = 1
fall.recovertime = 30
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715

[state 0,0]
type = changestate
trigger1 = time >= 3
trigger1 = pos y >= 0
value = 1151


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

;---------------------------------------------------------------------------
;ハルヒちゃん「着地よ！」
[Statedef 1151]
type    = C
movetype= I
physics = C
ctrl = 0
anim = 7308
sprpriority = 4
poweradd = 0
velset =0,0

[state 0,0]
type = posset
trigger1 = time <= 1
y = 5

[state 0,0]
type = reversaldef
trigger1 = time > 2
trigger1 = enemy,movetype = A
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 3,5
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 0+(random%10)*2,-3+(random%10)*2
persistent = 10

[state 0,0]
type = changeanim
trigger1 = time = 5
value = 7309

[state 0,0]
type = turn
trigger1 = time >= 6
trigger1 = p2dist x < -40
persistent = 90

[state 0,0]
type = destroyself
trigger1 = parent,Numhelper(1160) = 1

[state 0,0]
type = changestate
trigger1 = time = 350
value = 1152


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

;---------------------------------------------------------------------------
;ハルヒちゃん「じゃあね！」それからハルヒちゃんって言うと神山満月ちゃんみたいだからやめて
[Statedef 1152]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7311
sprpriority = 4
poweradd = 0
velset =-6,-7.6


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[state 0,0]
type = playsnd
triggerall = prevstateno != 1150
trigger1 = time = 0
value = 400, 1

[state 0,0]
type = destroyself
trigger1 = backedgedist <= -10


;---------------------------------------------------------------------------
;「着替えるわよ、みくるちゃん！」「えぇ〜？？！」
[Statedef 1160]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7310
sprpriority = -4
poweradd = 0


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 420, 2
channel = 3

[state 0,0]
type = turn
trigger1 = time = 0

[state 0,0]
type = posset
trigger1 = 1
y = 0

[state 0,0]
type = velset
trigger1 = 1
x = -2

[state 0,0]
type = changestate
trigger1 = backedgedist <= -65
value = 1161



;---------------------------------------------------------------------------
;変身ミクル
[Statedef 1161]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7312
sprpriority = -4
poweradd = 0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 1000, 1
channel = 5

[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = random >= 500
value = 7317

[state 0,0]
type = assertspecial
trigger1 = time <= 120
flag = invisible

[state 0,0]
type = posadd
trigger1 = time = 119
x = floor(backedgedist)*-1

[state 0,0]
type = velset
trigger1 = time = [120,140]
x = 1

[state 0,0]
type = velset
trigger1 = time >= 140
x = 0

[state 0,0]
type = changestate
trigger1 = anim != 7317
trigger1 = time = 140
value = 1162
[state 0,0]
type = changestate
trigger1 = anim = 7317
trigger1 = time = 140
value = 1163

;---------------------------------------------------------------------------
;ミ、ミクルビーム
[Statedef 1162]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7313
sprpriority = 2
poweradd = 0
velset = 0,0


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800


[state 0,0]
type = playsnd
trigger1 = time = 20
value = 420, 3
channel = 3

[state 0,0]
type = bgpalfx
trigger1 = time = 106
add = 100,100,150
time = 5
[state 0,0]
type = bgpalfx
trigger1 = time = 111
add = 50,50,70
time = 4

[state 0,0]
type = screenbound
trigger1 = time <= 180
value = 1
movecamera = 0,1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = S, SP
damage = ifelse(var(39)=1,194,180)
getpower = 0
givepower = 20
animtype = heavy
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -60
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4,-4.6
air.velocity = -4,-3
fall = 1
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 15
envshake.ampl = 2

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = parent,numhelper(1130) = 1
value = 7314

[state 0,0]
type = changeanim
trigger1 = time = 180
value = 7312

[state 0,0]
type = turn
trigger1 = time = 180

[state 0,0]
type = velset
trigger1 = time >= 180
x = 2

[state 0,0]
type = destroyself
trigger1 time >= 180
trigger1 = frontedgedist <= -20


;---------------------------------------------------------------------------
;ミ、ミクルビーム Rバージョン
[Statedef 1163]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7318
sprpriority = 2
poweradd = 0
velset = 0,0


[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800

[state 0,0]
type = playsnd
trigger1 = time = 20
value = 420, 3
channel = 3

[state 0,0]
type = bgpalfx
trigger1 = time = 106
add = 130,130,130
time = 5
[state 0,0]
type = bgpalfx
trigger1 = time = 111
add = 60,60,60
time = 4

[state 0,0]
type = screenbound
trigger1 = time <= 180
value = 1
movecamera = 0,1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = S, SP
damage = ifelse(var(39)=1,194,180)
getpower = 0
givepower = 20
animtype = heavy
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -60
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4,-4.6
air.velocity = -4,-3
fall = 1
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 15
envshake.ampl = 2

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = parent,numhelper(1130) = 1
value = 7319

[state 0,0]
type = changeanim
trigger1 = time = 180
value = 7317

[state 0,0]
type = turn
trigger1 = time = 180

[state 0,0]
type = velset
trigger1 = time >= 180
x = 2

[state 0,0]
type = destroyself
trigger1 time >= 180
trigger1 = frontedgedist <= -20







;---------------------------------------------------------------------------
;鶴屋さん　ごめんねー私操られちゃってる（？）から〜
[Statedef 1170]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7341
sprpriority = 3
poweradd = 0


[state 0,0]
type = playsnd
trigger1 = time = 2
value = 440, 0


[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 2

[State 0,0]
type = PlayerPush
trigger1 = var(19) <= 300;Time <= 600
value = 1
ignorehitpause = 1

[state 0,0]
type = turn
trigger1 = time = 0

[state 0,0]
type = changeanim
triggerall = anim != 7341
trigger1 = time = 30
persistent = 90
value = 7341

[state 0,0]
type = changeanim
triggerall = anim = 7341
triggerall = time >= 30
trigger1 = p2dist x >= 20
trigger2 = p2dist x <= 90
persistent = 90
value = 7340

[state 0,0]
type = posadd
trigger1 = anim = 7340
x = 1

[state 0,0]
type = varadd
trigger1 = p2bodydist x = [-1,5]
v = 19
value = 1

[state 0,0]
type = destroyself
trigger1 = time >= 100
trigger1 = frontedgedist <= -60

[state 0,0]
type = destroyself
trigger1 = parent,stateno = 8800


;---------------------------------------------------------------------------
;ちゅるやさん
[Statedef 1175]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7342
sprpriority = 3
poweradd = 0
velset = 1,0

[state 0,0]
type = velset
triggerall = vel x >= 1
trigger1 = parent,command = "2222_a"
x = 0.1
persistent = 5


[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 2
attr = SCA, AA,AP
stateno = 1178
IgnoreHitPause = 1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = posadd
trigger1 = anim = 7340
x = 1

[state 0,0]
type = varadd
trigger1 = p2bodydist x = [-1,5]
v = 19
value = 1

[state 0,0]
type = destroyself
trigger1 = time >= 100
trigger1 = frontedgedist <= -60

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = S, HT
damage = 1, 1
getpower = 0
givepower = 0
animtype = heavy
guardflag = M
hitflag = MAFD
priority = 2, miss
pausetime = 0, 1
guard.pausetime = 2, 2
sparkno = -1
sparkxy = -8, -24
hitsound = S440, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
guard.kill = 0;0
p1stateno = 1176
p2stateno = 1177

[state 0,0]
type = changestate
trigger1 = moveguarded
value = 1178
ignorehitpause = 1

;[state 0,0]
;type = screenbound
;trigger1 = time >= 0
;value = 1


;---------------------------------------------------------------------------
;ちゅるやさん hit
[Statedef 1176]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7343
sprpriority = -1
velset = 0,0

[state 0,reverse]
type = parentvarset
trigger1 = time = 5
fvar(5) = 0.75
persistent = 0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = p2bodydist x < 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = 10,-30
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = 10,-30
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1994
stateno = 1994
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = 0

[state 0,0]
type = varadd
triggerall = enemy,stateno = 1177
triggerall = time >= 60
trigger1 = enemy,command = "a"
trigger2 = enemy,command = "b"
trigger3 = enemy,command = "c"
trigger4 = enemy,command = "x"
trigger5 = enemy,command = "y"
trigger6 = enemy,command = "z"
v = 18
value = 2

[State 0, 0]
type = Helper
trigger1 = time = 460
trigger2 = var(18) >= 15
trigger3 = enemy,stateno != 1177
trigger3 = time >= 50
helpertype = normal
name = "nise"
ID = 1178
stateno = 1178
pos = 0,-20
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = removeexplod
trigger1 = Numhelper(1178) >= 1
id = 7347

[state 0,0]
type = destroyself;changestate
trigger1 = Numhelper(1178) >= 1;time = 460
;trigger2 = var(18) = 15
;trigger3 = enemy,stateno != 1177
;trigger3 = time >= 50

[State 3000, effect]
type = Explod
persistent = 120
trigger1 = facing = -1
trigger1 = time >= 60
anim = 7348
postype = p1
pos = 50,-80
ownpal = 1
sprpriority = 5
ontop = 1
facing = ifelse(facing = 1,1,-1)
supermovetime = 100
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
id = 7347
[State 3000, effect]
type = Explod
persistent = 120
trigger1 = facing = -1
trigger1 = time >= 120
anim = 7347
postype = p1
pos = 0,-80
ownpal = 1
sprpriority = 5
ontop = 1
facing = ifelse(facing = 1,1,-1)
supermovetime = 100
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
id = 7347


[State 3000, effect]
type = Explod
persistent = 120
trigger1 = facing = 1
trigger1 = time >= 60
anim = 7348
postype = p1
pos = -40,-80
ownpal = 1
sprpriority = 5
ontop = 1
facing = ifelse(facing = 1,1,-1)
supermovetime = 100
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
id = 7347
[State 3000, effect]
type = Explod
persistent = 120
trigger1 = facing = 1
trigger1 = time >= 120
anim = 7347
postype = p1
pos = 20,-80
ownpal = 1
sprpriority = 5
ontop = 1
facing = ifelse(facing = 1,1,-1)
supermovetime = 100
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
id = 7347


;---------------------------------------------------------------------------
;ちゅるやさん バイバイ〜
[Statedef 1178]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7344
sprpriority = 2
velset = -7,-6

[state 0,0]
type = angleadd
trigger1 = 1
value = 4
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -60
trigger2 = backedgedist <= -60

;---------------------------------------------------------------------------
;ちゅるやさんの相手
[Statedef 1177]
type    = S
movetype= H
physics = S
ctrl = 0
anim = 5300
sprpriority = 0
velset = 0,0

[state 0,0]
type = palfx
;triggerall = time >= 25
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
time = 2
add = 60,60,60

[state 0,0]
type = posset
trigger1 = 1
y = 0

[state 0,0]
type = poweradd
trigger1 = time >= 0
value = -3

[state 0,0]
type = posadd
trigger1 = time = 0
x = -10

[state 0,0]
type = selfstate
trigger1 = time = 400
trigger2 = time >= 20
trigger2 = enemy,Numhelper(1175) = 0
value = 0
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;竜刃強化 ダッシュ
[Statedef 1003]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7025
sprpriority = 2
poweradd = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3000, effect]
type = Explod
trigger1 = time = 5
anim = 7047
postype = p1
pos = 10,-55
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 0.6,0.6
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 15
anim = 7047
postype = p1
pos = -20,-55
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 0.6,0.6
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 25
anim = 7047
postype = p1
pos = -50,-55
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 0.6,0.6
removeongethit = 1

[state 0,0]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul= 1,1,1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 3
channel = 0

[state 0,0]
type = velset
trigger1 = time = 4
x = 10
y = -3

[state 0,0]
type = velset
trigger1 = time <= 20
y = 1

[state 0,0]
type = veladd
trigger1 = time = [25,30]
x = -1

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[state 2, 0]
type = varadd
trigger1 = time = 0
v = 53
value = -1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,104,100), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-6.6
air.velocity = -3,-6.6
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;炎のやつ
[Statedef 1010]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7001
sprpriority = 2
poweradd = 0
juggle = 2

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101, 3
persistent = 0
ignorehitpause  = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.76
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = prevstateno != [234,235]
trigger1 = var(54) >= 1
value = 1012
[State 210, 3]
type = ChangeState
trigger1 = prevstateno = [234,235]
trigger1 = var(54) >= 1
value = 1013

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = C
time = 2

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 4
channel = 0

[state 0,0]
type = velset
trigger1 = prevstateno != [234,235]
trigger1 = time = 0
x = 1.4
y = -7
[state 0,0]
type = velset
trigger1 = prevstateno = [234,235]
trigger1 = time = 0
x = 1.4
y = 0.2

[state 0,0]
type = veladd
trigger1 = prevstateno = [234,235]
trigger1 = time = 12
y = 1

[state 0,0]
type = velset
trigger1 = time = 11
x = 2
y = -2

[state 0,0]
type = veladd
trigger1 = time >= 12
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "fire"
ID = 1011
stateno = 1011
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,90,89), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S230, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1.5,-7
air.velocity = -1.5,ifelse(var(41) = 2,-7+(enemy,gethitvar(hitcount)*0.5),-7)
fall = 1
air.fall = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5
palfx.add = 0,-100,-200
palfx.time = 30
palfx.invertall = 1
palfx.sinadd = 200,80,0,5

[State 5040, 2]
type = ChangeAnim
trigger1 = time >= 35
trigger1 = Anim != 5040
value = 5040

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;炎のやつ
[Statedef 1012]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7026
sprpriority = 2
poweradd = 0
juggle = 1

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101, 3
persistent = 0
ignorehitpause  = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,0]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul= 1,1,1

[state 2, 0]
type = varadd
trigger1 = time = 0
v = 54
value = -1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 6
value = C
time = 2

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 4
channel = 0

[state 0,0]
type = velset
trigger1 = prevstateno != [234,235]
trigger1 = time = 0
x = 1.4
y = -7
[state 0,0]
type = velset
trigger1 = prevstateno = [234,235]
trigger1 = time = 0
x = 1.4
y = 0.2

[state 0,0]
type = veladd
trigger1 = prevstateno = [234,235]
trigger1 = time = 12
y = 1

[state 0,0]
type = velset
trigger1 = time = 11
x = 2
y = -2

[state 0,0]
type = veladd
trigger1 = time >= 12
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "fire"
ID = 1011
stateno = 1011
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,99,95), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S230, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1.5,-7
air.velocity = -1.5,-7
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5
palfx.add = 0,-100,-200
palfx.time = 30
palfx.invertall = 1
palfx.sinadd = 200,80,0,5

[State 5040, 2]
type = ChangeAnim
trigger1 = time >= 35
trigger1 = Anim != 5040
value = 5040


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;炎のやつ 強化特殊
[Statedef 1013]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7026
sprpriority = 2
poweradd = 0
juggle = 0

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101, 3
persistent = 0
ignorehitpause  = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,0]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul= 1,1,1

[state 2, 0]
type = varadd
trigger1 = time = 0
v = 54
value = -1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 6
value = C
time = 2

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 4
channel = 0

[state 0,0]
type = velset
;trigger1 = prevstateno = [234,235]
trigger1 = time = 0
x = 1.4
y = 0.2

[state 0,0]
type = veladd
;trigger1 = prevstateno = [234,235]
trigger1 = time = 12
y = 1

[state 0,0]
type = velset
trigger1 = time = 11
x = 2
y = -2

[state 0,0]
type = veladd
trigger1 = time >= 12
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "fire"
ID = 1011
stateno = 1011
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
scale = 0.5,0.5
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,99,95), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S230, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1.5,-7
air.velocity = -1.5,-7
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5
palfx.add = 0,-100,-200
palfx.time = 30
palfx.invertall = 1
palfx.sinadd = 200,80,0,5

[State 5040, 2]
type = ChangeAnim
trigger1 = time >= 35
trigger1 = Anim != 5040
value = 5040

;---------------------------------------------------------------------------
;炎
[Statedef 1011]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7002
sprpriority = 5


[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, 3]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;昇竜
[Statedef 1020]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7003
sprpriority = 2
poweradd = 0
juggle = 1


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.78
persistent = 0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 3

[State 210, 3]
type = ChangeState
trigger1 = prevstateno != [234,235]
trigger1 = var(55) >= 1
value = 1022
[State 210, 3]
type = ChangeState
trigger1 = prevstateno = [234,235]
trigger1 = var(55) >= 1
value = 1023

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 9
channel = 0

[state 0,0]
type = velset
trigger1 = prevstateno != [234,235]
trigger1 = time = 0
x = 0
y = -3.5
[state 0,0]
type = velset
trigger1 = prevstateno = [234,235]
trigger1 = time = 0
x = 1
y = 1

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 6
attr = A, SA
damage = ifelse(var(39)=1,44,42), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 7, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,-7
air.velocity = 0,-8
fall = 1
air.fall = 1
fall.recovertime = 25
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;昇竜強化
[Statedef 1022]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7027
sprpriority = 2
poweradd = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,0]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul= 1,1,1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 10

[state 2, 0]
type = varadd
trigger1 = time = 0
v = 55
value = -1

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 9
channel = 0

[state 0,0]
type = velset
trigger1 = prevstateno != [234,235]
trigger1 = time = 0
x = 0
y = -3.5
[state 0,0]
type = velset
trigger1 = prevstateno = [234,235]
trigger1 = time = 0
x = 1
y = 1

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
scale = 0.5,0.5
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 5
attr = A, SA
damage = ifelse(var(39)=1,60,52), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 7, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,-7
air.velocity = 0,-8
fall = 1
air.fall = 1
fall.recovertime = 25
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;昇竜強化2
[Statedef 1023]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7027
sprpriority = 2
poweradd = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,0]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul= 1,1,1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 10

[state 2, 0]
type = varadd
trigger1 = time = 0
v = 55
value = -1

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 9
channel = 0

[state 0,0]
type = velset
trigger1 = time = 0
x = 1
y = 1

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 52


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
scale = 0.5,0.5
id = 201


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 5
attr = A, SA
damage = ifelse(var(39)=1,60,52), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 7, 9
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,-7
air.velocity = 0,-8
fall = 1
air.fall = 1
fall.recovertime = 25
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;爆蹴
[Statedef 1050]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7005
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 230, 4

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 15
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 15,0

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7050
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0]
type = velset
trigger1 = time = 1
x = 10
y = 0

[state 0,0]
type = changestate
trigger1 = time = 25
value = 101

[state 0,0];足払い
type = changestate
triggerall = time = [2,24]
trigger1 = command = "x"
value = 1039

[state 0,0];避け
type = changestate
triggerall = time = [2,24]
trigger1 = command = "a"
value = 1053

[state 0,0];百歩
type = changestate
triggerall = time = [2,24]
trigger1 = command = "y"
value = 1055

[state 0,0];千里
type = changestate
triggerall = time = [2,24]
trigger1 = command = "z"
value = 1056

;---------------------------------------------------------------------------
;爆蹴 足払い
[Statedef 1039]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 7006
sprpriority = 2
poweradd = 0


[state 2, hoshi]
type = null;varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.95
persistent = 0

[state 2, kihon]
type = varadd
trigger1 = time = 0
v = 52
value = 1

[state 0,0]
type = velset
trigger1 = time = 0
x = 1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 12
ctrl = 1


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = C, SA
damage = ifelse(var(39)=1,90,82), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = L
hitflag = M
priority = 5, hit
pausetime = 7, 10
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1,0
air.velocity = -4,-3
fall = 1
air.fall = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5
p2stateno = 1052

[State 200, HitDef1]
type = null;HitDef
triggerall = enemy,statetype = A
trigger1 = time >= 2
persistent = 0
attr = C, SA
damage = ifelse(var(39)=1,90,82), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = A
hitflag = AF
priority = 5, hit
pausetime = 7, 10
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1,0
air.velocity = -4,-3
fall = 1
air.fall = 1
fall.recovertime = 20
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5

;---------------------------------------------------------------------------
;爆蹴 足払いでよろけ
[Statedef 1052]
type    = S
movetype= H
physics = S
ctrl = 0
anim = 5300
sprpriority = 0
poweradd = 0
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = selfstate
trigger1 = life = 0
value = 5050
ctrl = 0

[state 0,0]
type = selfstate
trigger1 = time = 36
value = 0
ctrl = 1

[state 0,0]
type = changeanim
triggerall = time = 0
trigger1 = name = "Jam-D"
trigger1 = authorname ="Drowin"
value = 5003
[state 0,0]
type = velset
trigger1 = name = "Jam-D"
trigger1 = authorname ="Drowin"
x = -0.6

[state 0,0]
type = changeanim
triggerall = time = 0
trigger1 = name = "Millia_Rage"
trigger1 = authorname ="nana"
value = 5003
[state 0,0]
type = changeanim
triggerall = time = 0
trigger1 = name = "SLAYER"
trigger1 = authorname ="Lupanda76"
value = 5003
[state 0,0]
type = velset
trigger1 = anim = 5003
x = -0.6

[state 0,0]
type = changeanim
triggerall = time = 0
triggerall = authorname ="muteki"
trigger1 = name = "potemkin"
trigger2 = name = "faust"
trigger3 = name = "eddie"
trigger4 = name = "gg_venom"
trigger5 = name = "johnny"
value = 5003

[state 0,0]
type = changeanim
triggerall = time = 0
triggerall = authorname ="MIMI"
trigger1 = name = "ROBO-Ky"
value = 5003

[state 0,0]
type = changeanim
triggerall = time = 0
triggerall = authorname ="R-R"
trigger1 = name = "bridget"
value = 5003

[state 0,0]
type = changeanim
triggerall = time = 0
triggerall = authorname ="MEKA"
trigger1 = name = "May"
trigger2 = name = "Anji Mito"
trigger3 = name = "Chipp Zanuff" 
value = 5003


;---------------------------------------------------------------------------
;爆蹴 避け
[Statedef 1053]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7007
sprpriority = 2
poweradd = 0
velset = 4.5,0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul= 1,1,1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;爆蹴 百歩沁鐘
[Statedef 1055]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7008
sprpriority = 2
poweradd = 0
juggle = 5


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.88
persistent = 0

[state 0,0]
type = velset
trigger1 = time = 0
x = 1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 0,0]
type =null; changeanim
trigger1 = movecontact
value = 7009
persistent = 0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,100,92), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 10, 20
guard.pausetime = 8, 12
sparkno = 2
sparkxy = -8, -74
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8,-6
air.velocity = -8,-ifelse(var(41) = 2,-5+(enemy,gethitvar(hitcount)*0.5),-5)
fall = 1
air.fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5
p2stateno = 614

[State 210, 2]
type = PlaySnd
;trigger1 = var(19) = 0
trigger1 = time = 10
value = 200, 5
channel = 0

;---------------------------------------------------------------------------
;爆蹴 千里沁鐘
[Statedef 1056]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7010
sprpriority = 2
poweradd = 0
juggle = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 230, 4

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7050
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5


[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.9
persistent = 0

[State 210, 2]
type = PlaySnd
;trigger1 = var(19) = 0
trigger1 = time = 10
value = 200, 6
channel = 0

[state 0,0]
type = posadd
trigger1 = p2dist x < 0
x = 1

[state 0,0]
type = playerpush
trigger1 = p2dist x >=0
trigger1 = time <= 11
value = 0

[state 0,0]
type = null;changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 0,0]
type = velset
trigger1 = time <= 12
x = 8
[state 0,0]
type = velset
trigger1 = time = 13
x = 3.5

[state 0,0];遠い
type = null;changestate
trigger1 = animtime = 0
trigger1 = p2bodydist x >= 50
value = 1057
ctrl = 0
[state 0,0];近い
type = changestate
trigger1 = animtime = 0
;trigger1 = p2bodydist x < 50
value = 1058
ctrl = 0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,90,82), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 10, 20
guard.pausetime = 8, 12
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8,-6
air.velocity = -8,-5
fall = 1
air.fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5


;---------------------------------------------------------------------------
;爆蹴 千里沁鐘2  遠い  未使用
[Statedef 1057]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7011
sprpriority = 2
poweradd = 0


[state 0,0]
type = velset
trigger1 = time <= 4
x = 6

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,90,82), 4
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 10, 20
guard.pausetime = 8, 12
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8,-6
air.velocity = -8,-5
fall = 1
air.fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5


;---------------------------------------------------------------------------
;爆蹴 千里沁鐘2  近い
[Statedef 1058]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7011
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 230, 4

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7050
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = p2dist x < 0
value = 7012


[state 0,0]
type = playerpush
trigger1 = 1
value = 1

[state 0,0]
type = turn
persistent = 0
trigger1 = anim = 7012
;trigger1 = animelem = 2
;trigger1 = frontedgedist > 0

[state 0,0]
type = velset
trigger1 = time = [1,5]
x = 9

[state 0,0]
type = veladd
trigger1 = anim = 7011
trigger1 = time = 1
x = 3

[state 0,0]
type = velset
trigger1 = time = 0
x = 12


[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,105,100), 4
getpower = ifelse(var(50)=0,70,0),32
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 10, 20
guard.pausetime = 10, 17
sparkno = 2
sparkxy = -8, -74
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8,-6
air.velocity = -8,-5
fall = 1
air.fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -7.5
p2stateno = 614

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;朝凪１　竜
[Statedef 1060]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7020
sprpriority = 2
poweradd = 0

[state 0,0]
type = varadd
trigger1 = var(53) <= 2
trigger1 = time = 40
v = 53
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 40
value = 200,28
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 230,1

[State 0, effect]
type = Explod
persistent = 0
trigger1 = time = 8
anim = 7021
postype = p1
pos = -5,-70
ownpal = 1
sprpriority = 5
bindtime = -1
removeongethit = 1
id = 50

[state 0,0]
type = ModifyExplod
trigger1 = time = [8,38]
id = 50
scale = time*0.025,time*0.025

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;朝凪２　逆鱗
[Statedef 1061]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7020
sprpriority = 2
poweradd = 0

[state 0,0]
type = varadd
;trigger1 = var(53) <= 2
trigger1 = time = 40
v = 54
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 230,1

[State 0, 0]
type = PlaySnd
trigger1 = time = 40
value = 200,28
channel = 0

[State 0, effect]
type = Explod
persistent = 0
trigger1 = time = 8
anim = 7021
postype = p1
pos = -5,-70
ownpal = 1
sprpriority = 5
bindtime = -1
removeongethit = 1
id = 50

[state 0,0]
type = ModifyExplod
trigger1 = time = [8,38]
id = 50
scale = time*0.025,time*0.025

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;朝凪３　昇竜
[Statedef 1062]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7020
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 230,1

[state 0,0]
type = varadd
;trigger1 = var(53) <= 2
trigger1 = time = 40
v = 55
value = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 40
value = 200,28
channel = 0

[State 0, effect]
type = Explod
persistent = 0
trigger1 = time = 8
anim = 7021
postype = p1
pos = -5,-70
ownpal = 1
sprpriority = 5
bindtime = -1
removeongethit = 1
id = 50

[state 0,0]
type = ModifyExplod
trigger1 = time = [8,38]
id = 50
scale = time*0.025,time*0.025

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1





;------------------------------------------------
;ブロッキング ホチ
[Statedef 1070]
type    = S
movetype= I
physics = S
poweradd= 100
ctrl = 0
anim = 7379
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 230, 5

channel = 0
[State 0, 0]
type = null;PlaySnd
trigger1 = random <= 120
trigger1 = time = 0
value = 210, 1
channel = 0

[state -2]
type = varset
trigger1 = time = 0
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7378;7230;7038
postype = p1
pos = 28,-60
random = 8,10
ownpal = 1
sprpriority = 5
pausemovetime = 99

[state 0,0]
type = posset
trigger1 = time = 1
y = 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 10,50,80
time = 1


[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 10
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 4
movetime = 4

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 2

[state 0,0]
type = ctrlset
trigger1 = time = 10
value = 1

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;------------------------------------------------
;ブロッキング ホチ
[Statedef 1071]
type    = C
movetype= I
physics = C
poweradd= 100
ctrl = 0
anim = 141
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 230, 5
channel = 0

[State 0, 0]
type = null;PlaySnd
trigger1 = random <= 120
trigger1 = time = 0
value = 210, 1
channel = 0

[state -2]
type = varset
trigger1 = time = 0
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7378;7038
postype = p1
pos = 28,ifelse(enemy,statetype = C,-22,-45)
random = 4,8
ownpal = 1
sprpriority = 5
pausemovetime = 99

[state 0,0]
type = posset
trigger1 = time = 1
y = 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 10,50,80
time = 2

[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 10
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 4
movetime = 4

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 2

[state 0,0]
type = ctrlset
trigger1 = time = 10
value = 1

[State 0, 0]
type = ChangeState
trigger1 = time >= 10
value = 11
ctrl = 1


;------------------------------------------------
;ブロッキング ホチ
[Statedef 1072]
type    = A
movetype= I
physics = A
poweradd= 100
ctrl = 0
anim = 142
sprpriority = 2
;velset = 0,0
[state 0,0]
type = velset
trigger1 = time <= 11
y = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 230, 5

channel = 0
[State 0, 0]
type = null;PlaySnd
trigger1 = random <= 120
trigger1 = time = 0
value = 210, 1
channel = 0

[state -2]
type = varset
trigger1 = time = 0
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7378;7230;7038
postype = p1
pos = 28,-55
random = 2,6
ownpal = 1
sprpriority = 5
pausemovetime = 99

;[state 0,0]
;type = posset
;trigger1 = time = 1
;y = 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 10,50,80
time = 1

[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 10
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 4
movetime = 4

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 2

[state 0,0]
type = ctrlset
trigger1 = time = 10
value = 1

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 5040
ctrl = 1

;------------------------------------------------
;赤ブロッキング ホチ
[Statedef 1080]
type    = S
movetype= I
physics = S
poweradd= 100
ctrl = 0
anim = 7379
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 230, 5

channel = 0
[State 0, 0]
type = null;PlaySnd
trigger1 = random <= 120
trigger1 = time = 0
value = 210, 1
channel = 0

[state -2]
type = varset
trigger1 = time = 0
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7378;7230;7038
postype = p1
pos = 28,-60
random = 8,10
ownpal = 0
sprpriority = 5
pausemovetime = 99

[state 0,0]
type = posset
trigger1 = time = 1
y = 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 160,50,10
time = 1


[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 10
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 5
movetime = 5

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 2

[state 0,0]
type = ctrlset
trigger1 = time = 10
value = 1

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;------------------------------------------------
;redブロッキング
[Statedef 1081]
type    = C
movetype= I
physics = C
poweradd= 100
ctrl = 0
anim = 141
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 230, 5
channel = 0

[State 0, 0]
type = null;PlaySnd
trigger1 = random <= 120
trigger1 = time = 0
value = 210, 1
channel = 0

[state -2]
type = varset
trigger1 = time = 0
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7378;7038
postype = p1
pos = 28,ifelse(enemy,statetype = C,-22,-45)
random = 4,8
ownpal = 0
sprpriority = 5
pausemovetime = 99

[state 0,0]
type = posset
trigger1 = time = 1
y = 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 160,50,10
time = 2

[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 10
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 6
movetime = 6

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 2

[state 0,0]
type = ctrlset
trigger1 = time = 10
value = 1

[State 0, 0]
type = ChangeState
trigger1 = time >= 10
value = 11
ctrl = 1


;------------------------------------------------
;akaブロッキング
[Statedef 1082]
type    = A
movetype= I
physics = A
poweradd= 100
ctrl = 0
anim = 142
sprpriority = 2
;velset = 0,0
[state 0,0]
type = velset
trigger1 = time <= 11
y = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 230, 5

channel = 0
[State 0, 0]
type = null;PlaySnd
trigger1 = random <= 120
trigger1 = time = 0
value = 210, 1
channel = 0

[state -2]
type = varset
trigger1 = time = 0
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7378;7230;7038
postype = p1
pos = 28,-55
random = 2,6
ownpal = 0
sprpriority = 5
pausemovetime = 99

;[state 0,0]
;type = posset
;trigger1 = time = 1
;y = 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 160,50,10
time = 1

[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 10
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 6
movetime = 6

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 2

[state 0,0]
type = ctrlset
trigger1 = time = 10
value = 1

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 5040
ctrl = 1



;---------------------------------------------------------------------------
;横カットB
[Statedef 1002]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 20
value = 200, 9
channel = 0

[State 0, 0]
type = Helper
trigger1 = time = 23
helpertype = normal
name = "cut2"
ID = 1001
stateno = 1003
postype = p1
pos = 2,8
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カット2
[Statedef 1003]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7001
sprpriority = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 300, 1

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 3
attr = A, SA
damage = ifelse(var(39)=1,55,52), 4
getpower = ifelse(parent,var(50)=0,60,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 4, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2.6,0
air.velocity = -3,-2
air.fall = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 15
guard.velocity = -8

[State 200, 3]
type = destroyself
trigger1 = animtime = 0




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;縦カットA
[Statedef 1010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7002
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 9
channel = 0

[State 0, 0]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "cut2"
ID = 1001
stateno = 1011
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;縦カット１
[Statedef 1011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7003
sprpriority = 5



[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 300, 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,110,105), 4
getpower = ifelse(parent,var(50)=0,130,0),88
givepower = 98,49
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 4, 6
guard.pausetime = 2, 4
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-6
air.velocity = -2,-6
ground.velocity = -8,0
fall = 1
air.fall = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 15
guard.velocity = -7

[State 200, 3]
type = destroyself
trigger1 = animtime = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;縦カットB
[Statedef 1012]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7005
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 9
channel = 0

[State 0, 0]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "cut2"
ID = 1001
stateno = 1013
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 200, AI]
type = varset
trigger1 = time = 0
trigger1 = var(59) = 1
v = 19
value = 0
[State 200, AI]
type = varset
triggerall = Numhelper(1001) = 1
trigger1 = helper(1001),movehit
trigger1 = var(59) = 1
v = 19
value = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 38
trigger1 = var(59) = 1
trigger1 = var(19) = 1
value = 421

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;縦カット2
[Statedef 1013]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7003
sprpriority = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 300, 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 4
attr = A, SA
damage = ifelse(var(39)=1,65,60), 3
getpower = ifelse(parent,var(50)=0,80,0),88
givepower = 98,49
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 8, 15
guard.pausetime = 3, 5
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 7
ground.hittime  = 40
ground.velocity = -2,-9.6
air.velocity = 0,-9
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7

[State 200, 3]
type = destroyself
trigger1 = animtime = 0





;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;アルク
[Statedef 1020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2


[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "arc"
ID = 1021
stateno = 1021
postype = p1
pos = 20,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7016
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;アルク本体
[Statedef 1021]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7017
sprpriority = 3

[State 0, 0]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "tume"
ID = 1022
stateno = 1022
pos = 5,0
keyctrl = 0
ownpal = 1

[state 0,0]
type = velset
trigger1 = time = 5
x = 3.2
y = -6

[state 0,0]
type = velset
trigger1 = time = 25
x = 2

[state 0,0]
type = veladd
trigger1 = pos y < 0
trigger1 = time >= 25
y = 0.45

[state 0,0]
type = velset
trigger1 = pos y >= 0
trigger1 = time >= 15
x = 0
y = 0

[state 0,0]
type = changeanim
trigger1 = pos y >= 0
trigger1 = time >= 15
value = 7018

[state 0,0]
type = palfx
trigger1 = time >= 70
mul = 255-(time*3),255-(time*3),255-(time*3)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 85



;---------------------------------------------------------------------------
;あるくｎ
[Statedef 1022]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7019
sprpriority = 5

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = -10,0

[state 0,0]
type = null;palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 5
attr = A, SA
damage = ifelse(var(39)=1,35,32), 5
getpower = ifelse(root,var(50)=0,30,0),88
givepower = 88,49
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 4, 5
guard.pausetime = 3, 3
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2,-9
air.velocity = -1,-7
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 2
fall.recovertime = 26
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[State 200, 3]
type = destroyself
trigger1 = animtime = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;さっちん召還
[Statedef 1023]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "sacchin"
ID = 1021
stateno = 1024
postype = p1
pos = 50,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 45,0
anim = 7020
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;sattin本体
[Statedef 1024]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7021
sprpriority = 3

[State 0, 0]
type = Helper
trigger1 = time = 32;24
helpertype = normal
name = "dokaan"
ID = 1025
stateno = 1025
pos = 5,0
keyctrl = 0
ownpal = 1

[state 0,0]
type = velset
trigger1 = time = [36,48];[28,40]
x = 4.5

[state 0,0]
type = palfx
trigger1 = time >= 70
mul = 255-(time*3),255-(time*3),255-(time*3)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 85


;---------------------------------------------------------------------------
;さっちんちｎ
[Statedef 1025]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7022
sprpriority = 5

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = bindtoparent
trigger1 = time <= 8
ignorehitpause = 1
pos = 40,0

[state 0,0]
type = null;palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 5
value = 300,8

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,99,92), 6
getpower = ifelse(root,var(50)=0,100,0),98
givepower = 98,49
animtype = heavy
guardflag = M
hitflag = MAFD
envshake.time = 10
envshake.ampl = 2
priority = 5, hit
pausetime = 4, 5
guard.pausetime = 3, 3
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0,-7.8
air.velocity = 0,-7
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[State 200, 3]
type = destroyself
trigger1 = animtime = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;しきのいもうと召還
[Statedef 1026]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2
poweradd = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 28
helpertype = normal
name = "akiha"
ID = 1021
stateno = 1027
postype = p1
pos = 50,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 12
postype = p1
pos = 50,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;秋葉本人
[Statedef 1027]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7024
sprpriority = 3

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = 1
value = SCA
time = 2

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,145,138), 2
getpower = ifelse(root,var(50)=0,100,0),98
givepower = 88,49
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, hit
pausetime = 4, 5
guard.pausetime = 3, 3
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -8,-2
air.velocity = -8,-2
p2stateno = 612
envshake.time = 10
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 50
ground.cornerpush.veloff = -0.5
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[state 0,0]
type = velset
trigger1 = time = [8,71]
x = 1.4
[state 0,0]
type = velset
trigger1 = time = 73
x = 0

[state 0,0]
type = palfx
trigger1 = time >= 105
mul = 255-floor(time*1.5),255-floor(time*1.5),255-floor(time*1.5)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 145

[state 0,0]
type = playerpush
trigger1 = 1
value = 1



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;シエル
[Statedef 1030]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "ciel"
ID = 1021
stateno = 1031
postype = p1
pos = 20,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;シエル本体
[Statedef 1031]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7067
sprpriority = 3

[State 0, 0]
type = Helper
trigger1 = time = 83
trigger2 = time = 112
helpertype = normal
name = "kokken"
ID = 1032
stateno = 1032
pos = 15,-10
keyctrl = 0
ownpal = 1

[state 0,0]
type = playsnd
trigger1 = time = 83
trigger2 = time = 112
value = 300,5

[state 0,0]
type = velset
trigger1 = time = 4
x = 1
y = -8

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.2

[state 0,0]
type = velset
trigger1 = time = 72
x = 0
y = 0

[state 0,0]
type = changeanim
trigger1 = time = 72
value = 7068


[state 0,0]
type = velset
trigger1 = time = 83
x = -1
y = -2

[state 0,0]
type = velset
trigger1 = time = 112
x = -2
y = -4

[state 0,0]
type = palfx
trigger1 = time >= 115
mul = 255-(time*2),255-(time*2),255-(time*2)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 125



;---------------------------------------------------------------------------
;黒鍵
[Statedef 1032]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7069
sprpriority = 5

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 0
x = 9
y = 9

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 5
attr = A, SA
damage = ifelse(var(39)=1,35,32), 5
getpower = ifelse(root,var(50)=0,30,0),20
givepower = 20,5
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 4, hit
pausetime = 4, 10
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -18
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2,0
air.velocity = -2,-7
air.fall = 1
envshake.time = 10
envshake.ampl = 2
fall.recovertime = 22
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[state 0,0]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0
value = 1033

;---------------------------------------------------------------------------
;黒鍵2
[Statedef 1033]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7070
sprpriority = 5
velset = 6,-2

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 300,6

[state 0,0]
type = palfx
trigger1 = time >= 0
mul = 255-(time*6),255-(time*6),255-(time*6)
time = 1

[State 200, 3]
type = destroyself
trigger1 = time = 40




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;琥珀さｎ
[Statedef 1035]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "kohaku"
ID = 1021
stateno = 1036
postype = p1
pos = 20,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;琥珀本体
[Statedef 1036]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7071
sprpriority = 3

[State 0, 0]
type = Helper
trigger1 = time = 36
helpertype = normal
name = "konnan"
ID = 1037
stateno = 1037
pos = 22,-20
keyctrl = 0
ownpal = 1

[state 0,0]
type = palfx
trigger1 = time >= 75
mul = 255-(time*2),255-(time*2),255-(time*2)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 90


;---------------------------------------------------------------------------
;こんなん
[Statedef 1037]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7072
sprpriority = 5

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 0
x = 2
y = -1.4

[state 0,0]
type = veladd
trigger1 = time <= 16
y = 0.45

[state 0,0]
type = posset
trigger1 = time >= 17
y = 0
[state 0,0]
type = velset
trigger1 = time >= 17
x = 0
y = 0

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 10
attr = A, SA
damage = ifelse(var(39)=1,15,12), 1
getpower = ifelse(root,var(50)=0,12,0),10
givepower = 10,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, hit
pausetime = 3, 1
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -33
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -5,0
air.velocity = -3,-4
air.fall = 1
envshake.time = 10
envshake.ampl = 2
fall.recovertime = 10
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 7
persistent = 10
attr = A, SA
damage = ifelse(var(39)=1,15,12), 1
getpower = ifelse(root,var(50)=0,12,0),6
givepower = 10,4
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, hit
pausetime = 3, 1
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -33
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 5,0
air.velocity = -3,-4
air.fall = 1
envshake.time = 10
envshake.ampl = 2
fall.recovertime = 10
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[state 0,0]
type = destroyself
trigger1 = animtime = 0




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;みやこかも
[Statedef 1038]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7004
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "miyako"
ID = 1021
stateno = 1039
postype = p1
pos = 20,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;都古本体
[Statedef 1039]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7073
sprpriority = 3

[state 0,0]
type = playsnd
trigger1 = animelem = 5
value = 300,7

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,22,20), 1
getpower = ifelse(root,var(50)=0,12,0),10
givepower = 10,4
animtype = heavy
guardflag = L
hitflag = MFD
priority = 4, hit
pausetime = 3, 8
guard.pausetime = 3, 4
sparkno = -1
sparkxy = -8, -33
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,-8
down.velocity = 0,-1
fall = 1
fall.recovertime = 38
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0

[state 0,0]
type = envshake
trigger1 = animelem = 5
time = 15

[state 0,0]
type = palfx
trigger1 = time >= 45
mul = 255-(time*4),255-(time*4),255-(time*4)
time = 1

[state 0,0]
type = destroyself
trigger1 = time = 60


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;高速落下
[Statedef 1080]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7085
sprpriority = 2
velset = 0,-0.1

[State 0, 0]
type = null;PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0


[State 0, 0]
type = Explod
trigger1 = time = 11
postype = p1
pos = 0,0
anim = 7087
ownpal = 0
keyctrl = 0
sprpriority = -1

[State 210, 3]
type = ChangeState
trigger1 = time = 12
value = 1081
ctrl = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;高速落下着地2
[Statedef 1083]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 7090
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[State 0, 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "cut2"
ID = 1001
stateno = 1084
postype = p1
pos = -10,-130
keyctrl = 0
ownpal = 1

;---------------------------------------------------------------------------
;縦逆カット
[Statedef 1084]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7088
sprpriority = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 300, 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,110,105), 4
getpower = ifelse(parent,var(50)=0,130,0),88
givepower = 98,49
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, hit
pausetime = 4, 6
guard.pausetime = 4, 3
sparkno = 2
sparkxy = -8, 44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,6
ground.velocity = -2,0
fall = 1
air.fall = 1
fall.recovertime = 25
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 15
guard.velocity = -7
p2stateno = 621

[State 200, 3]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;高速落ex
[Statedef 1085]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7089
sprpriority = 2
velset = 0,-0.1

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 200,32
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7047
postype = p1
pos = -20,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7046
postype = p1
pos = -20,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1



[State 0, 0]
type = null;PlaySnd
trigger1 = time = 5
value = 200, 8
channel = 0

[State 0, 0]
type = Explod
trigger1 = time = 18
postype = p1
pos = 0,0
anim = 7087
ownpal = 1
keyctrl = 0
sprpriority = -1
;removetime = 3

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 1086
ctrl = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;高速落下着地2
[Statedef 1086]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 7090
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[State 0, 0]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "cut2"
ID = 1001
stateno = 1087
postype = p1
pos = 0,-130
keyctrl = 0
ownpal = 1


;---------------------------------------------------------------------------
;縦逆カットex
[Statedef 1087]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7088
sprpriority = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 300, 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
ignorehitpause = 1
mul = 200,200,200

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 2
attr = A, HA
damage = ifelse(var(39)=1,63,60), 3
getpower = 0
givepower = 20,10
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 5, hit
pausetime = 7, 7
guard.pausetime = 5, 5
sparkno = 2
sparkxy = -8, 44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-7
air.velocity = -2,-6
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
guard.slidetime = 6
guard.velocity = -5

[State 200, 3]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
; HighJump Start
[Statedef 1040]
type    = S
physics = S
anim = 7334
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = time = 1
sysvar(1) = 1

[state 0,0]
type = playsnd
trigger1 = time = 6
value = 0,2

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = const(velocity.jump.fwd.x)+2.4
y = const(velocity.jump.y)-0.8

[State 100, 2]
type = Afterimage
trigger1 = Time = 1
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; HighJump Start
[Statedef 1041]
type    = S
physics = S
anim = 47
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[state 0,0]
type = playsnd
trigger1 = time = 6
value = 0,2

[State 40, 4]
type = VelSet
trigger1 = Time = 6
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)-2

[State 100, 2]
type = Afterimage
trigger1 = Time = 1
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 40, 6]
type = ChangeState
trigger1 = Time = 6
value = 50
ctrl = 1


;------------------------------------------------
;サーキットスパーク
[Statedef 1950]
type    = S
movetype= A
physics = S
poweradd= -3000
ctrl = 0
anim = 7272;51
sprpriority = 2
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 2

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 200,14
channel = 0

[state 0,0]
type = envshake
trigger1 = time = 1
time = 20

[State 3000, effect]
type = null;Explod
trigger1 = time = 1
ignorehitpause = 1
persistent = 0
anim = 7089
postype = p1
pos = 0,-240
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime = 99

[state 0,0]
type = pause
trigger1 = gametime % 3 = 0
trigger1 = time <= 10
time = 2

[state 0,0]
type = pause
trigger1 = gametime % 2 = 0
trigger1 = time > 10
time = 1

[state 0,0]
type = bgpalfx
trigger1 = time = 0
time = 5
mul = 180,180,180

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 50
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7058
postype = p1
pos = 0,5
ownpal = 1
sprpriority = 4
scale = 1.2,1.2
bindtime = -1

[State 240, 1]
type = HitDef
trigger1 = time >= 0
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 15, 15
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 1,1
guard.pausetime = 1,1
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0;ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101, 3
guardsound = -1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 28
value = 0
ctrl = 1



;------------------------------------------------
;ブラッドヒート覚醒
[Statedef 1951]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7275
sprpriority = 2
velset = 0,0

[State 5900, 2];ブーストゲージ
type = VarSet
trigger1 = time = 1
v = 48
value = 100

[state 0,0]
type = playsnd
trigger1 = time = 12
value = 200,23
channel = 0

[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,0
stateno = 1955
ownpal = 1
keyctrl = 0
id = 1955

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 27

[state 0,0]
type = envshake
trigger1 = time = 15
time = 10

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 4

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 230,230,230
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 180,180,180
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 50,50,50

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 240, 1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 1, 1
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 0,10
guard.pausetime = 1,1
guard.kill = ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101,3
guardsound = S10, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 30
value = 1953

[State 1000, timer]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "timer"
postype = p1
pos = 0,0
stateno = 1952
ownpal = 1
keyctrl = 0
id = 1952

;------------------------------------------------
;ブラッドヒート覚醒後、しばらくの間はゲージ減少しない
[Statedef 1952]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = -5
velset = 0,0

[state 0,0]
type = destroyself
trigger1 = time = 80


;---------------------------------------------------
;覚醒 完

[Statedef 1953]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 7273
sprpriority = 2

[State -1, 0]
type = ChangeState
trigger1 = time = 10;time15
value = 0
ctrl = 1

;------------------------------------------------
;ヒート 強制開放
[Statedef 1954]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7275
sprpriority = 2
velset = 0,0

[State 5900, 2];ブーストゲージ
type = VarSet
trigger1 = time = 1
v = 48
value = 100

[state 0,0]
type = playsnd
trigger1 = time = 12
value = 200,23
channel = 0

[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,0
stateno = 1955
ownpal = 1
keyctrl = 0
id = 1955

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 27

[state 0,0]
type = envshake
trigger1 = time = 15
time = 10

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 3

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 230,230,230
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 180,180,180
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 50,50,50

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 240, 1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 1, 1
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 0,10
guard.pausetime = 1,1
guard.kill = ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101,3
guardsound = S101, 3
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 30
value = 1953


;------------------------------------------------
;ヒート エフェクトヘルパー
[Statedef 1955]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = Playsnd
trigger1 = time = 1
value = 50,6

[State 3000, kemukemu]
type = Explod
trigger1 = time = [1,20]
anim = 7051
removetime = 1
postype = p1
pos = 5,-5
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.2+(time*0.05),0.2+(time*0.04)

[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7052
removetime = 1
postype = p1
pos = 0,-90
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.4+(time*0.05),0.4+(time*0.05)
[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7053
removetime = 1
postype = p1
pos = 0,-90
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.4+(time*0.05),0.4+(time*0.05)
[State 3000, kirari]
type = Explod
trigger1 = time = 1
anim = 7054
postype = p1
pos = -10,-100
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200

[state 0,0]
type = palfx
trigger1 = time >= 1
time = 1
mul = 240-(time*10),240-(time*10),240-(time*10)

[state 0,0]
type = destroyself
trigger1 = time = 20











;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットインにょろ
[Statedef 1994]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
[state 0,0]
type = velset
trigger1 = time = 45
x = 1

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7345
pos = 0,-20
ownpal = 1
sprpriority = 5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.75,0.75
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7346
pos = 0,-20
ownpal = 0
sprpriority = 5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.4+(time*0.01),0.4+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン朝倉
[Statedef 1995]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
[state 0,0]
type = velset
trigger1 = time = 45
x = 1

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7336
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.75,0.75
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7337
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.4+(time*0.01),0.4+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;北斗演出　縦
[Statedef 1996]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,360

[state 0,0]
type = bgpalfx
trigger1 = 1
time = 2
add = 0,0,150
mul = 100,100,100

[State 3000, Cut in]
type = Explod
trigger1 = numexplod(1997) <= 20
;trigger1 = time <= 55
persistent = 5
anim = 7325
postype = back
pos = var(19),240
vel = 0,-9
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.5,0.5
removetime = 65
id = 1997

[state 0,0]
type = destroyself
;triggerall = time >= 58
trigger1 = parent,stateno != [1090,1095]
trigger1 = parent,stateno != 1117
trigger1 = parent,stateno != 1095
trigger1 = parent,Numhelper(1118) = 0
trigger2 = parent,movetype = H



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;北斗演出　横
[Statedef 1997]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,240

[state 0,0]
type = bgpalfx
trigger1 = 1
time = 2
add = 0,0,150
mul = 100,100,100

[State 3000, Cut in]
type = Explod
trigger1 = numexplod(1997) <= 20
;trigger1 = time <= 55
persistent = 5
anim = 7324
postype = back
pos = 0,var(19)
vel = 9,0
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.5,0.5
removetime = 60
id = 1997

[state 0,0]
type = destroyself
;triggerall = time >= 58
trigger1 = parent,stateno != 2010
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン
[Statedef 1998]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
[state 0,0]
type = velset
trigger1 = time = 45
x = 1

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7083
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
;scale = 0.5,0.5
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7084
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.7+(time*0.01),0.7+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン
[Statedef 1999]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
[state 0,0]
type = velset
trigger1 = time = 45
x = 1

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7322
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 1.5,1.5
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7323
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 1.2+(time*0.01),1.2+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------

;突進及び致死連続打撃（仮---------------------------------------
[Statedef 2000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 7375
sprpriority = 2

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = var(44) % 10000 < 1000
;trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = varadd
trigger1 = var(44) % 10000 < 1000
trigger1 = movehit
persistent = 0
v = 44
value = 1000
[state 2, limitstar]
type = varadd
triggerall = var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1


[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = 5,-40
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = 5,-40
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 72

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)


[state 0,0]
type = velset
trigger1 = time = [62,70]
trigger2 = time = [82,91]
trigger3 = time = [100,110]
trigger4 = time = [118,127]
trigger5 = time = [138,145]
x = 7;6.5

[State 210, 2]
type = PlaySnd
trigger1 = time = 66
trigger2 = time = 89
trigger3 = time = 106
trigger4 = time = 128
trigger5 = time = 144
value = 200, 1
channel = 0

[State 200, HitDef]
type = HitDef
persistent = 14
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = time <= 125
attr = S, HA
damage = 35, 12
getpower = 0
givepower = 15,5
animtype = heavy
guardflag = M;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 8, Hit
pausetime = 8, 8
guard.pausetime = 8,7
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guard.kill = 0
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = -3
air.velocity = -4,-3
fall.recover = 0
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 128
statetype = C
movetype = I
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 130
movetype = A
[State 200, HitDef];-----下段
type = HitDef
persistent = 0
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = time = [130,145]
attr = S, HA
damage = 30, 10
getpower = 0
givepower = 15,5
animtype = heavy
guardflag = L;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 8, Hit
pausetime = 8, 8
guard.pausetime = 8,6
sparkno = 2;S8004
sparkxy = -5, -12
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = -2.6
air.velocity = -4,-3
fall.recover = 0
guard.kill = 0
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 148
statetype = S
movetype = I
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 150
movetype = A
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 14
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = time > 150
attr = S, HA
damage = 130, 14
getpower = 0
givepower = 15,5
animtype = heavy
guardflag = M;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 9, Hit
pausetime = 15, 15
guard.pausetime = 13,10
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = -6,-2
air.velocity = -6,-3
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 1801


[State 200, HitDef]
type = HitDef
persistent = 14
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = time <= 125
attr = S, HA
damage = 35, 12
getpower = 0
givepower = 15,5
animtype = heavy
guardflag = M;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 8, Hit
pausetime = 8, 8
guard.pausetime = 8,7
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guard.kill = 0
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = -3
air.velocity = -4,-3
fall.recover = 0
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 128
statetype = C
movetype = I
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 130
movetype = A
[State 200, HitDef];-----下段
type = HitDef
persistent = 0
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = time = [130,145]
attr = S, HA
damage = 30, 10
getpower = 0
givepower = 15,5
animtype = heavy
guardflag = L;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 8, Hit
pausetime = 8, 8
guard.pausetime = 8,6
sparkno = 2;S8004
sparkxy = -5, -12
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = -2.6
air.velocity = -4,-3
fall.recover = 0
guard.kill = 0
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 148
statetype = S
movetype = I
[State 1200, 9]
type = StateTypeSet
trigger1 = time = 150
movetype = A
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 14
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = time > 150
attr = S, HA
damage = 130, 14
getpower = 0
givepower = 15,5
animtype = heavy
guardflag = M;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 9, Hit
pausetime = 15, 15
guard.pausetime = 13,10
sparkno = 2;S8004
sparkxy = -5, -80
hitsound = S120, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = -6,-2
air.velocity = -6,-3
fall = 1
air.fall = 1
fall.recover = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 72
value = 110, 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;高速度連続打撃-EX----------------------------------
[Statedef 2005]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 7406
sprpriority = 2

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = var(44) % 100000 < 10000
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = varadd
trigger1 = var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 10000
[state 2, limitstar]
type = varadd
triggerall = var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1


[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -65,-85
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -65,-85
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 72

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, critical]
type = Explod
persistent = 0
trigger1 = animelem = 48
anim = 7405
postype = p1
pos = 36,-25
ownpal = 1
sprpriority = 5
;bindtime = -1

[State 0, 0]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-72
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-55
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 12
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-95
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 20
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-72
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 20
helpertype = normal
name = "kokken"
stateno = 2122
postype = p1
pos = 30,-82
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 25
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-120
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 25
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-85
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 25
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-50
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 32
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-50
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 41
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-90
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 41
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-55
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 50
helpertype = normal
name = "kokken"
stateno = 2113
postype = p1
pos = 20,-60
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 50
helpertype = normal
name = "kokken"
stateno = 2120
postype = p1
pos = 25,-70
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 50
helpertype = normal
name = "kokken"
stateno = 2121
postype = p1
pos = 30,-82
keyctrl = 0
ownpal = 1
persistent = 0
[State 0, 0]
type = Helper
trigger1 = animelem = 50
helpertype = normal
name = "kokken"
stateno = 2122
postype = p1
pos = 35,-85
keyctrl = 0
ownpal = 1
persistent = 0

[State 200, HitDef]
type = HitDef
persistent = 8
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = animelem = 6
trigger2 = animelem = 12
;trigger3 = animelem = 20
;trigger4 = animelem = 26
;trigger5 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, SA
damage = 12, 5
getpower = 0
guard.kill = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,0
air.velocity = -1.5,-1.6
[State 200, HitDef]
type = HitDef
persistent = 8
guard.kill = 0
;p2stateno = 8715
triggerall = var(27) = 0
:trigger1 = animelem = 6
:trigger2 = animelem = 12
trigger1 = animelem = 20
trigger2 = animelem = 26
;trigger5 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, HA
damage = 13, 8
getpower = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,0
air.velocity = -1.5,-1.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
;p2stateno = 8715
triggerall = var(27) = 0
;trigger1 = animelem = 6
;trigger2 = animelem = 12
;trigger3 = animelem = 20
;trigger4 = animelem = 26
trigger1 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, HA
damage = 14, 9
getpower = 0
givepower = 5,2
animtype = up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,-2.6
air.velocity = -1.5,-2.6
fall = 1
air.fall = 1
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
;p2stateno = 8715
triggerall = var(27) = 0
trigger1 = animelem = 42
;trigger2 = animelem = 12
;trigger3 = animelem = 20
;trigger4 = animelem = 26
;trigger5 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, HA
damage = 16, 10
getpower = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = 0,0
air.velocity = -1,-1.6
[State 200, HitDef]
type = HitDef
persistent = 8
;p2stateno = 8715
triggerall = var(27) = 0
;trigger1 = enemy,stateno != [120,150]
trigger1 = animelem = 51
attr = S, HA
damage = 50, 17
getpower = 0
guard.kill = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -5,-6
air.velocity = -5.5,-9.8
fall = 1
air.fall = 1
fall.recover = 0








[State 200, HitDef]
type = HitDef
persistent = 8
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = animelem = 6
trigger2 = animelem = 12
;trigger3 = animelem = 20
;trigger4 = animelem = 26
;trigger5 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, SA
damage = 12, 5
getpower = 0
guard.kill = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,0
air.velocity = -1.5,-1.6
[State 200, HitDef]
type = HitDef
persistent = 8
guard.kill = 0
p2stateno = 8715
triggerall = var(27) = 1
:trigger1 = animelem = 6
:trigger2 = animelem = 12
trigger1 = animelem = 20
trigger2 = animelem = 26
;trigger5 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, HA
damage = 13, 8
getpower = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,0
air.velocity = -1.5,-1.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
p2stateno = 8715
triggerall = var(27) = 1
;trigger1 = animelem = 6
;trigger2 = animelem = 12
;trigger3 = animelem = 20
;trigger4 = animelem = 26
trigger1 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, HA
damage = 14, 9
getpower = 0
givepower = 5,2
animtype = up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,-2.6
air.velocity = -1.5,-2.6
fall = 1
air.fall = 1
[State 200, HitDef]
type = HitDef
guard.kill = 0
persistent = 8
p2stateno = 8715
triggerall = var(27) = 1
trigger1 = animelem = 42
;trigger2 = animelem = 12
;trigger3 = animelem = 20
;trigger4 = animelem = 26
;trigger5 = animelem = 33
;trigger6 = animelem = 42
;trigger7 = animelem = 51
attr = S, HA
damage = 16, 10
getpower = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 16
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = 0,0
air.velocity = -1,-1.6
[State 200, HitDef]
type = HitDef
persistent = 8
p2stateno = 8715
triggerall = var(27) = 1
;trigger1 = enemy,stateno != [120,150]
trigger1 = animelem = 51
attr = S, HA
damage = 50, 17
getpower = 0
guard.kill = 0
givepower = 5,2
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
guard.pausetime = 8,8
sparkno = 2;S8004
sparkxy = -5, -70+(random%10)
hitsound = S120, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -5,-6
air.velocity = -5.5,-9.8
fall = 1
air.fall = 1
fall.recover = 0

[State 210, 2]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 19
trigger4 = animelem = 25
trigger5 = animelem = 32
trigger6 = animelem = 41
trigger7 = animelem = 50
value = 110, 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
;黒鍵
[Statedef 2113]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7418
sprpriority = 4
velset = 12,0

[State 2, reduce];
type = AttackMulSet
;triggerall = root,var(27) >= 1
triggerall = enemy,gethitvar(hitcount) >= 8
trigger1 = 1
value =  0.7
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
guard.kill = 0
;p2stateno = 8715
triggerall = parent,var(27) = 0
trigger1 = time >= 2
attr = A, HP
damage = 20, 6
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 14
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -5+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
p2stateno = 8715
triggerall = parent,var(27) = 1
trigger1 = time >= 2
attr = A, HP
damage = 20, 6
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 14
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -5+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6


[state 0,0]
type = changestate
trigger1 = movecontact
value = 2114

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;------------------------------------------
;黒鍵
[Statedef 2120]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7420
sprpriority = 4
velset = 8,-10

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
triggerall = enemy,gethitvar(hitcount) >= 8
trigger1 = 1
value =  0.7
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
guard.kill = 0
;p2stateno = 8715
triggerall = parent,var(27) = 0
trigger1 = time >= 2
attr = A, HP
damage = 21, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, 10;+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
p2stateno = 8715
triggerall = parent,var(27) = 1
trigger1 = time >= 2
attr = A, HP
damage = 21, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, 10;+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6


[state 0,0]
type = changestate
trigger1 = movecontact
value = 2114

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;------------------------------------------
;黒鍵
[Statedef 2121]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7421
sprpriority = 4
velset = 9,-8

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
triggerall = enemy,gethitvar(hitcount) >= 10
trigger1 = 1
value =  0.7
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
guard.kill = 0
;p2stateno = 8715
triggerall = parent,var(27) = 0
trigger1 = time >= 2
attr = A, HP
damage = 25, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -65+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
p2stateno = 8715
triggerall = parent,var(27) = 1
trigger1 = time >= 2
attr = A, HP
damage = 25, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -65+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6

[state 0,0]
type = changestate
trigger1 = movecontact
value = 2114

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;------------------------------------------
;黒鍵
[Statedef 2122]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7422
sprpriority = 4
velset = 10,-5

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
triggerall = enemy,gethitvar(hitcount) >= 11
trigger1 = 1
value =  0.7
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
guard.kill = 0
;p2stateno = 8715
triggerall = parent,var(27) = 0
trigger1 = time >= 2
attr = A, HP
damage = 25, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -15+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
p2stateno = 8715
triggerall = parent,var(27) = 1
trigger1 = time >= 2
attr = A, HP
damage = 25, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -65+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6


[state 0,0]
type = changestate
trigger1 = movecontact
value = 2114

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


;------------------------------------------
;黒鍵
[Statedef 2123]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7432
sprpriority = 4
velset = 9,9

[State 200, HitDef]
type = HitDef
guard.kill = 0
;p2stateno = 8715
triggerall = parent,var(27) = 0
trigger1 = time >= 2
attr = A, NP
damage = 26, 8
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -15+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
p2stateno = 8715
triggerall = parent,var(27) = 1
trigger1 = time >= 2
attr = A, HP
damage = 25, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -65+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6


[state 0,0]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0
value = 2114

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


;------------------------------------------
;黒鍵
[Statedef 2124]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7433
sprpriority = 4
velset = 9.3,8

[State 200, HitDef]
type = HitDef
guard.kill = 0
;p2stateno = 8715
triggerall = parent,var(27) = 0
trigger1 = time >= 2
attr = A, NP
damage = 40, 8
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -15+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -3,0
air.velocity = -3,-2.6
[State 200, HitDef]
type = HitDef
guard.kill = 0
p2stateno = 8715
triggerall = parent,var(27) = 1
trigger1 = time >= 2
attr = A, HP
damage = 25, 4
getpower = 0
givepower = 4,2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2, 12
;guard.pausetime = 2,12
sparkno = 2;S8004
sparkxy = -5, -65+(random%10)
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2.6


[state 0,0]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0
value = 2114

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


;------------------------------------------
;黒鍵hajiki
[Statedef 2114]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7419
sprpriority = 4
velset = 7+(random%10)*0.1,-6+(random%10)*0.1

[state 0,0]
type = destroyself
trigger1 = time >= 30
trigger2 = frontedgedist <= -10

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31,9

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;------------------------------------------
;エフェクト
[Statedef 2012]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7238+parent,var(19)
sprpriority = 2

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.5

[state 0,star]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 10000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 100000 < 10000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1



[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 2, 0]
type = Explod
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1

[state 0,0]
type = null;changeanim
trigger1 = time = 1
value = anim + parent,var(19)

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = A, HA
damage = ifelse(enemy,gethitvar(hitcount) >= 13,ifelse(enemy,gethitvar(hitcount) >= 25, 8,13),20), 6
getpower = 0
givepower = 12,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 4
guard.pausetime = 2, 3
sparkno = 2
sparkxy = -8+(random%10), -54+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -2,-3
air.velocity = -3,0
envshake.time = 15
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 24
ground.cornerpush.veloff = 0
guard.kill = ifelse(root,var(49)>0,1,ifelse(root,var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -2



[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = A, HA
damage = ifelse(enemy,gethitvar(hitcount) >= 13,ifelse(enemy,gethitvar(hitcount) >= 25, 8,13),20), 5
getpower = 0
givepower = 12,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 4
guard.pausetime = 2, 3
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -2,-3
air.velocity = -3,0
envshake.time = 15
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 24
ground.cornerpush.veloff = 0
guard.kill = ifelse(root,var(49)>0,1,ifelse(root,var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -2
p2stateno = 8715

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;腹部及び後頭部への痛打（仮---------------------------------------
[Statedef 2015]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 7376
sprpriority = 2

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -35,-100
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -35,-100
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1


[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 64

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 100,00]
type = Afterimage
trigger1 = time = 61
trans = add1
TimeGap = 2
FrameGap = 1
time = 12
length = 9
palbright = 115,115,115
;palcontrast = 255,255,255

[State 200, HitDef]
type = HitDef
persistent = 0
guard.kill = 0
trigger1 = time >= 60
attr = S, HA
damage = 150, 38
getpower = 0
givepower = 35,12
animtype = heavy
guardflag = M;ifelse(anim = 7358,H,M);A
hitflag = MAF
priority = 10, Hit
pausetime = 10, 120
guard.pausetime = 18,18
sparkno = S7049
sparkxy = 0, -40
hitsound = S120, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 20
ground.hittime  = 24
ground.velocity = 0
air.velocity = 0,0
fall.recover = 0
guard.velocity = -1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = movehit
trigger1 = enemy,movetype = H
trigger1 = Animelem = 16
value = 1821



;---------------------------------------------------------------------------
;昇竜EX
[Statedef 2016]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7320
sprpriority = 2
poweradd = 0
velset = 0,0


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -5,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -5,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 73

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.9
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 5

[State 701, Effect]
type = Explod
trigger1 = time = 63
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 3
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 68
x = 0.8
y = -9

[state 0,0]
type = veladd
trigger1 = time >= 74
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 7
attr = A, HA
damage = ifelse(var(39)=1,66,60), 4
getpower = 0
givepower = 9,6
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5,-8
air.velocity = -5,-8.6
fall = 1
air.fall = 1
fall.recovertime = 3
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = time >= 75
trigger1 = pos y >= 0
value = 9929



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;ちょうきゃくぅー…ほうおうしょおー！！！！
;溜め
[Statedef 2020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7039
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 200,16
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
trigger1 = random >= 500
value = 200,14
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7049
postype = p1
pos = -5,-72
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7048
postype = p1
pos = -5,-72
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = !moveguarded
trigger1 = time <= 90
value = SCA
time = 2

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,0]
type = changeanim
trigger1 = time = 53
value = 2040

[state 0,0]
type = velset
trigger1 = time >= 60
x = 10

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
ignorehitpause = 1
persistent = 0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 60
persistent = 0
attr = S, HA
damage = 1, 1
getpower = 0
givepower = 1,1
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 15, ifelse(enemy,statetype != A,28,25)
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = 0,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1
forcestand = 1

[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 2021

[State 210, 3]
type = ChangeState
trigger1 = time >= 100
value = 101
ctrl = 0


;---------------------------------------------------------------------------
;ヒット後メッタメタのギッタギタにしてやるぜ
[Statedef 2021]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7041
sprpriority = 2
velset = 1.4,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 12
value = 200,17
channel = 0

[State 200, HitDef1];肘鉄砲
type = HitDef
trigger1 = animelem = 5
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef2];けり１
type = HitDef
trigger1 = animelem = 13
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -20
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef3];けり２
type = HitDef
trigger1 = animelem = 18
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef4];けり3
type = HitDef
trigger1 = animelem = 22
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -70
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef5];くるくる
type = HitDef
trigger1 = time >= 54
persistent = 7
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -6, -51
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 2022
ctrl = 0


;---------------------------------------------------------------------------
;まだだ！蹴り上げ
[Statedef 2022]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7042
sprpriority = 2
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time <= 15
y = -2

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 10, 10
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -64
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1
palfx.add = 0,-100,-200
palfx.time = 30
palfx.invertall = 1
palfx.sinadd = 200,80,0,5
p2stateno = 2023

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 20
value = 52
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = movehit
trigger1 = time >= 22
value = 2024
ctrl = 0


;---------------------------------------------------------------------------
;鳳凰
[Statedef 2025]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = -5
velset = 0,0

[state 0,0]
type = bgpalfx
trigger1 = time = 0
time = 5
mul = 210,210,210
[state 0,0]
type = bgpalfx
trigger1 = time = 5
time = 5
mul = 120,120,120
[state 0,0]
type = bgpalfx
trigger1 = time = [10,90]
time = 1
mul = 0,0,0
[state 0,0]
type = bgpalfx
trigger1 = time = 90
time = 5
mul = 50,50,50
[state 0,0]
type = bgpalfx
trigger1 = time = 95
time = 5
mul = 190,190,190

[State 3000, effect]
type = Explod
trigger1 = time < 20
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6*(time*0.05),0.6

[State 3000, effect]
type = Explod
trigger1 = time = [20,59]
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6,0.6

[State 3000, effect]
type = Explod
trigger1 = time = [60,89]
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6,0.01+((time*0.02)-0.2)

[State 3000, effect]
type = Explod
trigger1 = time >= 90
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6-time*0.0058,0.01+((time*0.02)-0.2)


[State 3000, effect];縦棒
type = Explod
trigger1 = time <= 90
trigger1 = random >= 800
trigger1 = Numexplod(7045) <= 8
anim = 7045
postype = left
pos = 160,120
random = 360,0
ownpal = 1
removetime = 100
sprpriority = 5
;ontop = 1
supermovetime =100
;bindtime = -1
scale = 0.5,6
id = 7045

[State 3000, effect];爆発
type = Explod
trigger1 = time >= 8
trigger1 = random >= 500
persistent = 6
anim = 7046
postype = left
pos = 160,120
random = 300,300
ownpal = 1
sprpriority = 3
supermovetime =100
;bindtime = -1
scale = 0.5,0.5

[state 0,0]
type = playsnd
trigger1 = time >= 8
trigger1 = random >= 700
value = 230,3
channel = 4

[state 0,0]
type = removeexplod
trigger1 = time = 99
id = 7045

[state 0,0]
type = destroyself
trigger1 = time = 100

;---------------------------------------------------------------------------
;んっ…フィニッシュアル…
[Statedef 2024]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7043
sprpriority = 2
velset = 0,-18

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 8
value = 200,18
channel = 0

[State 0, 0]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "houou"
ID = 2025
stateno = 2025
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[state 0,0]
type = velset
trigger1 = time = 12
y = -1

[state 0,0]
type = veladd
trigger1 = time = 70
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = S, HA
damage = 150, 10
getpower = 0
givepower = 60,9
animtype = heavy
;guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 1, 14
guard.pausetime = 1, 12
sparkno = 2
sparkxy = -8, -54
hitsound = S230, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
;air.hittime  = 8
ground.velocity = -5,-12
air.velocity = -5,-15
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[state 0,0]
type = changestate
trigger1 =animtime = 0
value = 5040
ctrl = 0

;---------------------------------------------------------------------------
;蹴り上げられた
[Statedef 2023]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030
sprpriority = 2
velset = 0,-7

[state 0,0]
type = selfstate
trigger1 = time >= 40
value = 5050

[state 0,0]
type = screenbound
trigger1 = 1
value = 0










;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;LD
[Statedef 4000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7445
sprpriority = 1
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0


[state 0,0]
type = powerset
trigger1 = time <= 2
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 200,21
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 63
movetime = 63
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)


[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "bakuhatu"
ID = 3900
stateno = 3900
postype = left
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = changeanim
trigger1 = time = 160
value = 7331

[State 210, 3]
type = ChangeState
trigger1 = time >= 165
trigger1 = Numhelper(3900) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;LD 朝倉
[Statedef 3900]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7446;7385
sprpriority = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 700,0

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7444
;postype = p1
pos = -40,-240
ownpal = 1
sprpriority = -5
supermovetime =120
bindtime = -1
removetime = 120
scale = 2,2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 3
numhits = 2
attr = S, HP
damage = 11
getpower = 0
givepower = 2
animtype = heavy
;guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 0, 2
sparkno = -1
sparkxy = -8, -50
hitsound = -1;S101, 3
guardsound = -1;S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-3
air.velocity = -4.5,-4
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = 2
palfx.time = 5
palfx.add = var(10),var(11),var(12)


[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 10
ignorehitpause = 1
range = 0,255
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 11
ignorehitpause = 1
range = 0,255
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 11
ignorehitpause = 1
range = 0,255

[state 0,0]
type = assertspecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)
ignorehitpause = 1
[state 0,0]
type = posset
trigger1 = time >= 0
x = -160;(240 - screenpos y)
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time >= 120

;---------------------------------------------------------------------------
;朝倉
[Statedef 3901]
type    = S
movetype= A
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[state 0,0]
type = changeanim
trigger1 = time = 15
value = 7296
[State 3000, effect]
type = Explod
trigger1 = time = 15
anim = 7349
;postype = p1
pos = 0,0
ownpal = 0
sprpriority = 5

[state 0,0]
type = playsnd
trigger1 = time = 70
value = 410, 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7298
;postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
;ontop = 1
;supermovetime =100
;bindtime = -1
;removeongethit = 1

[State 3000, effect]
type = Explod
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
anim = 7297
;postype = p1
pos = -7,0
ownpal = 1
sprpriority = 5

[state 0,0]
type = playsnd
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
value = 60, 4

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 3903


;---------------------------------------------------------------------------
;朝倉osimai
[Statedef 3903]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 7293
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
triggerall = prevstateno = 3901
trigger1 = time = 0
value = 410, 2
[State 0, 0]
type = PlaySnd
triggerall = prevstateno != 3901
trigger1 = time = 0
value = 410, 3

[state 0,0]
type = palfx
trigger1 = time <= 25
time = 1
mul = 255-(time*10),255-(time*10),255-(time*10)

[state 0,0]
type = bgpalfx
trigger1 = time <= 25
time = 1
mul = 100,100,100

[state 0,0]
type = destroyself
trigger1 = time = 25

;---------------------------------------------------------------------------
;朝倉　さされた方
[Statedef 3902]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority =2
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 11, 0
channel = 0

[state 0,0]
type = lifeadd
trigger1 = time = 1
value = -380
kill = 0

[state 0,0]
type = lifeadd
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
value = -40
kill = 0

[state 0,0]
type = changeanim2
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
value = 7330

[state 0,0]
type = lifeadd
trigger1 = time = 235
value = -20

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7295

[state 0,0]
type = velset
trigger1 = time = 299
x = -2
y = -2

[state 0,0]
type = selfstate
trigger1 = time = 300
value = 5100


;---------------------------------------------------------------------------
;LD 自分
[Statedef 4001]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7096
sprpriority = 5
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 200, 10
channel = 0

[state 0,0]
type = removeexplod
trigger1 = time = 1
id = 8800

[state 0,0]
type = assertspecial
trigger1 = var(41) = 2
flag = nomusic

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(41) = 2
value = 1000,0
loop = 1
channel = 2
volume = 50

[state 0,0]
type = varset
trigger1 = time = 0
trigger1 = var(41) = 2
v = 23
value = 1

[state 0,0]
type = allpalfx
trigger1 = time <= 10
time = 1
add = time*25,time*25,time*25
[state 0,0]
type = allpalfx
trigger1 = time = [10,20]
time = 1
add = 255,255,255
[state 0,0]
type = allpalfx
trigger1 = time = [20,63]
time = 1
add = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = assertspecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 3500, 1]
type = SuperPause
trigger1 = time = 0
time = 320
movetime = 320
pos = -14,-9
ownpal = 1
anim = S8999
sound = -1;S20,0
poweradd = 0

[State 3000, effect];背景
type = Explod
trigger1 = time = 20
anim = 7252
postype = left
pos = -90,-40
ownpal = 1
sprpriority = -5
;ontop = 1
scale = 0.8,0.8
supermovetime =9000
bindtime = -1
;removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 101
helpertype = normal
name = "back"
ID = 4010
stateno = 4010
postype = left
pos = 140,120
keyctrl = 0
ownpal = 1
pausemovetime = 2200
supermovetime = 2200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = changeanim
trigger1 = time = 11
value = 7254

[state 0,0]
type = posset
trigger1 = facing = 1
trigger1 = time = 11
x = -30
y = 0
[state 0,0]
type = posset
trigger1 = facing = -1
trigger1 = time = 11
x = 30
y = 0

[state 0,0]
type = varset
trigger1 = time = 280
v = 24
value = 0

[state 0,0]
type = targetbind
trigger1 = time = 11
pos = 50,0

[state 0,0]
type = changestate
trigger1 = time = 320;320
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;LD aいて
[Statedef 4002]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030
sprpriority = -2
velset = 0,0

[state 0,0]
type = lifeadd
trigger1 = time = 1
value = -580

[state 0,0]
type = changeanim
trigger1 = 1
value = 5030

[state 0,0]
type = selfstate
trigger1 = time = 2
value = 5150


;---------------------------------------------------------------------------
;天
[Statedef 4010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,0
channel = 0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -6,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = 1,6
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 17
range = 1,10

[State 701, Effect]
type = Explod
persistent = 10
trigger1 = random >= 450
;trigger1 = Time = [0,300]
anim = 7255
postype = left
pos = 250,-30
random = 240,40
sprpriority = 5
ownpal = 1
ignorehitpause = 1
scale = 0.1+(var(17)*0.1),0.1+(var(17)*0.1)
vel = var(19)*0.4,var(18)*0.4
removetime = 220
supermovetime = 300
ontop = 1

[State 3000, effect];背景
type = Explod
trigger1 = time = 20
anim = 7253
postype = left
pos = -90,-40
ownpal = 1
sprpriority = 5
;ontop = 1
scale = 0.8,0.8
supermovetime =9000
bindtime = -1
removetime = -1
id = 8801

[state 0,0]
type = removeexplod
trigger1 = time >= 300
trigger1 = roundstate = 2
id = 8801


[state 0,0]
type = null;destroyself
trigger1 = time >= 200

;---------------------------------------------------------------------------
;上
[Statedef 4011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,1
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7099
postype = left
pos = 160-(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7099
removetime = 290
postype = left
pos = 160-(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;天2
[Statedef 4012]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,2
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7098
postype = left
pos = 160-(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7098
removetime = 250
postype = left
pos = 160-(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;下
[Statedef 4013]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,3
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7100
postype = left
pos = 160-(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7100
removetime = 210
postype = left
pos = 160-(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;唯
[Statedef 4014]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,4
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7101
postype = left
pos = 160+(time*4),120-(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7101
removetime = 170
postype = left
pos = 160+(time*4),120-(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;我
[Statedef 4015]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,5
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7102
postype = left
pos = 160+(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7102
removetime = 130
postype = left
pos = 160+(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;独
[Statedef 4016]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,6
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7103
postype = left
pos = 160+(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7103
removetime = 90
postype = left
pos = 160+(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;尊
[Statedef 4017]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,7
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7104
postype = left
pos = 160+(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7104
removetime = 50
postype = left
pos = 160+(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = pause
trigger1 = time = 30
time = 20
movetime = 20

[state 0,0]
type = assertspecial
trigger1 = parent,var(41) = 2
flag = nomusic

[state 0,0]
type = destroyself
trigger1 = time >= 120









;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AD
;爆発を伴う捕獲---------------------------------------
[Statedef 3000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 7425
sprpriority = 2
velset = 0,0

[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[state 0,0]
type = powerset
trigger1 = time <= 2
trigger1 = var(50) = 2
value = 1000

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) >= 3
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 7
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5


[State 800, 1]
type = HitDef
trigger1 = time >= 62
trigger1 = P2MoveType != H
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
hitsound = S101, 1
sprpriority = 1
p1stateno = 3001
p2stateno = 3002
fall = 1
fall.recover = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;爆発を伴う捕獲-AAD--------------------------------------
[Statedef 3010]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 7426
sprpriority = 2
velset = 0,0

[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[state 0,0]
type = powerset
trigger1 = time = 0
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 70

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,40
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5


[State 800, 1]
type = HitDef
trigger1 = time >= 62
trigger1 = P2MoveType != H
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
hitsound = S101, 1
sprpriority = 1
p1stateno = 3001
p2stateno = 3003
fall = 1
fall.recover = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
;投げ 
[Statedef 3001]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7387
sprpriority = 2
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 20
value = 300, 2

[State 0, 1]
type = TargetBind
trigger1 = time <= 1
pos = 60,-77
[State 0, 1]
type = TargetBind
trigger1 = time = 5
pos = 46,-76


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 20
anim = 7385
postype = p1
pos = 70,-68
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime =100
;bindtime = -1
;removeongethit = 1
id = 1832
scale = 1.5,1

[state 0,0]
type = assertspecial
trigger1 = time >= 20
trigger1 = roundstate = 2
flag = noBG
flag2 = noFG
flag3 = globalnoshadow

[State 5110, 7]
type = Envcolor
trigger1 = time >= 20
;trigger1 = numexplod(1832) >= 1
trigger1 = roundstate = 2
value = 0,0,0
time = 2
under = 0

[state 0,0]
type = pause
trigger1 = time = 21
time = 10
movetime = 10

[state 0,0]
type = varset
trigger1 = time = 1
v = 33
value = 0

[state 0,0]
type = velset
trigger1 = time = 30
x = -8
y = -6

[State 210, 3]
type = Changeanim
trigger1 = Time = 30
value = 5050

[State 210, 3]
type = ChangeState
trigger1 = Time = 30
value = 5050
ctrl = 0

;------------------------------------------
; 投げられてる相手2
[Statedef 3002]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0


[state 0,0]
type = velset
trigger1 = time = 20
x = -1.5
y = -4
[state 0,0]
type = veladd
trigger1 = time >= 21
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7369

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 20
value = -330

[state 0,0]
type = selfstate
trigger1 = time >= 21
value = 5050

;------------------------------------------
; 投げられてる相手2
[Statedef 3003]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0


[state 0,0]
type = velset
trigger1 = time = 20
x = -1.5
y = -4
[state 0,0]
type = veladd
trigger1 = time >= 21
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7369

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 20
value = -410

[state 0,0]
type = selfstate
trigger1 = time >= 21
value = 5050



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AAD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7281
sprpriority = 2
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[state 0,0]
type = powerset
trigger1 = time <= 2
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 200,21
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 200,26
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 75

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = playsnd
trigger1 = time = 61
value = 200, 8
channel = 0

[state 0,0]
type = playsnd
trigger1 = time = 75
value = 60, 1

[State 0, 0]
type = Helper
trigger1 = time = 72
helpertype = normal
name = "nagatobeam"
ID = 3002
stateno = 3006
postype = p1
pos = 34,-80
keyctrl = 0
ownpal = 1
size.xscale = 2

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101,3
channel = 3
persistent = 2

[State 210, 3]
type = ChangeState
trigger1 = time >= 130
trigger1 = Numhelper(3002) = 0
value = 3001
ctrl = 0

[state 0,0]
type = envshake
trigger1 = time = 70
time = 35


;---------------------------------------------------------------------------
;AD終了
[Statedef 3001]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7283
sprpriority = 2
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;ビームほんたい
[Statedef 3002]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7282
sprpriority = 4
velset = 0,0

[State 2, 0]
type = Explod
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = time <= 99
ignorehitpause = 1
pos = 34,-80

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7282
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 2,0.1
id = 3002
removetime = 9

[state 0,0]
type = ModifyExplod
trigger1 = time = [0,9]
id = 3002
scale = 2,0.1+(time*0.1)


[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5

[state 0,0]
type = assertspecial
trigger1 = time <= 9
flag = invisible
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 8
attr = A, HP
damage = 22, 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-4
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[State 210, 3]
type = destroyself
trigger1 = time = 100
trigger2 = parent,stateno != 3000

;---------------------------------------------------------------------------
;ビームほんたい
[Statedef 3006]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7282
sprpriority = 4
velset = 0,0

[State 2, 0]
type = Explod
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = time <= 99
ignorehitpause = 1
pos = 34,-80

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7282
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 2,0.1
id = 3002
removetime = 9

[state 0,0]
type = ModifyExplod
trigger1 = time = [0,9]
id = 3002
scale = 2,0.1+(time*0.1)


[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5

[state 0,0]
type = assertspecial
trigger1 = time <= 9
flag = invisible
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time <= 100
persistent = 8
attr = A, HP
damage = 30, 9
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-4
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 100
persistent = 8
attr = A, HP
damage = 8, 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-4
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
kill = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
p2stateno = 614


[State 210, 3]
type = destroyself
trigger1 = time = 160
trigger2 = parent,stateno != 3010




;---------------------------------------------------------------------------
;AD 自分　終了
[Statedef 3003]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 0
sprpriority = 4
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time = 1
value = 105

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AAD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7093
sprpriority = 2
velset = 0,0

[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = fvar(5)*0.3
persistent = 0

[state 0,0]
type = powerset
trigger1 = time = 0
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 200,22
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 75

[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 200,26
channel = 0

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 64
movetime = 64
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[state 0,0]
type = envshake
trigger1 = time = 60
time = 35

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 3000, effect]
type = Explod
trigger1 = movehit
trigger1 = time <= 120
trigger1 = random >= 550
persistent = 6
anim = 7046
postype = p1
pos = 75,-55
random = 32,32
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
scale = 0.8,0.8

[State 5101, 3]
type = MoveHitReset
trigger1 = time >= 2
persistent = 3

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101,3
channel = 3
persistent = 1


[State 200, HitDef1]
type = HitDef
;trigger1 = enemy,statetype != A
trigger1 = time <= 128
persistent = 4
attr = S, HA
damage = 22, 8
getpower = 0
givepower = 13
animtype = heavy
hitflag = MAFD
guardflag = MA
priority = 5, hit
pausetime = 3, 15
guard.pausetime = 5, 7
sparkno = -1
sparkxy = -8, -64
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,-5
air.velocity = -8,-5
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -1
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = -0.4

[State 200, HitDef1]
type = HitDef
trigger1 = enemy,stateno = [120,155]
trigger1 = time >= 129
persistent = 0
attr = S, HA
damage = 22, 13
getpower = 0
givepower = 13
animtype = heavy
hitflag = MAFD
priority = 5, hit
pausetime = 3, 60
sparkno = S7095
sparkxy = -8, -64
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 50
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
envshake.time = 50
envshake.ampl = 6
ground.cornerpush.veloff = -0.4
palfx.add = 150,0,0
palfx.time = 15

[State 5101, 3]
type = MoveHitReset
trigger1 = time >= 130

[State 210, 3]
type = ChangeState
trigger1 = time = 130
value = 3001
ctrl = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AAD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7054
sprpriority = 2
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 86
value = 200, 24
channel = 0

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) = 2
value = 0

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) >= 3
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200,28
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 87

[State 3500, 1]
type = SuperPause
trigger1 = time = 15
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 21
anim = 7047
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 21
anim = 7046
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 200, HitDef1]
type = HitDef
;trigger1 = enemy,statetype != A
trigger1 = time >= 2
persistent = 0
attr = S, HT
damage = 1, 0
getpower = 0
givepower = 18
animtype = heavy
hitflag = MA
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 5, 6
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
kill = 0
p1stateno = 3011
p2stateno = 3012

[State 200, HitDef1]
type = null;HitDef
trigger1 = enemy,statetype = A
trigger1 = enemy,pos y >= -15
trigger1 = time >= 2
persistent = 0
attr = S, HT
damage = 1, 0
getpower = 46
givepower = 18
animtype = heavy
hitflag = MA
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 5, 6
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
kill = 0
p1stateno = 3001
p2stateno = 3002

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;AD 自分　がぶがぶ
[Statedef 3011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7051
sprpriority = 4
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 200, 22
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 29
value = 101,5

[State 0, 0]
type = PlaySnd
trigger1 = time = 30
value = 300,4

[State 3000, effect]
type = Explod
trigger1 = time = 31
anim = 7053
postype = p1
pos = 0,-5
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1

[state 0,0]
type = allpalfx
trigger1 = time >= 31
add = (time*3)-90,0,0
mul = 255,0,0
time = 1
;color = 0

[State 0, 0]
type = Explod
trigger1 = time >= 30
anim = 7059
postype = left
pos = 160,120
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
scale = time*0.04,time*0.04

[State 210, 3]
type = ChangeState
trigger1 = time = 65
value = 3003

[state 0,0]
type = lifeadd
trigger1 = time = [31,41]
value = 3
[state 0,0]
type = lifeadd
trigger1 = time = [42,52]
value = 4
[state 0,0]
type = lifeadd
trigger1 = time = 53
value = 12

[state 0,0]
type = targetbind
trigger1 = time = 0
pos = 24,0
[state 0,0]
type = targetbind
trigger1 = time = 2
pos = 22,0


;------------------------------------------
; ad相手
[Statedef 3012]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset = 0,0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7052

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time >= 60
x = -1
y = -0.8

[state 0,0]
type = changeanim
trigger1 = time = 61
value = 5050

[state 0,0]
type = lifeadd
trigger1 = time = 36
value = -395

[state 0,0]
type = selfstate
trigger1 = time >= 62
value = 5050



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;
[Statedef 3100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7076
sprpriority = 2
velset = 0,0

[state 0,0]
type = velset
trigger1 = time = [58,73]
x = 13
[state 0,0]
type = velset
trigger1 = movecontact
x = 0

[State 100, 2]
type = Afterimage
trigger1 = Time = 58
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 0, 0]
type = PlaySnd
trigger1 = time = 8
value = 200,18
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7047
postype = p1
pos = -15,-60
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7046
postype = p1
pos = -15,-60
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 60
persistent = 0
attr = S, HA
damage = 200, 10
getpower = 0
givepower = 24
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 40, 49
guard.pausetime = 45, 35
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -10,-9
air.velocity = -10,-9
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -3
;p2stateno = 612
envshake.time = 20
envshake.ampl = 3

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 210, 2]
type = PlaySnd
trigger1 = movehit
persistent = 0
value = 200, 30
channel = 0

[State 2, shild]
type = HitOverride
triggerall = !movehit
trigger1 = time = [55,70]
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 3101
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;
[Statedef 3101]
type    = S
movetype= H
physics = S
ctrl = 0
sprpriority = 2

[State 1200, 9]
type = StateTypeSet
trigger1 = time >= 5
movetype = A

[state 0,0]
type = palfx
trigger1 = time = 0
time = 10
add = 90,0,0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HA
damage = 210, 10
getpower = 0
givepower = 24
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 4, 9
guard.pausetime = 45, 35
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -10,-9
air.velocity = -10,-9
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -3
;p2stateno = 612
envshake.time = 20
envshake.ampl = 3

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;LD
[Statedef 3500]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7060
sprpriority = 2
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7047
postype = p1
pos = 5,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
pausemovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7046
postype = p1
pos = 5,-56
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime =100
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = velset
triggerall = p2bodydist x >= 100
trigger1 = time = [60,110]
x = 4

[state 0,0]
type = velset
triggerall = p2bodydist x <= 100
trigger1 = time = [60,110]
x = 1.5

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 50
value = 0,2

[state 0,0]
type = powerset
trigger1 = time = 0
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 200,19
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 20
value = 200,20
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 19
value = 300,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 300,2
[State 0, 0]
type = PlaySnd
trigger1 = time = 90
value = 300,3

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 70

[state 0,0]
type = BGpalfx
trigger1 = time >= 0
mul = 100,100,100
time = 16

[State 3500, 1]
type = Pause
trigger1 = time = 0
time = 15

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 64
movetime = 64
pos = -14,-9
ownpal = 1
anim = -1
sound = -1
poweradd = 0;ifelse(var(50) = 4, -350, -1000)
darken = 0

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1998
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = varset
trigger1 = time <= 1
v = 19
value = 0

[state 0,0]
type = varadd
trigger1 = movehit
v = 19
value = 1

[State 200, HitDef1]
type = HitDef
triggerall = var(19) <= 16
;trigger1 = enemy,statetype != A
trigger1 = time >= 2
persistent = 3
attr = S, HA
damage = 60, 60
getpower = 0
givepower = -10000
animtype = heavy
hitflag = MAFD
priority = 5, hit
pausetime = 8, 20
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0

[State 200, HitDef1]
type = HitDef
triggerall = var(19) > 16
;trigger1 = enemy,statetype != A
trigger1 = time >= 2
persistent = 7
attr = S, HA
damage = 80, 80
getpower = 0
givepower = -3000
animtype = heavy
hitflag = MAFD
priority = 5, hit
pausetime = 5, 20
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 3501

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 2
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;壁までふっとび LA
[Statedef 3501]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = 0

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 613







;-------------------------------------
;シールドバンカー
[Statedef 9880]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
anim = 7270
sprpriority = 2

[state 0,0]
type = poweradd
trigger1 = prevstateno = [120,151]
trigger1 = time = 2
value = -500

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 30, 3

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 17
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 2,20
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 28,-20
persistent = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 2
anim = 7028
postype = p1
pos = 20,-72
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 27
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0)
givepower = 3
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1,-2
guard.velocity = -4
air.velocity = -1,-2
fall = 1
air.fall = 1
fall.recovertime = 20
envshake.time = 10
envshake.ampl = 2

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;-------------------------------------
;シールドバンカー
[Statedef 9881]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
sprpriority = 2

[State 701, Effect]
type = Explod
trigger1 = Time = 2
anim = 7058
postype = p1
pos = 6,0
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 0
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0)
givepower = 3
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-10
guard.velocity = -4
air.velocity = 0,-9
fall = 1
air.fall = 1
fall.recovertime = 30
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------
;ガードキャンセル
[Statedef 9884]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
anim = 7270
sprpriority = 2

[State 0,0]
type = nothitby
trigger1 = time <= 26
value = SCA
time = 1

[state 0,0]
type = palfx
trigger1 = time = 1
time = 6
add = 100,100,100

[state 0,0]
type = pause
trigger1 = time = 0
time = 5

[state 0,0]
type = pause
trigger1 = time = 1
time = 25
movetime = 25

[state 0,0]
type = poweradd
trigger1 = time = 1
value = -1000

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 27
attr = S, SA
damage = 10, 0
kill = 0
getpower = ifelse(var(50)=0,70,0)
givepower = 3
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10,-2
guard.velocity = -4
air.velocity = -10,-2
fall = 1
air.fall = 1
fall.recovertime = 20
envshake.time = 10
envshake.ampl = 2

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;standシールド
[Statedef 9900];2040
type     = S
movetype = I
physics  = S
velset   = 0,0
ctrl = 0
anim = 7013
[state 0,0]
type = playsnd
trigger1 = time = 1
value = 30,3

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7028
postype = p1
pos = 8,-90
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = palfx
trigger1 = time = 0
time = 4
add = 50,50,50

[State 2, shild]
type = HitOverride
trigger1 = time <= 12
time = 1
attr = SA, NA, SA, HA, NP, SP, HP, AP
stateno = 9905
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
triggerall = var(59) = 0
trigger1 = time = [9,12]
trigger1 = power >= 25
trigger1 = command = "holda"
value = 9901
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = random >= 950
trigger1 = time = [9,12]
trigger1 = power >= 1025
trigger1 = command = "holda"
trigger1 = gametime % 6 = 0
value = 9901
ctrl = 0

;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9901]
type     = S
movetype = I
physics  = S
velset   = 0,0
ctrl = 0
anim = 7014

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time >= 1
persistent = 5
anim = 7029
postype = p1
pos = 8,-90
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 7014

[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 1
attr = SA, NA, SA, HA, NP, SP, HP, AP
stateno = 9906
IgnoreHitPause = 1

[state 0,0]
type = poweradd
trigger1 = var(50) < 2
trigger1 = time >= 0
value = -9

[state 0,0]
type = changestate
triggerall = prevstateno = 9905 || prevstateno = 9907
trigger1 = time <= 10
trigger1 = command != "holda"
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = power <= 10
trigger2 = command != "holda"
trigger3 = time >= 96;200
value = 9902
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = enemy,movetype = H
trigger2 = p2dist x >= 105
trigger3 = power <= 900
trigger4 = random >= 500
trigger5 = time >= 96
value = 9902
ctrl = 0


;---------------------------------------------------------------------------
;シールドおしっぱ 話して終了
[Statedef 9902]
type     = S
movetype = I
physics  = S
velset   = 0,0
ctrl = 0
anim = 7014

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX 成立
[Statedef 9905]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7014

[State 0, 0]
type = PlaySnd
trigger1 = random <= 120
trigger1 = time = 1
value = 200, 3
channel = 0

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
supermovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 10;5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9907
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3000, h]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 7030
postype = p1
random = 16,16
pos = 8,-90
ownpal = 1
sprpriority = 5
ignorehitpause = 1
pausemovetime = 99
supermovetime = 100

[state 0,0]
type = changestate
trigger1 = time = 17
;trigger1 = pos y = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time = 15
trigger1 = var(59) = 1
trigger1 = enemy,statetype = A
value = 210
ctrl = 0

[state 0,0]
type = changestate
trigger1 = time = 9
trigger1 = var(50) = 4
value = 4000
ctrl = 0

;---------------------------------------------------------------------------
;シールド  おしっぱ受け取り
[Statedef 9906]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,60,0)
velset   = 0,0
ctrl = 0
anim = 7014

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7063
ignorehitpause = 1
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,1]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,2

[state 0,2]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,1

[state 0,3]
type = Pause
trigger1 = time = 0
time = 5
[state 0,3]
type = Pause
trigger1 = time = 1
time = 4
movetime = 4

[state 0,0]
type = null;ctrlset
trigger1 = time >= 11
value = 1

[state 0,4]
type = null;Pause
trigger1 = time = 1
time = 1
movetime = 1

[State 0,5]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 6,-90
random = 16,16
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.6,0.6

[state 0,0]
type = changestate
trigger1 = time = 15
;trigger1 = pos y = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX loop
[Statedef 9907]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7014

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9905
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
random = 18,18
postype = p1
pos = 24,-88
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[state 0,0]
type = changestate
trigger1 = time = 17
trigger1 = pos y = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time = 0
;trigger1 = pos y = 0
value = 9905
ctrl = 1




;---------------------------------------------------------------------------
;crouchシールド
[Statedef 9910];2040
type     = C
movetype = I
physics  = C
velset   = 0,0
ctrl = 0
anim = 7015

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 30,3

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7028
postype = p1
pos = 80,-70
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = palfx
trigger1 = time = 0
time = 4
add = 50,50,50

[State 2, shild]
type = HitOverride
trigger1 = time <= 12
time = 1
attr = SC, NA, SA, HA, NP, SP, HP, AP
stateno = 9915
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

[state 0,0]
type = changestate
triggerall = var(59) = 0
trigger1 = time = [9,12]
trigger1 = power >= 25
trigger1 = command = "holda"
value = 9911
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = random >= 950
trigger1 = time = [9,12]
trigger1 = power >= 1025
trigger1 = command = "holda"
trigger1 = gametime % 6 = 0
value = 9911
ctrl = 0

;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9911]
type     = C
movetype = I
physics  = C
velset   = 0,0
ctrl = 0
anim = 7015

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time >= 1
persistent = 5
anim = 7029
postype = p1
pos = 80,-70
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 7015

[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 1
attr = SC, NA, SA, HA, NP, SP, HP, AP
stateno = 9916
IgnoreHitPause = 1

[state 0,0]
type = poweradd
trigger1 = var(50) < 2
trigger1 = time >= 0
value = -9

[state 0,0]
type = changestate
triggerall = prevstateno = 9905 || prevstateno = 9907
trigger1 = time <= 10
trigger1 = command != "holda"
value = 11
ctrl = 1

[state 0,0]
type = changestate
trigger1 = power <= 10
trigger2 = command != "holda"
trigger3 = time >= 96
value = 9912
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = enemy,movetype = H
trigger2 = p2dist x >= 105
trigger3 = power <= 900
trigger4 = random >= 500
trigger5 = time >= 96
value = 9912
ctrl = 0


;---------------------------------------------------------------------------
;シールドおしっぱ 話して終了
[Statedef 9912]
type     = C
movetype = I
physics  = C
velset   = 0,0
ctrl = 0
anim = 7015

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX 成立
[Statedef 9915]
type     = C
movetype = I
physics  = C
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7015

[state 0,0]
type = changestate
trigger1 = time = 9
trigger1 = var(50) = 4
value = 4000
ctrl = 0

[State 0, 0]
type = PlaySnd
trigger1 = random <= 120
trigger1 = time = 1
value = 200, 3
channel = 0
[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 10;5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9917
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3000, h]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 7030
postype = p1
random = 16,16
pos = 80,-70
ownpal = 1
sprpriority = 5
ignorehitpause = 1
pausemovetime = 99

[state 0,0]
type = changestate
trigger1 = time = 17
;trigger1 = pos y = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;シールド  おしっぱ受け取り
[Statedef 9916]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,60,0)
velset   = 0,0
ctrl = 0
anim = 7015

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7063
ignorehitpause = 1
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,1]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,2

[state 0,2]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,1


[state 0,3]
type = Pause
trigger1 = time = 0
time = 5
[state 0,3]
type = Pause
trigger1 = time = 1
time = 4
movetime = 4

[state 0,0]
type = null;ctrlset
trigger1 = time >= 11
value = 1

[state 0,4]
type = null;Pause
trigger1 = time = 1
time = 1
movetime = 1

[State 0,5]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 80,-70
random = 18,18
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.6,0.6

[state 0,0]
type = changestate
trigger1 = time = 15
;trigger1 = pos y = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX loop
[Statedef 9917]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7015

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9905
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
random = 16,16
postype = p1
pos = 80,-70
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[state 0,0]
type = changestate
trigger1 = time = 17
trigger1 = pos y = 0
value = 11
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time = 0
;trigger1 = pos y = 0
value = 9005
ctrl = 1




;---------------------------------------------------------------------------
;くーちうシールド
[Statedef 9920]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 7017

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 30,3


[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7028
postype = p1
pos = 50,-107
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = palfx
trigger1 = time = 0
time = 4
add = 50,50,50

[State 2, shild]
type = HitOverride
trigger1 = time <= 14
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9925
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 0,0]
type = changestate
trigger1 = time = [9,12]
trigger1 = power >= 25
trigger1 = command = "holda"
value = 9921
ctrl = 0

;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9921]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 7018

[State 701, Effect]
type = Explod
trigger1 = Time >= 1
persistent = 5
anim = 7029
postype = p1
pos = 50,-107
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
bindtime = -1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = changeanim
trigger1 = 1
value = 7018

[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9926
IgnoreHitPause = 1

[state 0,0]
type = poweradd
trigger1 = var(50) < 2
trigger1 = time >= 0
value = -9

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 0,0]
type = changestate
trigger1 = power <= 10
trigger2 = command != "holda"
value = 9922
ctrl = 0


;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9922]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 7018

[state 0,0]
type = changeanim
trigger1 = time = 20
value = 44

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9929
ctrl = 0

;---------------------------------------------------------------------------
;シールド  EX
[Statedef 9925]
type     = A
movetype = I
physics  = A
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 1
anim = 7018

[State 0, 0]
type = PlaySnd
trigger1 = random <= 120
trigger1 = time = 1
value = 200, 3
channel = 0

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 190,1]
type = posfreeze
trigger1 = time <= 14

[State 190,1]
type = veladd
trigger1 = time = 8
y = -3

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2


[state 0,0]
type = Pause
trigger1 = time = 0
time = 8
Persistent = 1

[state 0,0]
type = Pause
trigger1 = time = 1
time = 15
movetime = 15
Persistent = 1

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 51,-107
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9927
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = time = 15
value = 51
ctrl = 1


;---------------------------------------------------------------------------
;シールド  EX loop
[Statedef 9927]
type     = A
movetype = I
physics  = A
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 1
anim = 7018

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 190,1]
type = posfreeze
trigger1 = time <= 14

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 8
Persistent = 1

[state 0,0]
type = Pause
trigger1 = time = 1
time = 15
movetime = 15
Persistent = 1

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 50,-95
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9926
IgnoreHitPause = 1


[state 0,0]
type = changestate
trigger1 = time = 15
value = 51
ctrl = 1


;---------------------------------------------------------------------------
;シールド  
[Statedef 9926]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,60,0)
velset   = 0,0
ctrl = 1
anim = 7018

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7063
postype = left
pos = ifelse(teamside = 1,0,190),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,1

[state 0,0]
type = Pause
trigger1 = time = 0
time = 5
[state 0,0]
type = Pause
trigger1 = time = 1
time = 4
movetime = 4

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 50,-107
random = 16,16
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.6,0.6

[state 0,0]
type = changestate
trigger1 = time = 15
value = 51
ctrl = 1

[state 0,0]
type = null;changestate
trigger1 = time >= 10
trigger1 = power >= 20
trigger1 = command = "holda"
value = 9921
ctrl = 0

;------------------------------------------
;避け

[Statedef 9930]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7436
sprpriority = -1


[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = time <= 22
value = SCA, NA, SA, HA, NP, SP, HP
time = 1

[state 0,0]
type = palfx
trigger1 = time <= 22
time = 1
add = 30-time,30-time,30-time

[State 52, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,3

[state 0,0]
type = null;playsnd
trigger1 = time = 1
trigger1 = var(19) <= 1
value = 300,6













;---------------------------------------------------------------------------
;水晶追加　
[Statedef 1021]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7011
sprpriority = 2

[state 0,0]
type = palfx
trigger1 = time < 5
time = 1
mul = time*50,time*50,time*50

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 8
attr = A, SA
damage = 6, 1
getpower = 46
givepower = 18
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, miss
pausetime = 2, 2
guard.pausetime = 2, 2
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -0.4,-4
air.velocity = -0.4,-2
fall = 1
air.fall = 1
fall.recovertime = 40

[State 200, 3]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;高速水晶設置
[Statedef 1030]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7012
sprpriority = 2
poweradd = 60

[state 0,0]
type = posadd
trigger1 = time = [9,24]
x = 6

[State 0, 0]
type = Helper
triggerall = Numhelper(1002) = 0
trigger1 = time = 10
helpertype = normal
name = "suishou"
ID = 1002
stateno = 1031
postype = p1
pos = -40,0
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Helper
triggerall = Numhelper(1002) <= 1
trigger1 = time = 20
helpertype = normal
name = "suishou"
ID = 1002
stateno = 1031
postype = p1
pos = -12,0
keyctrl = 0
ownpal = 1

[State 200, 3]
type = Changeanim
triggerall = time = 30
trigger1 = p2dist x >= 0
value = 7015

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;水晶
[Statedef 1031]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 201
sprpriority = 3

[state 0,0]
type = changeanim
trigger1 = random >= 500
trigger1 = time = 0
value = 7013

[state 0,0]
type = changeanim
trigger1 = random >= 500
trigger1 = time = 0
value = 231

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
ignorehitpause = 1
value = 0

[State 200, 3]
type = Changeanim
triggerall = anim = 201
triggerall = parent,stateno = 1020
trigger1 = time >= 2
value = 204

[State 0, 0]
type = null;Helper
triggerall = parent,stateno = 1020
trigger1 = time >= 2
persistent = 0
helpertype = normal
name = "top"
ID = 1021
stateno = 1021
;postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 0,0]
type = parentvaradd
trigger1 = time = 0
v = 48
value = -10

[state 0,0]
type = posset
trigger1 = 1
y = 0

[state 0,0]
type = palfx
trigger1 = time = 0
time = 3
mul = 25,25,25
[state 0,0]
type = palfx
trigger1 = time = 3
time = 2
mul = 75,75,75

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 26
attr = S, SA
damage = 18, 0
getpower = 8
givepower = 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 2, 2
sparkno = 0;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -1,-4
air.velocity = -1,-3.5
air.fall = 1
ground.cornerpush.veloff = 0

[State 200, 3]
type = ChangeState
trigger1 = Time = 100
value = 203

[State 3000, NotHitby]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 0, shild]
type = HitOverride
trigger1 = 1
time = 1
attr = SAC, NA, SA, HA, NP, SP, HP
stateno = 202
IgnoreHitPause = 1



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;高速水晶設置2
[Statedef 1032]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7014
sprpriority = 2
poweradd = 60

[State 200, 3]
type = Changeanim
trigger1 = time = 30
trigger1 = p2dist x >= 0
value = 7015

[state 0,0]
type = posadd
trigger1 = time = [9,24]
x = 12

[State 0, 0]
type = Helper
triggerall = Numhelper(1002) = 0
trigger1 = time = 10
helpertype = normal
name = "suishou"
ID = 1002
stateno = 1031
postype = p1
pos = -40,0
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = Numhelper(1002) <= 1
trigger1 = time = 15
helpertype = normal
name = "suishou"
ID = 1002
stateno = 1031
postype = p1
pos = -30,0
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = Numhelper(1002) <= 2
trigger1 = time = 20
helpertype = normal
name = "suishou"
ID = 1002
stateno = 1031
postype = p1
pos = -12,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶
[Statedef 1050]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7023;19
sprpriority = 2
poweradd = 68

[State 0, 0]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "tobi"
ID = 1051
stateno = 1051
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶本体
[Statedef 1051]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7020
sprpriority = 2
velset = 5.5,0

[state 0,0]
type = veladd
triggerall = time = 0
trigger1 = parent,stateno = 1055
trigger2 = parent,stateno = 1065
x = 3.5

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = random >= 500
value = 7021

[State 200, HitDef]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, SP
damage = 40, 3
getpower = 40
givepower = 16
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 2, 8
sparkno = -1;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -2,0
air.velocity = -2,0

[state 0,check]
type = parentvaradd
trigger1 = movehit
trigger1 = parent,var(40) % 100 < 10
v = 40
value = 10

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger2 = frontedgedist <= -50
value = 1052



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶本体
[Statedef 1052]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7022
sprpriority = 3

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 180, 0
volume = -20

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶2
[Statedef 1055]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7023
sprpriority = 2
poweradd = 68

[State 0, 0]
type = Helper
trigger1 = time = 22
helpertype = normal
name = "tobi"
ID = 1051
stateno = 1051
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶3
[Statedef 1056]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7019
sprpriority = 2

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,0
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 2
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000

[State 0, 0]
type = Helper
trigger1 = time = [5,180]
persistent = 5
helpertype = normal
name = "tobisp"
ID = 1051
stateno = 1058
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 182
value = 1057

;---------------------------------------------------------------------------
;飛び水晶3終了
[Statedef 1057]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7024
sprpriority = 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶本体
[Statedef 1058]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7025
sprpriority = 2
velset = 7,0

[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 600
y = 2
[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 600
y = 1
[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 600
y = -2
[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 700
y = -2

[state 0,0]
type = veladd
trigger1 = time = 0
trigger1 = random >= 600
x = 1
[state 0,0]
type = veladd
trigger1 = time = 1
trigger1 = random >= 500
x = 0.7
[state 0,0]
type = veladd
trigger1 = time = 0
trigger1 = random >= 400
x = 1.5

[state 0,0]
type = veladd
trigger1 = time = 1
trigger1 = parent,command = "holddown"
y = 1
[state 0,0]
type = veladd
trigger1 = time = 1
trigger1 = parent,command = "holdup"
y = -1

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = random >= 500
value = 7026

[State 200, HitDef]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, HP
damage = 7, 2
getpower = 10
givepower = 6
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, hit
pausetime = 1, 10
sparkno = -1;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2,0
air.velocity = -2,0

[state 0,check]
type = parentvaradd
trigger1 = movehit
trigger1 = parent,var(40) % 100 < 10
v = 40
value = 10

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger2 = frontedgedist <= -50
value = 1052

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶 浮遊
[Statedef 1060]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7023;19
sprpriority = 2
poweradd = 68
velset = 0,0

[state 0,0]
type = varadd
trigger1 = time >= 0
persistent = 18
v = 48
value = -1

[State 0, 0]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "tobi"
ID = 1051
stateno = 1051
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 3001

;飛び水晶 浮遊
[Statedef 1065]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7023;19
sprpriority = 2
poweradd = 68
velset = 0,0

[state 0,0]
type = varadd
trigger1 = time >= 0
persistent = 18
v = 48
value = -1

[State 0, 0]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "tobi"
ID = 1051
stateno = 1051
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 3001


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶 んあめ下
[Statedef 1070]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7031
sprpriority = 2
poweradd = 68
velset = 0,0

[state 0,0]
type = velset
trigger1 = time <= 8
y = 0

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "tobi"
ID = 1071
stateno = 1071
postype = p1
pos = 30,-35
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶naname本体
[Statedef 1071]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7033
sprpriority = 2
velset = 5.5,5,5

[state 0,0]
type = veladd
triggerall = time = 0
trigger1 = parent,stateno = 1074
trigger2 = parent,stateno = 1075
x = 3.5
y = 3.5

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = random >= 500
value = 7032

[State 200, HitDef]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, SP
damage = 21, 2
getpower = 10
givepower = 6
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 2, 8
sparkno = -1;S8000
sparkxy = 0, -30
hitsound = -1;S180, 0
guardsound = S0, 0
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -2,0
air.velocity = -2,0

[state 0,check]
type = parentvaradd
trigger1 = movehit
trigger1 = parent,var(40) % 100 < 10
v = 40
value = 10

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger2 = frontedgedist <= -50
trigger3 = pos y >= -3
value = 1072

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶naname本体 地面
[Statedef 1072]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7034
sprpriority = 3
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 180, 0
volume = -20

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶 んあめ下2
[Statedef 1074]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7031
sprpriority = 2
poweradd = 68
velset = 0,0

[state 0,0]
type = velset
trigger1 = time <= 12
y = 0

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "tobi"
ID = 1071
stateno = 1071
postype = p1
pos = 30,-35
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶 んあめ下
[Statedef 1075]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7031
sprpriority = 2
poweradd = 68
velset = 0,0

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,0
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 2
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000

[state 0,0]
type = velset
trigger1 = time <= 58
y = 0

[State 0, 0]
type = Helper
trigger1 = time >= 8
persistent = 5
helpertype = normal
name = "tobi"
ID = 1071
stateno = 1078
postype = p1
pos = 30,-35
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;飛び水晶本体
[Statedef 1078]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7035
sprpriority = 2
velset = 7,7

[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 600
y = 2
[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 600
y = 1
[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 600
y = -2
[state 0,0]
type = posadd
trigger1 = time = 0
trigger1 = random >= 700
y = -2

[state 0,0]
type = veladd
trigger1 = time = 0
trigger1 = random >= 600
x = 1
[state 0,0]
type = veladd
trigger1 = time = 1
trigger1 = random >= 500
x = 0.7
[state 0,0]
type = veladd
trigger1 = time = 0
trigger1 = random >= 400
x = 1.5

[state 0,0]
type = veladd
trigger1 = time = 1
trigger1 = parent,command = "holddown"
y = 1
[state 0,0]
type = veladd
trigger1 = time = 1
trigger1 = parent,command = "holdup"
y = -1

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = random >= 500
value = 7036

[State 200, HitDef]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, HP
damage = 7, 2
getpower = 10
givepower = 6
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, hit
pausetime = 1, 10
sparkno = -1;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2,0
air.velocity = -2,0

[state 0,check]
type = parentvaradd
trigger1 = movehit
trigger1 = parent,var(40) % 100 < 10
v = 40
value = 10

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger2 = frontedgedist <= -50
value = 1072

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 1079

;---------------------------------------------------------------------------
;飛び水晶naname本体 地面
[Statedef 1079]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7034
sprpriority = 3
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 180, 0
volume = -20

[state 0,0]
type = changestate
trigger1 = time = 1
trigger1 = random >= 750
value = 1077

[state 0,0]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;水晶
[Statedef 1077]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 231
poweradd = 30
sprpriority = 3

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
ignorehitpause = 1
value = 0

[State 200, 3]
type = Changeanim
triggerall = anim = 231
triggerall = parent,stateno = 1020
trigger1 = time >= 2
value = 234

[state 0,check]
type = parentvaradd
trigger1 = movehit
trigger1 = parent,var(40) % 100 < 10
v = 40
value = 10

[state 0,0]
type = posset
trigger1 = 1
y = 0

[state 0,0]
type = palfx
trigger1 = time = 0
time = 3
mul = 25,25,25
[state 0,0]
type = palfx
trigger1 = time = 3
time = 2
mul = 75,75,75

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 26
attr = A, HA
damage = 20, 0
getpower = 8
givepower = 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 2, 2
sparkno = 0;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -1,-4
air.velocity = -1,-3.5
air.fall = 1

[State 200, 3]
type = ChangeState
triggerall = anim = 231
trigger1 = Time = 100
value = 233
[State 200, 3]
type = ChangeState
triggerall = anim != 231
trigger1 = Time = 420
value = 233

[State 3000, NotHitby]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 0, shild]
type = HitOverride
trigger1 = 1
time = 1
attr = SAC, NA, SA, HA, NP, SP, HP
stateno = 232
IgnoreHitPause = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;牡丹
[Statedef 1090]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7044;1
sprpriority = 2
poweradd = 82
velset = 0,0
juggle = 2

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.65
persistent = 0

[state 0,0]
type = velset
triggerall = Numhelper(2990) = 0
trigger1 = time <= 22
x = 0
y = 0

[State 0, 0]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "botan"
ID = 1091
stateno = 1091
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 0,0]
type = posset
trigger1 = pos y >= -5
y = -5

[State 210, 3]
type = ChangeState
trigger1 = time >= 28
value = 5040

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HA
damage = 90, 4
getpower = 95
givepower = 20
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 6, Hit
pausetime = 0, 7
guard.pausetime = 0, 7
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3,-4
air.velocity = -3,-6
fall = 1
air.fall = 1
fall.recovertime = 35

[state 0,check]
type = varadd
trigger1 = movehit
trigger1 = var(40) % 1000 < 100
v = 40
value = 100

;---------------------------------------------------
;牡丹 攻撃判定
[Statedef 1091]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7042
sprpriority = 4
velset = 0,0
juggle = 2

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = -30,0

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,stateno != 1090
trigger2 = time >= 6


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;牡丹2
[Statedef 1092]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7043;1
sprpriority = 2
poweradd = 82
velset = 0,0

[state 0,0]
type = velset
triggerall = Numhelper(2990) = 0
trigger1 = time <= 35
x = 0
y = 0


[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.65
persistent = 0


[State 0, 0]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "botan"
ID = 1091
stateno = 1093
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 0,0]
type = posset
trigger1 = pos y >= -5
y = -5

[State 210, 3]
type = ChangeState
trigger1 = time >= 35
value = 5040



[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HA
damage = 98, 4
getpower = 95
givepower = 20
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 6, Hit
pausetime = 0, 7
guard.pausetime = 0, 7
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3,-4.8
air.velocity = -3,-6.6
fall = 1
air.fall = 1
fall.recovertime = 35

[state 0,check]
type = varadd
trigger1 = movehit
trigger1 = var(40) % 1000 < 100
v = 40
value = 100

;---------------------------------------------------
;牡丹 攻撃判定2
[Statedef 1093]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7042
sprpriority = 4
velset = 0,0

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 0,0


[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,stateno != 1092
trigger2 = time >= 6




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;バイオリン 「反撃のパルティータ」
[Statedef 1100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1100
sprpriority = 0

[state 0,0]
type = palfx
trigger1 = time = 1
trigger2 = time = 11
time = 5
add = 50,100,50

[State 3000, NotHitby]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 0, shild]
type = HitOverride
trigger1 = time = 0
time = 20
attr = SCA, NA, SA, HA
stateno = 1101
IgnoreHitPause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------
;バイオリン 「反撃のパルティータ」発動
[Statedef 1101]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1101
sprpriority = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 300,6
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 150
value = 300,7

[state 0,0]
type = pause
trigger1 = time = 0
time = 150
movetime = 150

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HP
damage = 140, 140
getpower = 150
givepower = 70
animtype = heavy
hitflag = MAF
priority = 6, Hit
pausetime = 1, 7
guard.pausetime = 1, 7
sparkno = 1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -6.6,-5
air.velocity = -6.6,-4
fall = 1
air.fall = 1
fall.recover = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1























;---------------------------------------------------------------------------
;一撃
[Statedef 9910]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 7061
sprpriority = 2
velset = 0,0

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 1
postype = left
pos = -25,-10
anim = F6000;1
ownpal = 1
keyctrl = 0
sprpriority = -5
bindtime = -1
supermovetime = 9999
removetime = 1000
scale = 1,1.2
removeongethit = 1
id = 6000

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 300,4
channel = 0

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,0
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 4

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 70
movetime = 70
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -2000

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,10

[State 0, 0]
type = Helper
trigger1 = time = 77
persistent = 0
helpertype = normal
name = "itigeki"
ID = 9911
stateno = 9911
postype = p1
pos = 20,0
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 200
value = 0
ctrl = 1

[state 0,0]
type = varset
trigger1 = time = 100
v = 40
value = 0

;---------------------------------------------------------------------------
;水晶
[Statedef 9911]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7060
sprpriority = 3
velset = 0,0

[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 3

[state 0,0]
type = allpalfx
trigger1 = time <= 49
time = 1
add = 255- (time*5),255- (time*5),255- (time*5)

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
ignorehitpause = 1
value = 0

[state 0,0]
type = palfx
trigger1 = time = 0
time = 3
mul = 25,25,25
[state 0,0]
type = palfx
trigger1 = time = 3
time = 2
mul = 75,75,75

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = S, HA
damage = 1099, 0
getpower = 0
givepower = 155
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 0, 2
sparkno = -1;S8000
sparkxy = 0, -30
hitsound = S200, 5
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -1,-8
air.velocity = 0,0
p2stateno = 9912

[state 0,0]
type = destroyself
triggerall = time >= 100
trigger1 = enemy,life >= 1
trigger2 = roundstate = 2

;---------------------------------------------------------------------------
;相手側
[Statedef 9912]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030
sprpriority = 0
velset = 0,0

[state 0,0]
type = lifeset
trigger1 = time = 0
value = 0

[State 3000, 0]
type = Explod
trigger1 = life = 0
trigger1 = time = 1
anim = 5030
pos = 0,0
ownpal = 0
removetime = -1
sprpriority = 0
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible

[state 0,0]
type = posset
trigger1 = life = 0
trigger1 = time >=2
y = 1000

[State 210, 3]
type = selfState
trigger1 = time >=2
trigger1 = life = 0
value = 5150
ctrl = 0

[State 210, 3]
type = selfState
trigger1 = time = 2
trigger1 = life >= 1
value = 5050
ctrl = 0


;---------------------------------------------------------------------------
;水晶乱舞
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 7028;19
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 300,4
channel = 0

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,4
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 80
movetime = 80
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -2000

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,10

[State 0, 0]
type = Helper
trigger1 = time = 1
persistent = 0
helpertype = normal
name = "suishou"
ID = 2000
stateno = 2005
postype = p1
pos = time*2,var(19)
keyctrl = 0
ownpal = 1
supermovetime = 4

[State 210, 3]
type = ChangeState
trigger1 = time = 160
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;水晶
[Statedef 2001]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 201
sprpriority = 3

[state 0,0]
type = varrandom
trigger1 = time = 0
v = 19
range = -5,5

[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = var(19)

[state 0,0]
type = changeanim
trigger1 = random >= 500
trigger1 = time = 0
value = 7013

[state 0,0]
type = changeanim
trigger1 = random >= 500
trigger1 = time = 0
value = 231

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
ignorehitpause = 1
value = 0

[State 200, 3]
type = Changeanim
triggerall = anim = 201
triggerall = parent,stateno = 1020
trigger1 = time >= 2
value = 204

[State 0, 0]
type = null;Helper
triggerall = parent,stateno = 1020
trigger1 = time >= 2
persistent = 0
helpertype = normal
name = "top"
ID = 1021
stateno = 1021
;postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1



[state 0,0]
type = palfx
trigger1 = time = 0
time = 3
mul = 25,25,25
[state 0,0]
type = palfx
trigger1 = time = 3
time = 2
mul = 75,75,75

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 26
attr = S, HA
damage = 15, 0
getpower = 8
givepower = 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 2, 2
sparkno = 0;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -1,-4
air.velocity = -1,-3.5
air.fall = 1

[State 200, 3]
type = ChangeState
trigger1 = Time = 100
value = 203

[State 3000, NotHitby]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 0, shild]
type = HitOverride
trigger1 = 1
time = 1
attr = SAC, NA, SA, HA, NP, SP, HP
stateno = 202
IgnoreHitPause = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;水晶へるぱー
[Statedef 2005]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = -5

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = -360,360

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,10

[State 0, 0]
type = Helper
triggerall = Numhelper(2000) <= 10
trigger1 = time >= 10
persistent = 20
helpertype = normal
name = "suishou"
ID = 2000
stateno = 2001
postype = p1
pos = var(18),var(19)
keyctrl = 0
ownpal = 1
supermovetime = 4

[state 0,0]
type = destroyself
trigger1 = time = 600

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;広域水晶
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7028
sprpriority = 2

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,4
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 4

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 70
movetime = 4
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -2000

[State 0, 0]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "zentai"
ID = 2011
stateno = 2011
postype = left
pos = 0,-240
keyctrl = 0
ownpal = 1
ontop = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;全体水晶
[Statedef 2011]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7029
sprpriority = 5

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7030
postype = left
pos = 0,0
bindtime = -1
ownpal = 1
sprpriority = 5
ignorehitpause = 1
removeongethit = 1

[state 0,0]
type = null;bindtoparent
trigger1 = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0, 0]
type = null;PosSet
trigger1 = 1
;persistent = 0
Y = 0

[state 0, 0]
type = PosSet
trigger1 = 1
;persistent = 50
X = (319-ScreenPos X)
Y = (239-ScreenPos Y) -250

[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5

[state 0,0]
type = palfx
trigger1 = time = 0
time = 3
mul = 25,25,25
[state 0,0]
type = palfx
trigger1 = time = 3
time = 2
mul = 75,75,75

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 60
attr = S, HA
damage = 15, 1
getpower = 0
givepower = 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 2, 2
sparkno = 0;S8000
sparkxy = 0, -30
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -6,0
air.velocity = -6,-1.5

[State 200, 3]
type = destroyself;ChangeState
trigger1 = Time >= 9300



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;捕獲水晶
[Statedef 2170]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7058
sprpriority = 2
poweradd = 0
velset = 0,0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 200,1
channel = 0

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,4
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -2000

[state 0,0]
type = veladd
trigger1 = time >= 80
y = 0.45

[State 0, 0]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "hantei"
ID = 2170
stateno = 2171
postype = p1
pos = 60,-50
keyctrl = 0
ownpal = 1
supermovetime = 90

[State 210, 3]
type = ChangeState
trigger1 = time >= 80
value = 5040
ctrl = 0

[state 0,check]
type = varadd
trigger1 = movehit
trigger1 = var(40) % 100000 < 10000
v = 40
value = 10000

[State 200, HitDef]
type = HitDef
trigger1 = time >= 59
persistent = 0
attr = A, HT
damage = 100, 0
getpower = 0
givepower = 80
animtype = Light
;guardflag = A
hitflag = AF
priority = 3, miss
pausetime = 2, 0
sparkno = -1;S8000
sparkxy = 0, -30
hitsound = S51, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 2
ground.hittime  = 2
ground.velocity = 0,0
air.velocity = 0,0
p2stateno = 2172


;---:::::::::::::::::::::::::::::::::::::::::::::
;ほかく水晶
[Statedef 2171]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[state 0,0]
type = null;bindtoparent
trigger1 = 1


[State 3000, s]
type = Explod
trigger1 = time >= 1
anim = 7059
postype = p1
pos = 0,0
ownpal = 0
sprpriority = 4
supermovetime =93
removeongethit = 1
bindtime = -1
scale = (time*0.12),(time*0.12)

[state 0,0]
type = bgpalfx
trigger1 = time = 0
time = 10
mul = 200,130,220

[state 0,0]
type = destroyself
trigger1 = time = 10


;---:::::::::::::::::::::::::::::::::::::::::::::
;ほかくされたきみ
[Statedef 2172]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030
sprpriority = 5
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 2

[state 0,0]
type = posadd
trigger1 = time >= 2
persistent = 4
x = 1
[state 0,0]
type = posadd
trigger1 = time >= 4
persistent = 4
x = -1


[state 0,0]
type = palfx
trigger1 = 1
time = 10
add = 110,90,220

[state 0,0]
type = lifeadd
trigger1 = time >= 1
value = -1
persistent = 2
kill = 0
[state 0,0]
type = poweradd
trigger1 = time >= 1
value = -2

[State 210, 3]
type = Changeanim
trigger1 = 1
value = 5030

[state 0,0]
type = velset
trigger1 = time = 95
y = 2
[state 0,0]
type = veladd
trigger1 = time >= 95
y = 0.45

[state 0,0]
type = selfstate
trigger1 = pos y >= 0
value = 5050























;------------------------------------------------------
;JX 蹴り
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 600
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 1
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(47) > 1
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(47) >= 1
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 100,1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.78
persistent = 0

[State 200, HitDef1]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = A, NA
damage = ifelse(var(39)=1,34,31), 0
getpower = ifelse(var(50)=0,15,0)
givepower = 4
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 4, ifelse(var(37)=1,9,7)
guard.pausetime = 5, 11
sparkno = 0
sparkxy = -8, -55
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,12,8)
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,7,8)
air.slidetime = ifelse(var(37)=1,15,12)
air.hittime  = ifelse(var(37)=1,15,12)
ground.velocity = -2,0
air.velocity = -1,-3
ground.cornerpush.veloff = -3

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040


;------------------------------------------------------
;J2Y 蹴り落ち
[Statedef 605]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 625
sprpriority = 2
poweradd = 0
velset = 0,0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,4

[state 0,0]
type = velset
trigger1 = time <= 6
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time >= 7
x = 2.5
y = 10

[state 0,0]
type = playsnd
trigger1 = time = 3
value = 100,1

[State 200, HitDef1]
type = HitDef
persistent = 0
triggerall = anim = 625
trigger1 = time >= 2
attr = A, NA
damage = 50, 0
getpower = ifelse(var(50)=0,70,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 15, 18
guard.pausetime = 10, 8
sparkno = 2
sparkxy = -8, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = ifelse(enemy,statetype = C,15,12)
ground.velocity = -2,0
air.velocity = -2,-4
ground.cornerpush.veloff = -3

[State 200, HitDef1]
type = HitDef
persistent = 3
triggerall = anim = 626
trigger1 = time >= 2
attr = A, NA
damage = 18, 0
getpower = ifelse(var(50)=0,10,0)
givepower = 2
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 1, 4
guard.pausetime = 4, 6
sparkno = 2
sparkxy = -8, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = ifelse(enemy,statetype = C,15,12)
ground.velocity = -2,0
air.velocity = -2,2
ground.cornerpush.veloff = -3

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 626
trigger1 = movehit
value = 626



;------------------------------------------------------
;JY けり
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 610
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(47) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(47) >= 100
fvar(5) = fvar(5)*0.88
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201
scale = 0.5,0.5



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.88
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 6
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,44,41), 0
getpower = ifelse(var(50)=0,70,0)
givepower = 15
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 6, ifelse(var(37)=1,10,7)
guard.pausetime = 6, 7
sparkno = 1
sparkxy = -8, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,14,11)
ground.hittime  =  ifelse(enemy,gethitvar(hitcount) >= 3,10,18)
air.slidetime = ifelse(var(37)=1,17,13)
air.hittime  = ifelse(var(37)=1,17,13)
ground.velocity = -1.6,0
air.velocity = -1,-5.5
;fall = 1
fall.recovertime = 10
air.fall = 1
;p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(47) % 1000 < 100
;trigger1 = p2bodydist x = [0,55]
value = 620

;------------------------------------------------------
;JZ 　けり
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 620
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 100
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.9
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,56,52), 0
getpower = ifelse(var(50)=0,100,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,8), ifelse(var(37)=1,22,11)
guard.pausetime = 8, 8
sparkno = 2
sparkxy = 0, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,12,23)
ground.velocity = -3,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3.5,-2.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,140,28)
envshake.time = 10
envshake.ampl = 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
trigger1 = var(47) % 10000 < 1000
value = 630

[State 210, 2]
type = PlaySnd
trigger1 = time = 5
value = 200, 1
channel = 0

[State 210, 3]
type = ChangeState
triggerall = var(59) = 0
trigger1 = time = 4
trigger1 = command = "holdz"
value = 625
ctrl = 0

;---------ブローバック------------------------------
[Statedef 625]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 621
sprpriority = 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 0,14
persistent = 0


[State 210, 3]
type = ChangeState
trigger1 = time = [2, 10]
trigger1 = command != "holdz"
value = 626

[State 210, 2]
type = PlaySnd
trigger1 = time = 9
value = 30, 0
[State 0, c]
type = Explod
trigger1 = time = 9
anim = 7333
;scale = 0.5,0.5
postype = p1
pos = 10,-98
ownpal = 1
sprpriority = 5
bindtime = -1

[State 210, 3]
type = ChangeState
trigger1 = time = [10, 15]
trigger1 = command != "holdz"
value = 627
[State 210, 3]
type = ChangeState
trigger1 = time = [16, 20]
trigger1 = command != "holdz"
trigger2 = time >= 21
value = 628


;------------------------------------------------------
;JZ
[Statedef 626]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 622
sprpriority = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 1
channel = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,56,52), 0
getpower = ifelse(var(50)=0,100,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,8), ifelse(var(37)=1,22,11)
guard.pausetime = 8, 8
sparkno = 2
sparkxy = 0, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,12,23)
ground.velocity = -3,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3.5,-5.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,140,30)
envshake.time = 10
envshake.ampl = 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 3
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
trigger1 = var(47) % 10000 < 1000
value = 630


;------------------------------------------------------
;JZ
[Statedef 627]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 622
sprpriority = 2


[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 1
channel = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,61,58), 0
getpower = ifelse(var(50)=0,100,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,9), ifelse(var(37)=1,25,18)
guard.pausetime = 8, 8
sparkno = 2
sparkxy = 0, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,14,25)
ground.velocity = -3,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3.5,-5.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,140,30)
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
trigger1 = var(47) % 10000 < 1000
value = 630


;------------------------------------------------------
;JZ
[Statedef 628]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 622
sprpriority = 2


[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 200, 1
channel = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,61,58), 0
getpower = ifelse(var(50)=0,100,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,9), ifelse(var(37)=1,25,18)
guard.pausetime = 8, 8
sparkno = 2
sparkxy = 0, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,14,25)
ground.velocity = -3,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3.5,-5.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,140,30)
envshake.time = 10
envshake.ampl = 2

[State 0, 0]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "kokken"
stateno = 2124
postype = p1
pos = 24,-75
keyctrl = 0
ownpal = 1
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
trigger1 = var(47) % 10000 < 1000
value = 630


;------------------------------------------------------
;JZ きゅうそくるくるけん
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 7427;650
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 1000
persistent = 0


[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [2,12]
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 0, 0]
type = null;Helper
trigger1 = time = 4
helpertype = normal
name = "effect"
ID = 625
stateno = 625
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,35,32), 0
getpower = ifelse(var(50)=0,30,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,8), ifelse(var(37)=1,22,11)
guard.pausetime = 8, 13
sparkno = 2
sparkxy = -8, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,12,23)
ground.velocity = -2,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3,2.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,40,30)
envshake.time = 10
envshake.ampl = 2
p2stateno = 621

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = null;Changestate
triggerall = var(59) = 1
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 626

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 626]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
triggerall = prevstateno != 3550
triggerall = prevstateno != 2170
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
triggerall = prevstateno = 905
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 9929;JUMPLAND

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND


;------------------------------------------
; 空中ダッシュaiair dash
[Statedef 631]
type    = A
movetype= I
physics = N
ctrl = 1
anim = 107
sprpriority = 2

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7066
postype = p1
pos = 10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 105, 1]
type = VelSet
trigger1 = Time <= 8
x = 5.5
y = -1.8

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = velset
trigger1 = time <= 1
x = 7

[state 0,0]
type = veladd
trigger1 = time >= 1
y = 0.45

[State 1000, 3]
type = ChangeState
trigger1 = time >= 20
value = 51
ctrl = 1

[State 1000, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 9
value = 620

;---------------------------------------------------------------------------
; AiAirJump Start
[Statedef 633]
type    = A
physics = N
ctrl = 0
velset = 0,0

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

;方向転換
[State 1510, Turn]
type = Turn
Trigger1 = P2Dist X < 0


[State 45, 3]
type = VarSet
trigger1 = Time = 0
var(32) = 1

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 634
ctrl = 1

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 634]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = p2dist y = [-30,30]
value = 610

;------------------------------------------------------
;JZ エフェクト
[Statedef 625]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 622
sprpriority = 3

[state 0,0]
type = bindtoparent
trigger1 = time >= 0
pos = -30,0

[State 210, 3]
type = destroyself
trigger1 = parent,stateno != 620
trigger2 = animtime = 0

;------------------------------------------------------
;相手
[Statedef 621]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070;60
velset = -2,10

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = selfstate
triggerall = pos y >= -1
;triggerall = gethitvar(hitcount) >= 20
trigger1 = command = "down"
trigger2 = command = "up"
value = 5100

[state 0,0]
type = changestate
trigger1 = pos y >= 0
;trigger2 = statetype != A
value = 622

[state 0,0]
type = velset
trigger1 = prevstateno = 622
y = ifelse(gethitvar(hitcount)<=4,-8,-5)

;------------------------------------------------------
;あ痛(イテ)２
[Statedef 622]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070
velset = 0,ifelse(gethitvar(hitcount)<35,-8 + gethitvar(hitcount)*0.2, -1)

[state 0,0]
type = playsnd
trigger1 = time = 0
value = F7,2

[state 0,0]
type = null;velset
trigger1 = time = 0
;trigger1 = gethitvar(hitcount) <= 1
x = -5

[state 0,0]
type = veladd
trigger1 = time >= 2
y = 0.45

[state 0,0]
type = selfstate
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 5110


;---------------------------------------------------------------------------
; 復帰　真上
[Statedef 623]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = 0
y = -7

[State 10050, 0]
type = Veladd
trigger1 = Time >= 2
y = 0.3

[State 10050, 2]
type = selfState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;---------------------------------------------------------------------------
; 復帰　うしろ

[Statedef 624]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = -4
y = -6.5

[State 10050, 2]
type = selfState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;---------------------------------------------------------------------------
; 復帰　

[Statedef 625]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = -4
y = -6.5

[State 10050, 2]
type = selfState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;------------------------------------------------------
;JY
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0
anim = 615
sprpriority = 2
poweradd = 29

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.9
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, NA
damage = 61, 0
getpower = 45
givepower = 12
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
guard.pausetime = 5, 5
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,-9
air.velocity = -1,11
fall = 1
air.fall = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52



;------------------------------------------------------
;JY 普通パンチら
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 600
sprpriority = 2
poweradd = 29

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = 0.9
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, NA
damage = 55, 0
getpower = 45
givepower = 12
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 8, 10
guard.pausetime = 5, 5
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -3,0
air.velocity = -1,-2
air.fall = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = ChangeState
triggerall = var(59) = 0
trigger1 = time = 17
trigger1 = command = "holdz"
value = 621
ctrl = 0


;------------------------------------------------------
;JA
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 630
sprpriority = 2
poweradd = 29

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 100, 1

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, NA
damage = 34, 0
getpower = 25
givepower = 12
animtype = medium
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 6
guard.pausetime = 5, 3
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-4
air.fall = 1
p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52


;------------------------------------------------------
;JB
[Statedef 640]
type    = A
movetype= A
physics = A
;juggle  = 5
ctrl = 0
anim = 630
sprpriority = 2
poweradd = 29

[state 0,0]
type = veladd
trigger1 = time <= 5
y = -0.2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, NA
damage = 60, 0
getpower = 5
givepower = 2
animtype = medium
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 5
guard.pausetime = 2, 3
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-12
air.velocity = -2.5,-4
ground.cornerpush.veloff = -3
fall = 1
air.fall = 1
fall.recovertime = 42
p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52


[State 0, 0]
type = PlaySnd
trigger1 = time = 7
value = 100, 1


;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = A
physics = N
ctrl = 0
anim = 105
sprpriority = 1
velset = 0,0

;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 3
;value = 31, 6

[state 0,0]
type = velset
trigger1 = time = 5
x = -5.5

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 52;0
ctrl = 1

;---------------------------------------------------------------------------
; RUN_BACK2
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106
sprpriority = 1
velset = 0,0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,1

[State 105, 1]
type = posset
trigger1 = Time >= 0
y = 0

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;壁までふっとび

[Statedef 612]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = posadd
trigger1 = prevstateno = 906
trigger1 = time = 0
y = 55

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = 0

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 613


;---------------------------------------------------------------------------
;壁バウンド

[Statedef 613]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = lifeadd
triggerall = enemy,numhelper(2011) >= 1
trigger1 = time = 0
value = -15

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
triggerall = prevstateno != 3501
trigger1 = time = 5
x = 0.4
y = -7.2
[state 0,0]
type = velset
triggerall = prevstateno = 3501
trigger1 = time = 5
x = 0.4
y = -4.2

[State 3900, NotHitBy]
type = NotHitBy
triggerall = prevstateno = 3501
trigger1 = Time >= 0
value = SCA
time = 2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100


;---------------------

[Statedef 1405]
type    = A
physics = A
ctrl = 1

[State 1405, 1a]
type = VelAdd
triggerall = Vel X >= -2
trigger1 = command = "holdback"
trigger1 = Anim != 43
x = -0.1

[State 1405, 1b]
type = VelAdd
triggerall = Vel X <= 2.5
trigger1 = command = "holdfwd"
trigger1 = Anim != 42
x = 0.25



;------------------------------------------
; 空中ダッシュair dash
[Statedef 234]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7414;107
sprpriority = 2

[State 105, 2]
type = CtrlSet
trigger1 = var(41) = 0
trigger1 = Time = 5
value = 1
[State 105, 2]
type = CtrlSet
trigger1 = var(41) != 0
trigger1 = Time >= 0
value = 1

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -15,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = -12,12

[State 701, Effect]
type = Explod
trigger1 = Time = [0,10]
anim = 7124
postype = p1
pos = -5,-65
random = 10,40
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.05,0.05
vel = var(19)*0.5,var(18)*0.5


[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7067
postype = p1
pos = 10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 105, 1]
type = VelSet
trigger1 = Time <= 5
x = 6
y = -3

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = velset
trigger1 = time >= 25
x = 2.2

[State 1000, 3]
type = Changeanim
trigger1 = time = 25
value = 45

[State 1000, 3]
type = ChangeState
trigger1 = time >= 28
value = 51
ctrl = 1

[State 1000, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 0
trigger1 = p2bodydist x = [-5,35]
trigger2 = p2bodydist y = [-45,55]
value = 620
ctrl = 0



;---------------------------------------------------------------------------
; AIR=RUN_BACK
[Statedef 235]
type    = A
physics = N
ctrl = 0
anim = 105
sprpriority = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7067
postype = p1
facing = -1
pos = -10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[state 0,0]
type = veladd
trigger1 = time >= 10
y = 0.45

[State 100, 2]
type = null;Afterimage
trigger1 = Time = 1
;trigger1 = gametime % 6 = 0
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 100, 2]
type = null;Afterimage
trigger1 = Time = 0
time = 15
length = 15
Trans = Add1
PalBright = 0,  0,  0
PalContrast = 128,128,256
PalAdd = 0,  0,  0
PalMul = 1,1,1
FrameGap = 4
[state 0,0]
type = playerpush
trigger1 = time >= 0
value = 0



[State 105, 1]
type = VelSet
trigger1 = Time <= 8
x = -5
y = -2

[State 1000, 3]
type = Changeanim
trigger1 = animtime = 0
value = 46

[state 0,0]
type = velset
trigger1 = time = 16
x = -2

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

[state 0,0]
type = varset
trigger1 = time = 1
var(5) = 1



;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[state 2, kihon]
type = varset
trigger1 = time = 0
v = 52
value = 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[State 12, 1]
type = Changeanim
trigger1 = var(21) = 1
trigger1 = anim != 2001
value = 2001

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
triggerall = Numhelper(1045) = 0
trigger1 = Time = 3
trigger1 = prevstateno != 630
trigger1 = prevstateno != [9920,9929]
trigger2 = Time = 12
trigger2 = prevstateno = [9920,9929]
trigger3 = prevstateno = 630
trigger3 = Time = 8
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 12, 1]
type = Changeanim
trigger1 = prevstateno = 1081
trigger1 = time = 0
value = 7077


;---------------------------------------------------------------------------
; Jump Land
[Statedef 9929]
type    = S
physics = S
ctrl = 0
anim = 7019

[State 12, 1]
type = null;Changeanim
trigger1 = prevstateno = [9921,9922]
trigger1 = time = 0
value = 7077

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[State 12, 1]
type = Changeanim
trigger1 = var(21) = 1
trigger1 = anim != 2001
value = 2001

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 52, 4]
type = ChangeState
trigger1 = stateno = 1110
trigger1 = time = 4
value = 0
ctrl = 1



;------------------------------------------
; 苺わだち（弱
[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd =70
ctrl = 0
anim = 7019
sprpriority = 2

[State 190,1]
type = VarRandom
trigger1 = time >= 1
v = 18
range = -15,15
[State 190,1]
type = VarRandom
trigger1 = time >= 1
v = 19
range = -20,20

[state 0,0]
type = palfx
trigger1 = time = 9
add = 30,19,19
time = 5

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 10
value = 0,61

[State 1000, ichigo]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "itigo"
postype = p1
pos = 2,-3
stateno = 3501
ownpal = 1
id = 3501
keyctrl = 0

[State 1000, 3]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1


;------------------------------------------
; 苺わだち本体

[Statedef 3501]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 7045
sprpriority = 4

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,0]
type = palfx
trigger1 = time = 0
add = 10,190,10
time = 3

[State 200, HitDef]
type = HitDef
trigger1 = time >= 1
attr = C, SA
persistent = 0
damage = 10, 1
getpower = 20
givepower = 19
animtype = medium
guardflag = M;L
hitflag = M
priority = 4, Hit
pausetime = 1, 7
;guard.sparkno = S8003
sparkno = -1
sparkxy = 0, 0
hitsound = S0, 61
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 10
ground.velocity = -1,0
air.velocity = -2,-1
p2stateno = 3503
kill = 0


[state 0,0]
type = changestate
trigger1 = movehit
;trigger2 = animtime = 0
value = 3502

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;------------------------------------------
; 苺わだち、相手にからまる、消える

[Statedef 3502]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
;anim = 7047
sprpriority = 4

[State 1000, 0]
type = Explod
trigger1 = time = 0
anim = 7047
postype = p2
pos = -10,0
random = 22,0
ownpal = 1
ignorehitpause = 1
sprpriority = 5
id = 7007

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,0]
type = destroyself
trigger1 = animtime = 0



;------------------------------------------
; からまれたカラダ。

[Statedef 3503]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd =20
ctrl = 0
sprpriority = 2
velset = 0,0

[State 190,1]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5300

[state 0,0]
type = Changeanim
trigger1 = name = "shinku-D"
trigger1 = var(20) = 1
trigger1 = time <= 1
value = 15351

[state 0,0]
type = Changeanim2
triggerall = anim != 5351
trigger1 = name = "Suigintou-D"
trigger2 = name = "Hinaichigo-D"
trigger3 = name = "Suisei-D"
trigger4 = name = "Shinku-D"
trigger4 = var(20) = 0
trigger5 = name = "Barasy-D"
trigger6 = name = "Kanaria-D"
value = 5351

[State 1000, 3]
type = selfstate
trigger1 = time >= 80
value = 5050
ctrl = 1


;------------------------------------------
;真紅　ふぅーっ
[Statedef 3510]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd =0
ctrl = 0
anim = 7048
sprpriority = 2
velset = 0,0

[State 3000, Cut in]
type = Explod
trigger1 = time = 1
anim = 9001
postype = Back
pos = -150,4
ownpal = 1
sprpriority = -2
supermovetime =93
removeongethit = 1
bindtime = -1

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 70
movetime = 70
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000

[State 1000, 0]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "huuu"
postype = p1
pos = 12,-51
stateno = 3511
ownpal = 1
id = 3511
keyctrl = 0
supermovetime = 20

[State 1000, 3]
type = ChangeState
trigger1 = time >= 115
value = 0
Ctrl = 1


;------------------------------------------
;バラがとんでく
[Statedef 3511]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7049
sprpriority = 4
vel = 4.5,0

[state 0,0]
type = veladd
trigger1 = time = 0
x = 3

[state 0,0]
type = veladd
trigger1 = time <= 2
trigger1 = p2dist y >= 40
y = 0.1

[state 0,0]
type = veladd
trigger1 = time <= 2
trigger1 = p2dist y <= -20
y = -0.1

[State 225, 1]
type = HitDef
trigger1 = animelem >= 1
attr = A, HT
animtype  = up
damage    = 15,10
getpower = 0
givepower = 40
hitflag = MAFD
priority = 4, Hit
pausetime = 1,1
;guard.sparkno = S8003
sparkno = -1
sparkxy = -5,-13
hitsound   = -1;S101, 2
guardsound = -1;S0, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -4,0
air.type = Low
air.velocity = -4,-3
p2stateno = 2512
kill = 0

[state 0,0]
type = destroyself
trigger1 = movecontact
trigger2 = pos y = 0
trigger3 = frontedgedist <= -20
trigger4 = time >= 350


;---------------------------------------------------------------------------
;ふぅ〜っの虜
[Statedef 2512]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
velset = 0,0
anim = 5090

[state 0,0]
type = Changeanim
triggerall = anim != 5350
trigger1 = name = "Suigintou-D"
trigger2 = name = "Hinaichigo-D"
trigger3 = name = "Suisei-D"
trigger4 = name = "Shinku-D"
trigger4 = var(20) = 0
trigger5 = name = "Barasy-D"
trigger6 = name = "Kanaria-D"
value = 5350

[state 0,0]
type = Changeanim
trigger1 = name = "shinku-D"
trigger1 = var(20) = 1
trigger1 = time <= 1
value = 15350

[state 0,0]
type = posadd
triggerall = time <= 60
trigger1 = gametime % 2 = 0
trigger1 = pos y >= -18
y = -1

[state 0,0]
type = posadd
triggerall = time >= 61
trigger1 = gametime % 40 = 0
y = 1

[state 0,0]
type = selfstate
trigger1 = time >= 300
value = 5050

[state 0,0]
type = selfstate
triggerall = time >= 120
triggerall = random >= 750
triggerall = gametime % 3 = 0
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "fwd"
trigger4 = command = "back"
trigger5 = command = "recovery"
value = 5050



;------------------------------------------
;翠星石　如雨露 背後植物
[Statedef 3520]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd =75
ctrl = 0
anim = 7050
sprpriority = 2

[State 3000, n]
type = Explod
trigger1 = time = [7,40]
anim = 7051
postype = p1
pos = 76,-65
ownpal = 1
sprpriority = 3
removeongethit = 1
bindtime = -1
scale = 0.02+(time*0.04),0.1+(time*0.01)

[State 190,1]
type = VarRandom
trigger1 = time >= 1
v = 18
range = -15,15
[State 190,1]
type = VarRandom
trigger1 = time >= 1
v = 19
range = -20,20

[State 1000, mamenoki]
type = Helper
trigger1 = facing = -1
trigger1 = time = 9
helpertype = normal
name = "ki"
stateno = 3521;1111
ownpal = 1
postype = front
pos= 0,0
id = 2041
keyctrl = 0
[State 1000, mamenoki]
type = Helper
trigger1 = facing = 1
trigger1 = time = 9
helpertype = normal
name = "ki"
stateno = 3522;1111
ownpal = 1
postype = front
pos= 0,0
id = 2041
keyctrl = 0

[State 1000, 3]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1


;------------------------------------------
;背後植物
[Statedef 3521]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd =75
ctrl = 0
anim = 7052
sprpriority = 5

[State 1000,0]
type = PlaySnd
trigger1 = time = 60
value = 0,62

[state 0,0]
type = envshake
trigger1 = time = 60
time = 5


[state 0,0]
type = posset
trigger1 = 1
x = -161
y = -150

[State 225, 1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
animtype  = Heavy
damage    = 77,3
getpower = 40
givepower = 25
hitflag = MAF
priority = 4, hit
guardflag = MA
pausetime = 0,3
;guard.sparkno = S8003
sparkno = 3;S8002
sparkxy = -5,floor(-40 + p2dist y)
hitsound   = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = 6,-5
air.velocity = 5,-5
fall = 1
air.fall = 1
fall.recovertime = 35
p2facing = -1

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;------------------------------------------
;背後植物
[Statedef 3522]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd =75
ctrl = 0
anim = 7052
sprpriority = 5

[State 1000,0]
type = PlaySnd
trigger1 = time = 60
value = 0,62

[state 0,0]
type = envshake
trigger1 = time = 60
time = 5


[state 0,0]
type = posset
trigger1 = 1
x = 161
y = -150

[State 225, 1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SA
animtype  = Heavy
damage    = 77,3
getpower = 40
givepower = 25
hitflag = MAF
priority = 4, hit
guardflag = MA
pausetime = 0,3
;guard.sparkno = S8003
sparkno = 3;S8002
sparkxy = -5,floor(-40 + p2dist y)
hitsound   = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = 6,-5
air.velocity = 5,-5
fall = 1
air.fall = 1
fall.recovertime = 35
p2facing = -1

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------
;水銀燈　翼
[Statedef 3530]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 70
ctrl = 0
anim = 7053
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 150, 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = S, NA
damage = 70, 2
getpower = 70
givepower = 3
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 1, 8
;;guard.sparkno = S8003
sparkno = 0;S8004
sparkxy = 1, -46
hitsound = S51, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4,-6
air.velocity = -3,-6
air.fall = 1
fall.recovertime = 28

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 10
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1



;------------------------------------------------------
;蒼星石　鋏
[Statedef 3540]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd=53
ctrl = 0
anim = 7054
sprpriority = 2

[state 0,0]
type = varset
trigger1 = time = 0
v = 37
value = 0

[state 0,0]
type = velset
trigger1 = movehit
persistent = 0
y = 0

[state 0,0]
type = varadd
trigger1 = movehit
persistent = 3
v = 37
value = 1

[State 600, 1]
type = HitDef
trigger1 = time >= 2
trigger1 = var(37) <= 2
persistent = 3
attr = A, NA
damage    = 13, 7
getpower = 5
givepower = 5
animtype = Heavy
guardflag = HA
priority = 4, Hit
pausetime = 7,14
;guard.sparkno = S8003
sparkno = 3;S8004
sparkxy = -3,-28
hitsound   = S101, 2
guardsound = S0,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3,0
air.velocity = -3,0

[State 600, 1]
type = HitDef
trigger1 = time >= 2
trigger1 = var(37) >= 3
persistent = 0
attr = A, NA
damage    = 20, 12
getpower = 6
givepower = 9
animtype = Heavy
guardflag = HA
priority = 4, Hit
pausetime = 9,7
;guard.sparkno = S8003
sparkno = 3;S8004
sparkxy = -3,-28
hitsound   = S101, 2
guardsound = S0,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,0
air.velocity = -8,0
fall = 1
p2stateno = 612

[State 610, 2]
type = PlaySnd
trigger1 = anim != 45
trigger1 = AnimElem = 2
value = 100, 2

[State 610, ChangeState]
type = Changeanim
trigger1 = anim != 45
trigger1 = animtime = 0
value = 45
[State 610, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 51

[State 610, ChangeState]
type = ChangeState
trigger1 = movehit
trigger1 = command = "FF"
trigger1 = var(59) = 0
value = 224


;---------------------------------------------------------------------------
;金糸雀　バイオリン 反撃の
[Statedef 3550]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 7060
sprpriority = 0
;velset = 0,0

[state 0,0]
type = palfx
trigger1 = time = 1
trigger2 = time = 11
trigger3 = time = 21
time = 5
;persistent = 10
add = 50,100,50

[State 0, shild]
type = HitOverride
triggerall = pos y <= -1
trigger1 = time = [3,24]
time = 1
attr = SCA, NA, SA, HA
stateno = 3551
IgnoreHitPause = 1

[State 610, ChangeState]
type = Changeanim
trigger1 = time = 26
value = 45

[State 210, 3]
type = ChangeState
trigger1 = time >= 26
value = 5040
ctrl = 0


;---------------------------------------------
;バイオリン 「反撃のパルティータ」発動
[Statedef 3551]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7056
sprpriority = 0

[state 0,0]
type = velset
trigger1 = time <= 15
x = 0
y = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 300,6
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 150
value = 300,7

[State 0, 0]
type = null;Helper
trigger1 = time = 150
persistent = 0
helpertype = normal
name = "hangeki"
ID = 1102
stateno = 1102
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 0,0]
type = pause
trigger1 = time = 0
time = 40
;movetime = 10

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 2
value = 300,7

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, HP
damage = 140, 140
getpower = 150
givepower = 70
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 6, Hit
pausetime = 1, 7
guard.pausetime = 1, 7
sparkno = 1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -6.6,-5
air.velocity = -6.6,-4
fall = 1
air.fall = 1
fall.recover = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 20
value = 51
ctrl = 1



;---------------------------------------------------------------------------
;浮遊 Start
[Statedef 3000]
type = A
movetype = I
physics = A
ctrl = 0
anim = 7027

[State 0, 0]
type = Velset
trigger1 = Time = 0
y = -5

[State 0, 0]
type = ChangeState
Trigger1 = Time >= 10
value = 3001

;---------------------------------------------------------------------------
;浮遊中〜
[Statedef 3001]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0

[state 0,0]
type = varadd
trigger1 = time >= 0
persistent = 18
v = 48
value = -1

[State 0, 0]
type = Changeanim
triggerall = anim != 7027
trigger1 = command = "holddown"
trigger2 = command != "holdback"
trigger2 = command != "holdup"
trigger2 = command != "holdfwd"
value = 7027

[State 0, 0]
type = Changeanim
Trigger1 = command = "holdback"
trigger1 = anim != 3001
value = 105

[State 0, 0]
type = Changeanim
Trigger1 = command = "holdfwd"
trigger1 = anim != 3002
value = 100

;停止
[State 0, Stop]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
;Trigger1 = var(2) = 0
;Trigger2 = Pos Y < -405
x = 0

;停止
[State 0, Stop]
type = VelSet
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
y = 0

;下降
[State 1510, GoDown1]
type = Velset
Trigger1 = command = "holddown"
y = 3

;上昇
[State 1510, GoUp1]
type = Velset
Trigger1 = Pos Y > -240
Trigger1 = command = "holdup"
y = -3

;後退
[State 1510, GoBack1]
type = Velset
Trigger1 = command = "holdback"
x = -3

;前進
[State 1510, GoFwd1]
type = Velset
Trigger1 = command = "holdfwd"
x = 3

;着地しない
[State 1510, Land1]
type = Velset
Trigger1 = Pos Y >= 1
y = -1


;方向転換
[State 1510, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 1510, Land1]
type = ChangeState
triggerall = var(59) = 0
Trigger1 = command = "huyuu"
trigger2 = roundstate >= 3
trigger3 = var(48) <= 1
trigger4 = Numhelper(2990) >= 1
value = 51
ctrl = 1

[State 1510, Land1]
type = ChangeState
triggerall = var(59) = 1
trigger1 = roundstate >= 3
trigger2 = var(48) <= 5
value = 1102
ctrl = 1

[State 1510, 0]
type = ChangeState
;triggerall = var(59) = 0
trigger1 = command = "tobi_a"
trigger1 = time >= 2
value = 1060
[State 1510, 0]
type = ChangeState
;triggerall = var(59) = 0
trigger1 = command = "tobi_b"
trigger1 = time >= 2
value = 1065

[State 1510, 0]
type = ChangeState
;triggerall = var(59) = 0
trigger1 = command = "c"
trigger1 = Numhelper(2990) >= 1
value = 51

[State 1510, 0]
type = ChangeState
;triggerall = var(59) = 0
trigger1 = command = "y"
value = 218

[State 1510, 0]
type = ChangeState
;triggerall = var(59) = 0
trigger1 = command = "b"
value = 248

;---------------------------------------
[Statedef 218]
type    = A
movetype= A
physics = N
juggle  = 2
poweradd= 75
ctrl = 0
anim = 210
sprpriority = 2
velset = 0,0


[state 0,0]
type = varadd
trigger1 = time >= 0
persistent = 18
v = 48
value = -1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0


[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = A, NA
damage = 57, 0
getpower = 70
givepower = 3
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 5, 8
pausetime = 5, 17
;;guard.sparkno = S8003
sparkno = 0;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,-3
p2stateno = 612

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001



[State 1510, Land1]
type = ChangeState
triggerall = var(59) = 0
triggerall = movecontact
Trigger1 = command = "huyuu"
value = 51
ctrl = 1


;---------------------------------------------------------------------------
; 5B
[Statedef 248]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 70
ctrl = 0
anim = 240
sprpriority = 2
velset = 0,0


[state 0,0]
type = varadd
trigger1 = time >= 0
persistent = 18
v = 48
value = -1

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
attr = A, NA
persistent = 0
damage = 22, 0
getpower = 40
givepower = 12
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
;;guard.sparkno = S8003
sparkno = 2;S8002
sparkxy = 0, -42
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -1.2,-8.2
air.velocity = -1,-7.7
fall = 1
air.fall = 1
fall.recovertime = 55;60

[State 217, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001


[State 1510, Land1]
type = ChangeState
triggerall = var(59) = 0
triggerall = movecontact
Trigger1 = command = "huyuu"
value = 51
ctrl = 1


;-------------------------------------------------------------
[Statedef 1102];落下
type    = A
movetype= I
physics = A
anim = 44
ctrl = 0

[State 0,0]
type = ChangeAnim
trigger1 = var(20) = 1
trigger1 = Time = 0
value = 54

[State 1511, 1]
type = VelSet
trigger1 = Pos Y >= 1
y = 1

[State 1511, 2]
type = VelSet
trigger1 = Pos Y = 0
x = 0
y = 0









;---------------------------------------------------------------------------
; AI コンボ用dash
[Statedef 213]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = time = 16
trigger2 = p2dist x <= 60
value = 211



;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = command = "down"
var(18) = 0

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = Numexplod(8999) = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
;triggerall = Numexplod(8999) = 0
trigger1 = AnimTime = 0
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, -2, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "a"
trigger2 = Command = "x"
trigger3 = Command = "y"
trigger4 = Command = "z"
trigger5 = Command = "b"
trigger6 = Command = "c"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "a"
trigger2 = Command = "x"
trigger3 = Command = "y"
trigger4 = Command = "z"
trigger5 = Command = "b"
trigger6 = Command = "c"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

[State 5100, 2]
type = Changestate
triggerall = var(41) = 0 || var(41) = 3
triggerall = alive
triggerall = CanRecover
triggerall = pos y = [-8,0]
trigger1 = command = "up"
value = 10050

[State 5100, 2]
type = Changestate
triggerall = var(41) = 0 || var(41) = 3
triggerall = alive
triggerall = CanRecover
triggerall = pos y = [-8,0]
trigger1 = command = "back"
value = 10051

[State 5100, 2]
type = Changestate
triggerall = var(41) = 0 || var(41) = 3
triggerall = alive
triggerall = CanRecover
triggerall = pos y = [-8,0]
trigger1 = command = "fwd"
value = 10052


;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5110, 1]
type = ChangeAnim
persistent = 0
trigger1 = prevstateno = 5071
trigger2 = enemy,name = "Nagato Yuki"
trigger2 = prevstateno = 8716
value = 5075
[State 5110, 1]
type = ChangeAnim
trigger1 = anim != 5075
trigger1 = enemy,name = "Nagato Yuki"
trigger1 = prevstateno = 8716
value = 5075

[State 5100, 2]
type = Changestate
triggerall = alive
triggerall = var(41) = 0
trigger1 = command = "up"
value = 10050

[State 5100, 2]
type = Changestate
triggerall = alive
triggerall = var(41) = 0
trigger1 = command = "back"
value = 10051

[State 5100, 2]
type = Changestate
triggerall = alive
triggerall = var(41) = 0
trigger1 = command = "fwd"
value = 10052

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, Var] ;Save fall velocity
type = VarSet
;trigger1 = Time <= 4
trigger1 = command = "down"
var(18) = 1

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = prevstateno != 5071
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = prevstateno != 5071
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100+var(31) + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 12]
type = ChangeState
trigger1 = Time = 20
value = 5101

[State 5100, 7]
type = ChangeState
trigger1 = Time >= 0
trigger1 = anim = 7069
value = 5150

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20



;---------------------------------------------------------------------------
; 復帰　真上

[Statedef 10050]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = 0
y = -7

[State 10050, 0]
type = Veladd
trigger1 = Time >= 2
y = 0.3

[State 10050, 2]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;---------------------------------------------------------------------------
; 復帰　うしろ

[Statedef 10051]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = -4
y = -6.5

[State 10050, 2]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52


;---------------------------------------------------------------------------
; 復帰　fwd

[Statedef 10052]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = 4
y = -6.5

[State 10050, 2]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;------------------------------------------
;その場受身　
[Statedef 10053]
type    = C
movetype= I
physics = S
ctrl = 0
anim = 7131
sprpriority = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[state 0,0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 0,0]
type = nothitby
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 25

[state 0,0]
type = posset
trigger1 = time <= 10
y = 0

[state 0,0]
type = velset
trigger1 = time <= 10
x = -0.5

[State 52, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------
;うしろに受身
[Statedef 10054]
type    = C
movetype= I
physics = S
ctrl = 0
anim = 7131
sprpriority = 0
[state 0,0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[state 0,0]
type = posset
trigger1 = time <= 10
y = 0

[State 0,0]
type = nothitby
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 25

[state 0,0]
type = velset
trigger1 = time <= 10
x = -4.9

[State 52, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1






;------------------------------------------
;特殊ゲージ
[Statedef 9050]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[state 0,0]
type = palfx
triggerall = parent,var(41) >= 2
trigger1 = parent,var(48) < 33
;trigger1 = gametime % 30 = 0
add = -120,-140,200
mul = 200,200,200
time = 1

[state 0,0]
type = palfx
;triggerall = parent,stateno != 8001
triggerall = parent,var(41) >= 2
trigger1 = parent,var(48) = [33,66]
;trigger1 = gametime % 30 = 0
add = 45,-100,150
time = 1

[state 0,0]
type = palfx
triggerall = parent,var(41) >= 2
trigger1 = parent,var(48) >= 100
;trigger1 = gametime % 30 = 0
add = -120,100,0
time = 1

[State 0, effect];オレンジ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
trigger1 = parent,var(41) >= 2
;trigger1 = roundstate >= 2
;trigger1 = parent,var(48) <= 99
anim = 7120
postype = left
pos = ifelse(teamside = 1,5,185),217 + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9060
ignorehitpause = 1
scale = (parent,var(48)*0.01)*0.5,0.5

[State 0, fg];枠
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
trigger1 = parent,var(41) >= 2
;trigger1 = roundstate >= 2
;triggerall = Numexplod(200) = 0
anim = 7121
postype = left
pos = ifelse(teamside = 1,5,185),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9060
ignorehitpause = 1
scale = 0.5,0.5


;------------------------------------------
;特殊ゲージ 北斗七星ゲージ
[Statedef 9051]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[State 0, effect]
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 7
trigger1 = gametime % 50 = 0
anim = 7030
postype = left
pos = ifelse(teamside = 1,280,25),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.1,0.1



[State 0, effect];星７つ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 0
anim = 7137
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星6つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 1
anim = 7136
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星5つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 2
anim = 7135
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星4つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 3
anim = 7134
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星3つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 4
anim = 7133
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星2つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 5
anim = 7132
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星1つ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 6
anim = 7131
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星0つ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 7
anim = 7130
postype = left
pos = ifelse(teamside = 1,260,5),35
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5


;------------------------------------------
;デンジャーゲージ
[Statedef 9052]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[state 0,0]
type = palfx
;triggerall = parent,stateno != 8001
trigger1 = 1;parent,var(41) >= 2
;trigger1 = gametime % 30 = 0
add = 250,(parent,var(33)),0
time = 1
persistent = 1

[State 0, effect];オレンジ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
trigger1 = parent,var(33) >= 1
;trigger1 = roundstate >= 2
;trigger1 = parent,var(48) <= 99
anim = 7413
postype = left
pos = ifelse(teamside = 1,1,315),240; + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 9060
ignorehitpause = 1
scale = 0.5,(parent,var(33)*0.01)*0.5;,0.5

[state 0,0]
type = destroyself
trigger1 = parent,var(33) <= 0


;---------------------
;music-box
;「Battle of Rose」
[Statedef 10800]
type = A
ctrl = 0
velset = 0,0
anim = 9999

[State 3000, effect]
type = Explod
trigger1 = Numexplod(10) = 0
anim = 7030
postype = left
pos = 0,0
bindtime = -1
ownpal = 1
sprpriority = 5
removetime = 1503
ignorehitpause = 1
ontop = 1
id = 10

[state 0,0]
type = parentvarset
trigger1 = parent,var(42) != 1
v = 42
value = 1

[State 0, 0]
type = AssertSpecial
trigger1 = time <= 2320
flag = nomusic

[State 1000,voice]
type = PlaySnd
trigger1 = Numexplod(8250) = 1
trigger1 = time = 1
value = 200,2
channel = 0

[State 1000,0]
type = PlaySnd
triggerall = enemy,authorname = "Drowin3"
trigger1 = enemy,var(42) != 1
trigger1 = time = 1
value = 800,0
channel = 5
;loop = 1
abspan = 1
[State 1000,0]
type = PlaySnd
triggerall = !enemy,authorname = "Drowin3"
trigger1 = time = 1
value = 800,0
channel = 5
;loop = 1
abspan = 1

[state 0,0]
type = changestate
;triggerall = enemy,authorname = "Drowin3"
;trigger1 = enemy,Numhelper(800) = 0
trigger1 = time = 1500
trigger2 = roundstate = 2
trigger2 = parent,var(40) != 11111
trigger2 = parent,stateno != 9910
value = 10801

[state 0,0];とりあえず止める
type = changestate
triggerall = enemy,authorname = "Drowin3"
trigger1 = time >= 2
trigger1 = enemy,var(42) = 1
trigger1 = teamside = 2
value = 10802

[state 0,0]
type = parentvarset
trigger1 = time = 1
v = 41
value = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 0
trigger1 = parent,var(41) = 0
anim = 8250
postype = left
pos = 0,30
sprpriority = -5
supermovetime = 950
pausemovetime = 950
ownpal = 1
ignorehitpause = 1
bindtime = -1
id = 8250

;---------------------
;music-box
;stop
[Statedef 10801]
type = A
ctrl = 0
velset = 0,0

[state 0,0]
type = stopsnd
trigger1 = time = 1
channel = 5


[state 2,0]
type = removeexplod
trigger1 = time = 2
id = 10

[state 0,0]
type = destroyself
trigger1 = time = 2

;---------------------
;music-box
;stopping
[Statedef 10802]
type = A
ctrl = 0
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = Numexplod(10) = 0
anim = 7030
postype = left
pos = 0,0
bindtime = -1
ownpal = 1
sprpriority = 5
removetime = 1600
ignorehitpause = 1
ontop  = 1
id = 10

[state 0,0]
type = stopsnd
trigger1 = time = 0
channel = 5

[state 0,0]
type = parentvarset
trigger1 = parent,var(42) != 1
v = 42
value = 2

[state 0,0]
type = changestate
trigger1 = enemy,var(42) != 1
;trigger1 = enemy,name = "Hinaichigo-D"
;trigger1 = enemy,var(40) != 11111
value = 10800

[state 0,0]
type = destroyself
trigger1 = roundstate = 2
trigger1 = parent,var(40) != 11111
trigger1 = parent,stateno != 9910


;------------------------------------------
;カウンター表示
[Statedef 9055]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[State 2, counter];
type = parentvarset
trigger1 = parent,var(37) != 0
v = 37
;ignorehitpause = 1
value = 0

[State 0, counter];COUNTER
type = Explod
persistent = 0
triggerall = time = 0
trigger1 = Numexplod(201) = 0
anim = 7061
postype = left
pos = ifelse(parent,teamside = 1,0,250),74
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201
pausemovetime = 100
supermovetime = 100
scale = 0.5,0.5

[state 0,0]
type = destroyself
trigger1 = time = 55




;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]


;------------------------------------------------------------------
;ダメージ音声
[State -2, 0]
type = VarRandom
triggerall = Alive = 1
triggerall = Time = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 18
range = 0,3
ignorehitpause = 1

[State -2, 0]
type = PlaySnd
triggerall = random < 800
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger2 = stateno = 5020
value = 500,0
channel = 0
ignorehitpause = 1

[State -2, 0]
type = PlaySnd
triggerall = random < 800
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 1
trigger1 = stateno = 5010
trigger2 = stateno = 5020
trigger3 = stateno = 5000
value = 500,1
channel = 0
ignorehitpause = 1


[State -2, HEATafter]
type = AfterImage
triggerall = time = 1
trigger1 = var(50) = 2
trigger2 = var(50) = 3
length = 6
PalBright = 1, 1, 1
PalContrast = 75,75,70
PalAdd = -20, -20, 120
;PalMul = .85,.85,.85
TimeGap  = 1
FrameGap = 1
Trans = add
time = 925
ignorehitpause = 1
[State -2, HEATafter]
type = AfterImage
triggerall = time = 0
trigger1 = var(50) = 4
;trigger1 = gametime % 25 = 0
length = 6
PalBright = 0, 0, 0
PalContrast = 75,75,170
PalAdd = 20, 20, -20
PalMul = .85,.85,.85
TimeGap  = 1
FrameGap = 1
persistent = 25
Trans = add
time = 25
ignorehitpause = 1

[State -2, Afterimage]
type = AfterImageTime
trigger1 = var(50) >= 2
;trigger1 = 1
time = 5
ignorehitpause = 1

[state -2]
type = removeexplod
triggerall = var(40) != 1111
trigger1 = roundstate <= 2
id = 10

[State -2, VarSet]
type = VarSet
trigger1 = StateNo = 0
trigger2 = StateNo = 52
v = 10
value = 0

[State -2, konjou];根性値補正
type = DefenceMulSet
triggerall = var(41) = 0
trigger1 = var(38) = 0
trigger1 = life = [501,750]
value = 0.96
ignorehitpause = 1
[State -2, konjou];根性値補正
type = DefenceMulSet
triggerall = var(41) = 0
trigger1 = var(38) = 0
trigger1 = life = [251,500]
value = 0.84
ignorehitpause = 1
[State -2, konjou];根性値補正
type = DefenceMulSet
triggerall = var(41) = 0
trigger1 = var(38) = 0
trigger1 = life <= 250
value = 0.8
ignorehitpause = 1

[State -2, 0]
type = Helper
triggerall = var(41) >= 2
trigger1 = Numhelper(9050) = 0
;trigger1 = var(41) = [2,3]
helpertype = normal
name = "kenki"
postype = left
pos = 0,0
stateno = 9050
ownpal = 1
sprpriority = 5
id = 9050
keyctrl = 0
pausemovetime = 200
bindtime = -1

[state -2,kenki];回復
type = varadd
triggerall = roundstate = 2
triggerall = enemy,movetype != H
triggerall = Numhelper(2990) <= 2
triggerall = movetype != A
triggerall = var(41) = 3
triggerall = var(26) <= 0
trigger1 = var(48) <= 99
trigger1 = ifelse(var(48) <= 20,gametime % 22 = 0,ifelse(var(48) <= 60,gametime % 20 = 0,gametime % 18 = 0))
var(48) = 1
ignorehitpause = 1

[state -2,kenki];回復
type = varadd
triggerall = roundstate = 2
triggerall = var(41) = 2
triggerall = var(27) = 0
triggerall = var(26) <= 0
triggerall = Numhelper(2990) = 0
;triggerall = stateno != 51
;triggerall = stateno != [3000,3001]
;triggerall = stateno != 218
;triggerall = stateno != 248
trigger1 = var(48) <= 99
trigger1 = movecontact
trigger1 = gametime % 10 = 0
trigger2 = var(48) <= 99
trigger2 = movetype = H
trigger2 = stateno != [5100,5150]
trigger2 = gametime % 10 = 0
var(48) = 1
ignorehitpause = 1

[state -2,kenki]
type = varset
trigger1 = var(48) <= 0
trigger2 = var(41) = 0
trigger2 = var(48) != 1
var(48) = 1
ignorehitpause = 1
[state -2,kenki]
type = varset
trigger1 = var(48) > 100
var(48) = 100
ignorehitpause = 1


[State -2, BOOST]
type = Helper
triggerall = var(41) >= 2
triggerall = movetype != H
triggerall = Numhelper(2990) <= 2
triggerall = var(48) >= 33 || var(26) >= 2
triggerall = stateno != 3000;[3000,3002]
triggerall = stateno != 1101
triggerall = stateno != [2000,3500]
triggerall = stateno != [900,999]
triggerall = stateno != 2170
triggerall = roundstate = 2
triggerall = stateno != [900,1099]
triggerall = stateno != [1061,1099]
triggerall = stateno != [9900,9929]
triggerall = stateno != 5120
triggerall = stateno != [8800,8810]
triggerall = stateno != [1117,1119]
triggerall = stateno != [4000,4002]
triggerall = stateno != [1500,1599]
triggerall = stateno != 9884
triggerall = stateno != 1184
trigger1 = command = "c"
helpertype = normal
name = "boost"
pos = 0,0
stateno = 2990
ownpal = 1
id = 2990
keyctrl = 0

[state -2, BOOST]
type = palfx
trigger1 = Numhelper(2990) >= 1
time = 2
add = 20,20,20;180,50,0

[state -2, BOOST]
type = velset
;triggerall = statetype != A
trigger1 = Numhelper(2990) >= 1
x = 9;9.5

[state -2, BOOST]
type = velset
;triggerall = statetype = A
trigger1 = Numhelper(2990) >= 1
y = 0

[state -2, BOOST]
type = posadd
triggerall = statetype = A
trigger1 = Numhelper(2990) >= 1
trigger1 = p2dist y < -20
y = -3
[state -2, BOOST]
type = posadd
triggerall = statetype = A
trigger1 = Numhelper(2990) >= 1
trigger1 = p2dist y > -20
trigger1 = pos y <= -12
y = 3

[state -2, BOOST]
type = null;velset
triggerall = statetype = A
triggerall = pos y <= -12
trigger1 = Numhelper(2990) >= 1
x = 9.5

[state -2, BOOST]
type = assertspecial
trigger1 = Numhelper(2990) >= 1
flag = nowalk
flag2 = noautoturn

[State -2, reduce];強→弱の時の補正 リバースビート
type = AttackMulSet
;triggerall = var(41) != 2
triggerall = ishelper = 0
trigger1 = 1
value = (1 - fvar(30))*fvar(5) - (var(41)*0.02); * ifelse(var(27) = 0,1,0.1)

[State -2, hosei];MBコンボ補正
type = varset
triggerall = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) = [4,98]
fv = 30
ignorehitpause = 1
value = enemy,gethitvar(hitcount) * 0.01
[State -2, hosei];MBコンボ補正
type = varset
triggerall = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) >= 99
fv = 30
ignorehitpause = 1
value = 0.99
[State -2, hosei];MBコンボ補正
type = varset
triggerall = fvar(30) != 0
trigger1 = fvar(10) <= 0
trigger1 = enemy,movetype != H
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
fv = 30
ignorehitpause = 1
value = 0
[State -2, hosei];MBコンボ補正
type = varset
triggerall = fvar(5) != 1
trigger1 = fvar(10) <= 0
trigger1 = enemy,movetype != H
trigger1 = movetype != A
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
fv = 5
value = 1

[state 0,reverse]
type = varset
trigger1 = fvar(5) > 0.3
trigger1 = enemy,stateno = 5110
fvar(5) = 0.3
persistent = 0

[State -2, 0];-------------------==================================================================
type = DisplayToClipboard
triggerall = ishelper = 0
trigger1 = 1
text = "VAR=%d,VAR2=%d, X =%.0f, Y =%.0f, combo=%f"
params = var(27),var(59),p2bodydist x,p2bodydist y,(1 - fvar(30))*fvar(5)
IgnoreHitPause = 1

[state -2, HEAT];徐々に減少 メルティ
type = poweradd
trigger1 = var(50) >= 2
trigger1 = Numhelper(1952) = 0
value = -3
ignorehitpause = 1
[state -2, HEAT];2000にセット
type = powerset
trigger1 = var(50) = 1
value = 2000
ignorehitpause = 1
[state -2, HEAT];ライフ回復
type = lifeadd
triggerall = var(50) >= 3
trigger1 = var(51) = [60,99]
trigger1 = life = [1,999]
trigger1 = gametime % 5 = 0
value = 1
[state -2, HEAT];ライフ回復大
type = lifeadd
triggerall = var(50) >= 3
trigger1 = var(51) > 99
trigger1 = life = [1,999]
trigger1 = gametime % 4 = 0
value = 2



[state -2, HEAT];自動的にヒート状態
type = varset
triggerall = roundstate = 2
triggerall = var(50) = 0
trigger1 = power >= 3000
trigger2 = var(42) = 2 && life = [1,160]
v = 50
value = 2
[state -2, HEAT];ヒーﾄ状態後、ゲージが０になったら
type = varset
triggerall = var(50) = 2
trigger1 = power = 0
v = 50
value = 1
ignorehitpause = 1
[state -2, HEAT];bloodヒーﾄ状態後、ゲージが０になったら
type = varset
triggerall = var(50) >= 3
trigger1 = power = 0
v = 50
value = 0
ignorehitpause = 1
[state -2, HEAT];０になったら２０００にしてリセット
type = varset
triggerall = var(50) = 1
trigger1 = power != 0
v = 50
value = 0
ignorehitpause = 1
[state -2, HEAT];BLOOD HEATライフ回復量調整
type = varadd
trigger1 = var(50) >= 2
trigger1 = var(51) <= 110
v = 51
value = 1
[state -2, HEAT];BLOOD HEATライフ回復量調整
type = varset
triggerall = var(50) >= 2
trigger1 = movetype = H
v = 51
value = 0

[State -2, heat]
type = Explod
triggerall = ishelper = 0
trigger1 = Numexplod(8010) = 0
trigger1 = var(50) = 3
id = 8010
anim = 7065
postype = left
pos = ifelse(teamside = 1,5,290),226
ownpal = 1
sprpriority = 5
ontop = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
[State -2, bloodheat]
type = Explod
triggerall = ishelper = 0
trigger1 = Numexplod(8011) = 0
trigger1 = var(50) = 4
id = 8011
anim = 7066
postype = left
pos = ifelse(teamside = 1,5,255),226
ownpal = 1
sprpriority = 5
ontop = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
[state -2, destroy]
type = removeexplod
triggerall = ishelper = 0
trigger1 = var(50) != 3
id = 8010
[state -2, destroy]
type = removeexplod
triggerall = ishelper = 0
trigger1 = var(50) != 4
id = 8011
[State -2, max]
type = Explod
triggerall = var(41) = 0 || var(41) = 3
triggerall = life <= 999;トレーニングモード対策
triggerall = ishelper = 0
triggerall = power >= 2985
triggerall = var(50) = 2
triggerall = Numexplod(200) = 0
trigger1 = roundstate = 2
;trigger1 = time = 1
anim = 7064
postype = left
pos = ifelse(teamside = 1,0,200),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
ignorehitpause = 1

[State -2, counter];技あり（カウンター
type = varset
triggerall = var(37) != 1
trigger1 = enemy,movetype = A
v = 37
ignorehitpause = 1
value = 1
[State -2, counter];技あり（カウンター
type = varset
triggerall = var(37) != 0
trigger1 = enemy,movetype != A
v = 37
value = 0
;ignorehitpause = 1
[State -2, counter];技あり（カウンター
type = null;varset
triggerall = var(37) != 0
trigger1 = gametime % 3= 0;movehit
v = 37
;ignorehitpause = 1
value = 0
[State -2, counter]
type = Helper
triggerall = NumHelper(9055) = 0
trigger1 = var(37) = 1
trigger1 = movehit
;trigger1 = enemy,movetype = H
helpertype = normal
name = "counter"
ID = 9055
stateno = 9055
postype = left
pos = 0,0;ifelse(teamside = 1,0,200),60
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[State -2, invalid]
type = null;Explod
;persistent = 190
triggerall = Numexplod(203) = 0
triggerall = enemy,gethitvar(fall) = 1
;triggerall = enemy,gethitvar(fall.recover) = 1; && enemy,gethitvar(fall.recovertime) = 0
triggerall = enemy,hitshakeover = 0;hitover = 1;gethitvar(hitcount) >= 2
trigger1 = enemy,alive
trigger1 = enemy,CanRecover
trigger1 = movehit
trigger1 = teamside = 1
;trigger1 = stateno != 610
;trigger1 = stateno != 420
anim = 7041
postype = left
pos = 2,70
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 203
ignorehitpuase = 1
scale = 0.8,0.8
[State -2, invalid]
type = null;Explod
;persistent = 190
triggerall = Numexplod(203) = 0
triggerall = enemy,gethitvar(fall) = 1
;triggerall = enemy,gethitvar(fall.recover) = 1; && enemy,gethitvar(fall.recovertime) = 0
triggerall = enemy,hitshakeover = 0;hitover = 1;gethitvar(hitcount) >= 2
trigger1 = enemy,alive
trigger1 = enemy,CanRecover
trigger1 = movehit
trigger1 = teamside != 1
;trigger1 = enemy,stateno = 5050
anim = 7041
postype = left
pos = 270,70
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 203
scale = 0.8,0.8
ignorehitpuase = 1

[state -2,4]
type = null;assertspecial
trigger1 = Numhelper(2990) >= 1
flag = nojugglecheck
[state -2,4]
type = null;assertspecial
triggerall = ishelper
trigger1 = parent,Numhelper(2990) >= 1
flag = nojugglecheck

[State -2, counter]
type = null;Helper
trigger1 = NumHelper(2991) = 0
;trigger1 = enemy,movetype = H
helpertype = normal
name = "icon"
ID = 2991
stateno = 2991
postype = left
pos = 0,0;ifelse(teamside = 1,0,200),60
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[state -2]
type = varset
triggerall = command = "fwd"
;trigger1 = StateType = S
trigger1 = ctrl = 1 || stateno = [130,155]
trigger1 = var(29) = 0
v = 29
value = 30
;ignorehitpause = 1
[state -2]
type = varset
triggerall = command = "fwd"
;trigger1 = StateType = S
trigger1 = stateno = [140,155]
;trigger1 = var(29) = 0
v = 34
value = 10
[state -2]
type = varadd
trigger1 = var(29) > 0
v = 29
value = -1
[state -2]
type = varadd
trigger1 = var(34) > 0
v = 34
value = -1
[state -2]
type = varset
triggerall = var(29) > 0;= [1,20]
trigger1 = command = "back"
v = 29
value = 0
[state -2]
type = varset
triggerall = var(29) > 0
trigger1 = var(29) <= 21
trigger1 = stateno = [130,155]
v = 29
value = 0
[State -2,0]
type = AssertSpecial
trigger1 = var(34) = [1,9]
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
[state -2]
type = changestate
triggerall = var(34) != 0
trigger1 = stateno = [140,155]
trigger1 = statetype = S
value = 1
[state -2]
type = changestate
triggerall = var(34) != 0
trigger1 = stateno = [140,155]
trigger1 = statetype = C
value = 11
[state -2]
type = changestate
triggerall = var(34) != 0
trigger1 = stateno = [140,155]
trigger1 = statetype = A
value = 50

[state -2]
type = varset
triggerall = command = "down"
trigger1 = StateType != A
trigger1 = ctrl = 1
trigger1 = var(29) = 0
v = 29
value = 61
[state -2]
type = varset
triggerall = command = "down"
;trigger1 = StateType = S
trigger1 = stateno = [130,155]
;trigger1 = var(29) = 0
v = 34
value = 10
[state -2]
type = varset
trigger1 = var(29) = 31
v = 29
value = 0

[state -2]
type = varset
triggerall = win
trigger1 = stateno != 181
trigger1 = enemy,stateno != 5150
v = 28
value = ceil(p2dist x)


[state -2,0];ブースト時間差減少
type = varadd
;triggerall = gametime % 10 = 0
trigger1 = var(26) > 0
v = 26
value = -1
[state -2,0];ブースト時間差減少
type = varadd
triggerall = gametime % 10 = 0
trigger1 = var(26) > 0
v = 48
value = -1
[state -2,0];ブースト時間差減少
type = varset
triggerall = var(26) = [1,316]
trigger1 = var(48) = 34
trigger2 = var(48) = 67
trigger3 = var(48) <= 1
trigger4 = roundstate >= 3
v = 26
value = 0


[state -2,0];バニシング
type = varset
triggerall = var(27) != 0
triggerall = var(25) != 2
trigger1 = enemy,stateno = [5100,5150]
trigger2 = enemy,movetype != H
v = 27
value = 0

[state -2,0];自動ブーストしたかしてないかどっちかはっきりしてください
type = varset
;triggerall = var(27) != 0
;triggerall = var(25) != 2
trigger1 = enemy,stateno = [5100,5150]
trigger2 = enemy,movetype != H
v = 36
value = 0


[state -2,0];DEBUG
type = varset
triggerall = var(25) >= 1
trigger1 = var(48) < 100
v = 48
value = 100
[state -2,0];DEBUG
type = varset
triggerall = var(25) = 2
trigger1 = var(27) != 1
v = 27
value = 1

[State -2, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = Numhelper(9051) = 0
;trigger1 = var(41) = [2,3]
helpertype = normal
name = "hokuto"
postype = left
pos = 0,0
stateno = 9051
ownpal = 1
sprpriority = 5
id = 9051
keyctrl = 0
pausemovetime = 200
bindtime = -1

[state -2,0]
type = varset
trigger1 = var(41) != 0
trigger1 = var(41) != 3
trigger1 = var(50) != 0
v = 50
value = 0

[state 0,0]
type = assertspecial
trigger1 = var(23) = 1
flag = nomusic

[state -2,0]
type = varadd
trigger1 = statetype != A
trigger1 = var(41) = 2
trigger1 = movetype != H
trigger1 = life <= 950
v = 22
value = 1

[state -2,0]
type = varadd
trigger1 = var(22) >= 20
trigger1 = statetype = A
v = 22
value = -1
[state -2,0]
type = varset
trigger1 = var(41) != 2
trigger2 = movetype = H
trigger3 = life > 950
v = 22
value = 0

[state -2,0]
type = lifeadd
trigger1 = var(22) = [150,1000]
trigger1 = statetype != A
trigger1 = var(41) = 2
trigger1 = movetype != H
trigger1 = life <= 950
trigger1 = gametime % 3 = 0
value = 1

[State 210, 3]
type = SprPriority
triggerall = ishelper = 0
trigger1 = Numhelper(4010) = 1
value = 5
ignorehitpause = 1

[state -2,0];ナノマシンlimit
type = varadd
trigger1 = var(49) > 0
v = 49
value = -1

[state -2,0];ナノマシンlimit
type = varset
trigger1 = var(49) > 0
trigger1 = roundstate <= 1
v = 49
value = 0

[State -2, max]
type = Explod
triggerall = var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
trigger1 = stateno != [200,999]
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1


[State -2, 0]
type = Helper
triggerall = numhelper(1160) = 0
triggerall = numhelper(1140) = 1
triggerall = numhelper(1150) = 1
trigger1 = helper(1150),stateno = 1151
trigger1 = (helper(1150),facing)=facing
trigger1 = floor(helper(1140),parentdist x) = floor(helper(1150),parentdist x)
helpertype = normal
name = "mikuru2"
ID = 1160
stateno = 1160
postype = p1
pos = floor(helper(1150),parentdist x)*-1,0;ifelse((helper(1150),facing)=facing,floor(helper(1150),parentdist x)*-1,floor(helper(1150),parentdist x),0)
keyctrl = 0
ownpal = 1
[State -2, 0]
type = Helper
triggerall = numhelper(1160) = 0
triggerall = numhelper(1140) = 1
triggerall = numhelper(1150) = 1
trigger1 = helper(1150),stateno = 1151
trigger1 = (helper(1150),facing)!=facing
trigger1 = floor(helper(1140),parentdist x) = floor(helper(1150),parentdist x)
helpertype = normal
name = "mikuru2"
ID = 1160
stateno = 1160
postype = p1
pos = floor(helper(1150),parentdist x),0;ifelse((helper(1150),facing)=facing,floor(helper(1150),parentdist x)*-1,floor(helper(1150),parentdist x),0)
keyctrl = 0
ownpal = 1

[State -2, 0]
type = Explod
triggerall = Numhelper(1160) = 1
trigger1 = helper(1160),stateno = 1162 || helper(1160),stateno = 1163
trigger1 = helper(1160),animelem = 8
trigger1 = numexplod(999) = 0
anim = 9999
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
removetime = 11
id = 999

[state -2,0]
type = varset
trigger1 = enemy,movetype != H
trigger1 = var(44) != 0
persistent = 0
;ignorehitpause = 1
v = 44
value = 0
[state -2,0]
type = varset
trigger1 = enemy,movetype != H
trigger1 = var(43) != 0
persistent = 0
;ignorehitpause = 1
v = 43
value = 0

[state -2, 0]
type = varadd
trigger1 = var(56) >= 1
v = 56
value = -1
ignorehitpause = 1
[state -2, 0]
type = varset
trigger1 = stateno != [1500,1530]
v = 56
value = 0
ignorehitpause = 1

[state -2, 0]
type = poweradd
trigger1 = gametime % 2 = 0
trigger1 = stateno = [1500,1530]
value = -3
ignorehitpause = 1


[State -2,0]
type = nothitby
trigger1 = var(56) >= 1
value = SCA
time = 2
[state -2,0]
type = assertspecial
trigger1 = var(56) >= 1
trigger1 = gametime % 3 = 0
flag = invisible

[State 40, 1]
type = VarSet
trigger1 = var(57) = 1
trigger1 = statetype != A
v = 57
value = 0

[State -2, reduce];
type = AttackMulSet
triggerall = var(41) = 2
triggerall = var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.56

[State -2, 0]
type = DefenceMulSet
trigger1 = var(30) = 1
value = 0.85
ignorehitpause = 1
[State -2, 0]
type = DefenceMulSet
trigger1 = var(30) = 2
value = 0.7
ignorehitpause = 1
[State -2, 0]
type = DefenceMulSet
trigger1 = var(30) >= 3
value = 0.55
ignorehitpause = 1


[state -2]
type = varadd
trigger1 = var(33) > 0
trigger1 = gametime % 9 = 0
v = 33
value = -1
[state -2]
type = varset
trigger1 = var(33) > 0
trigger1 = var(41) != 1
v = 33
value = 0

[state 0,0]
type = palfx
triggerall = var(33) >= 1
trigger1 = gametime % 6 = 0
add = 85,40,0
mul = 230,230,230
time = 3
ignorehitpause = 1

[state 0,0]
type = null;assertspecial
trigger1 = numexplod(1832) >= 1
trigger1 = roundstate = 2
flag = noBG
flag2 = noFG
flag3 = globalnoshadow


[state -2]
type = varset
triggerall = win
trigger1 = stateno != 182
trigger1 = enemy,stateno != 5150
v = 28
value = ceil(p2dist x)

[state -2,0]
type = varset
;trigger1 = time = 1
trigger1 = var(41) >= 3
v = 41
value = 0

[State -2, 0]
type = Helper
triggerall = numhelper(9052) = 0
trigger1 = var(33) != 0
helpertype = normal
name = "danger"
ID = 9052
stateno = 9052
postype = p1
pos = 0,0;
keyctrl = 0
ownpal = 1

[state 0,0]
type = powerset
trigger1 = var(33) > 0
value = 0

[State -2,0]
type = AssertSpecial
trigger1 = var(41) = 1
flag = noairguard

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
triggerall = var(41) = 0
trigger1 = stateno = 52
trigger1 = prevstateno != 621
value = 0,1
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
triggerall = var(41) != 0
trigger1 = stateno = 52
trigger1 = prevstateno != 621
value = 31,8



