[Data]
life = 1500
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 20
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
;xscale = 0.40
xscale = 0.33
yscale = 0.40
ground.back = 15
ground.front = 16
air.back = 11
air.front = 11
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -3, -100
mid.pos = -1, -70
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.8      
walk.back = -1.2
run.fwd      = 6, 0
run.back     = -6,-4
jump.neu = 0,-11.5    
jump.back = -2,1   
jump.fwd = 3.2,1      
runjump.back = -1.9,-7.5 
runjump.fwd = 3.7,-7.5    
airjump.neu = 0,-8.1      
airjump.back = 1.5     
airjump.fwd = 1.9

[Movement]
airjump.num     = 0
airjump.height  = 35
yaccel          = .54
stand.friction  = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
velset = 0,0
sprpriority = 1
facep2 = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State -2]
type = varset
trigger1 = sysvar(1) != 1 && (prevstateno = [100,102])
v = 2
value = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)+ifelse((command != "holdup" && var(2) < 0),2.8,ifelse((command != "holdup" && var(2) >= 0),2.3,ifelse((command = "holdup" && var(2) >= 0),-.3,0)))

[State 40, 5]
type = VelSet
triggerall = AnimTime = 0 && command != "holdup"
trigger1 = (prevstateno = [100,101]) && sysvar(1) = 1
trigger2 = var(2) >= 0
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1) = 1,6.14,-6.14))

[State 40, 2]
type = AfterImage
triggerall = AnimTime = 0
trigger1 = (prevstateno = [100,101]) && sysvar(1) = 1
trigger2 = var(2) >= 0
time = 9999999
length = 8
framegap = 3
trans = add1
palcontrast = 100,100,100
PalAdd = 0,0,0
palmul = 1,1,1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command != "holdup",60,50)
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 音]
type = PlaySnd
trigger1 = time = 0
value = s40,ifelse(var(2) < 0,0,1)

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && var(2) < 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && var(2) >= 0
value = ifelse((vel x)=0, 57, ifelse((vel x)>0, 58, 59))

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A
ctrl = 1

[State 51, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 41
elem = 8

;---------------------------------------------------------------------------
; 小・中ジャンプ
[Statedef 60]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 音]
type = PlaySnd
trigger1 = time = 0
value = s40,ifelse(var(2) < 0,0,1)

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && var(2) >= 0
value = ifelse((vel x)=0, 54, ifelse((vel x)>0, 55, 56))

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && var(2) < 0
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
velset = 0,0
anim = 47

[State 52, 音]
type = PlaySnd
trigger1 = time = 0
value = s52,0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ダッシュ（開始）
[Statedef 100]
type    = S
physics = S
anim = 100
ctrl = 0

[State 100, 1]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 2]
type = Velset
trigger1 = 1
x = 0

[State 100, 3]
type = ChangeState
trigger1 = animtime = 0
value = 101

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

;---------------------------------------------------------------------------
; ダッシュ（開始）
[Statedef 101]
type    = S
physics = N
anim = 101
ctrl = 0

[State 101, 音]
type = PlaySnd
trigger1 = time = 0
value = s100,0
channel = 1

[State 101, 1]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 101, 2]
type = Velset
trigger1 = 1
x = 8

[State 101, 3]
type = ChangeState
trigger1 = time >= 12 && command != "holdfwd"
trigger2 = var(59);AI用
trigger2 = p2statetype = A;
value = 102

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

;---------------------------------------------------------------------------
; ダッシュ（停止）
[Statedef 102]
type    = S
physics = S
anim = 102
ctrl = 0

[State 102, 1]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 102, 2]
type = Velset
trigger1 = 1
x = 0

[State 102, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

;---------------------------------------------------------------------------
; バックステップ（開始）
[Statedef 105]
type    = S
physics = S
anim = 100
ctrl = 0

[State 52, 音]
type = PlaySnd
trigger1 = time = 0
value = s105,0

[State 105, 2]
type = Velset
trigger1 = 1
x = 0

[State 105, 3]
type = ChangeState
trigger1 = animtime = 0
value = 106

;---------------------------------------------------------------------------
; バックステップ
[Statedef 106]
type    = A
physics = N
anim = 105
ctrl = 0

[State 106, 1]
type = VelSet
trigger1 = time = 0
x = -9.75
y = -5

[State 106, 2]
type = Veladd
trigger1 = 1
y = .72

[State 106, 3]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 107

;---------------------------------------------------------------------------
; バックステップ（着地）
[Statedef 107]
type    = S
physics = S
anim = 106
ctrl = 0

[State 52, 音]
type = PlaySnd
trigger1 = time = 0
value = s52,0

[State 106, 1]
type = posset
trigger1 = time = 0
y = 0

[State 106, 2]
type = velset
trigger1 = 1
x = 0
y = 0

[State 106, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[state 19000: 	assertspecial] 
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S99,1


[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------VS KEN
; Intro（VS京）
;[Statedef 173]
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
;trigger1 = animelem = 13
value = S99,81

[State MV] ; scritte viola
type = explod
trigger1 = animelem = 13
id = 11111
anim = 11111
pos = 130,35
bindtime = -1
sprpriority = 81
ontop = 1
removetime = 210
persistent = 0
ignorehitpause = 1
postype = left ;back
ownpal = 1
scale = 0.5,0.70

[State MV] ; scritte azzurre
type = explod
trigger1 = animelem = 13
id = 11112
anim = 11112
pos = 200,35
bindtime = -1
sprpriority = 81
ontop = 1
removetime = 210
persistent = 0
ignorehitpause = 1
postype = left ;back
ownpal = 1
scale = 0.5,0.70

[State 190, Explod]
type = Explod
trigger1 = animelem = 13
anim = 99999
ID = 99999
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 210
pausemovetime = 0
scale = 1000,1000
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =7
value = S40,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =29
value = S99,82

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
x = -1.5
y = 0
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =28
value = S99,11

[State MV] ;IMAGEN CON LOS COMANDOS
type = explod
trigger1 = animelem = 13
id = 15043
anim = 15043
pos = 0,0
bindtime = -1
sprpriority = 81
ontop = 1
removetime = 24
persistent = 0
ignorehitpause = 1
postype = back
ownpal = 1
scale = 0.25,0.335

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
x = 3
y = -4
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S99,84

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,83

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 20
value = S99,85

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 13
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 14
trigger2 = animelem = 15
trigger3 = animelem = 16
trigger4 = animelem = 17
trigger5 = animelem = 18
trigger6 = animelem = 19
x = 3
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 20
x = 0
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 27
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 29
x = 6
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 39
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 42
x = -2
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 42
;ignorehitpause =
;persistent =

[state 19000: 	assertspecial]
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State 192, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, StopSnd]
type = StopSnd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "start"
channel = -1

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose
; 勝った動作1[]
; 勝った動作1[]
[Statedef 181]
type = A
ctrl = 0
anim = 30211
velset = 0,0
physics = N
sprpriority = 2

[state 19000: 	assertspecial] 
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State 00];
type = PlaySnd
trigger1 = time = 0
value = 99,79

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,215]; 300
flag = roundnotover
flag2 = nomusic

;---------------------------------------------------------------------------
; Intro
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[state 19000: 	assertspecial] 
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State 191, StopSnd]
type = StopSnd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "start"
channel = -1

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = animelem = 1
;value = S99,10
;volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,8
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 72
value = S99,7
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S99,9
volume = 255


[State 191, 3]
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "KENSHIRO"
trigger2 = p4name = "KENSHIRO"
value = 193

[State 191, 3]
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "jagger"
trigger2 = p4name = "jagger"
value = 192

[State 191, 3] ;vs vari
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "RIUKEN"
trigger2 = p4name = "RIUKEN"
trigger3 = p2name = "DEVIL"
trigger4 = p4name = "DEVIL"
trigger5 = p2name = "MADARA"
trigger6 = p4name = "MADARA"
trigger7 = p2name = "WIGGLE"
trigger8 = p4name = "WIGGLE"
trigger9 = p2name = "COLONNELLO"
trigger10 = p4name = "COLONNELLO"
trigger11 = p2name = "RIUGA"
trigger12 = p4name = "RIUGA"
trigger13 = p2name = "JOLLY"
trigger14 = p4name = "JOLLY"
trigger15 = p2name = "WEIN"
trigger16 = p4name = "WEIN"
trigger17 = p2name = "JUZA"
trigger18 = p4name = "JUZA"
trigger19 = p2name = "FUDO DIAVOLO"
trigger20 = p4name = "FUDO DIAVOLO"
trigger21 = p2name = "AIN"
trigger22 = p4name = "AIN"
trigger23 = p2name = "SORIA"
trigger24 = p4name = "SORIA"
trigger25 = p2name = "BORZ"
trigger26 = p4name = "BORZ"
trigger27 = p2name = "TIGE"
trigger28 = p4name = "TIGE"
trigger29 = p2name = "PIRATA ROSSO"
trigger30 = p4name = "PIRATA ROSSO"
trigger31 = p2name = "ALF"
trigger32 = p4name = "ALF"
trigger33 = p2name = "RONN"
trigger34 = p4name = "RONN"
trigger35 = p2name = "HYO"
trigger36 = p4name = "HYO"
trigger37 = p2name = "KAIOHELMO"
trigger38 = p4name = "KAIOHELMO"
trigger39 = p2name = "KAIOHH"
trigger40 = p4name = "KAIOHH"
trigger41 = p2name = "YUDA"
trigger42 = p4name = "YUDA"
trigger43 = p2name = "FUDO SPENCER"
trigger44 = p4name = "FUDO SPENCER"
value = 0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro（VS京）
[Statedef 191]
type = S
ctrl = 0
anim = 173
velset = 0,0

[state 19000: 	assertspecial] 
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State 0, Explod]
type = Explod
trigger1 = ANIMELEM = 1
anim = 174
ID = 174
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1195
pausemovetime = 0
scale = 0.32,0.40
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 9
value = S99,67

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 29
value = S99,71

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 50
value = S99,68

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 59
value = S99,69

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 91
value = S99,70

[State 0, Explod]
type = Explod
trigger1 = ANIMELEM = 91
anim = 2005
ID = 2005
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 261
pausemovetime = 0
scale = 0.50,0.50
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[State 191, StopSnd]
type = StopSnd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "start"
channel = -1

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro・VS Jaggar
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[state 19000: 	assertspecial] 
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S99,80

[State 192, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, StopSnd]
type = StopSnd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "start"
channel = -1

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 音]
type = PlaySnd
trigger1 = animelem = 1
value = s99,66
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・遠距離弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 200
poweradd = 0
sprpriority = 2



[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,0



[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 30
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -89
hitsound = s0, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 200, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・近距離弱パンチ
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 205
poweradd = 0
sprpriority = 2



[State 205, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 30
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -89
hitsound = s0, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 205, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・遠距離強パンチ
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 210
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 210, 1]
type = posadd
trigger1 = animelem = 5
x = 7

[State 210, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 63+ifelse(var(5) = 1,32,0), 0
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -64
hitsound = s2, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 210, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・近距離強パンチ
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 215
poweradd = 0
sprpriority = 3



[State 215, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 70
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = 1
guard.sparkno = s7005
sparkxy = -5, -68
hitsound = s2, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 5
ground.velocity = 0
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 60,60

[State 215, 1]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
damage = 30
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = 2
guard.sparkno = s7005
sparkxy = -5, -74
hitsound = s2, 0
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 60,60

[State 215, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・遠距離弱キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 230
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 230, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 21+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -82
hitsound = s1, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 230, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・近距離弱キック
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 235
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 235, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 18+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -54
hitsound = s1, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = 0
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 235, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 18+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -82
hitsound = s1, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 235, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・遠距離強キック
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 240
poweradd = 0
sprpriority = 2

[State 240, 1]
type = posadd
trigger1 = time = 0
x = 10

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

[State 240, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 240, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・近距離強キック
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 245
poweradd = 0
sprpriority = 2

[State -2]
type = PlaySnd
trigger1 = animelem = 5
value = s201,var(10)
channel = 0

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I

[State 245, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = H
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -78
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 245, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ダブルトマホーク
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 300
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s200,1
channel = 0

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 6
value = s200,0
channel = 0

[State 300, 音]
type = PlaySnd
trigger1 = time = 1|animelem = 5
value = s205,1

[State 300, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 41+ifelse(var(5) = 1,6,0), 0
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -42
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = 0
air.velocity = -3.5,-7
guard.slidetime = 20
guard.hittime  = 28
guard.velocity = 0
guard.ctrltime = 28
air.cornerpush.veloff = 0
yaccel = .53
getpower = 60,60

[State 300, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, NA
damage = 21+ifelse(var(5) = 1,6,0), 0
animtype = Hard
hitflag = MAF
guardflag = H
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -76
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,15
air.velocity = -5,9
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
fall = 1
yaccel = .53
getpower = 60,60

[State 300, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レバー3入れ強キック
[Statedef 310]
type    = S
movetype= A
physics = N
juggle  = 8
ctrl = 0
anim = 310
poweradd = 0
sprpriority = 2

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s200,1
channel = 0

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 11
value = s201,2
channel = 0

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 15
value = s310,0
channel = 0

[State 300, 音]
type = PlaySnd
trigger1 = time = 1|animelem = 9|animelem = 15
value = s205,1

[State 200, 1]
type = StateTypeSet
trigger1 = animelemtime(16) = 12
Movetype = I

[State 310, 1]
type = Velset
trigger1 = time = 0
x = 2

[State 310, 1]
type = Velset
trigger1 = animelem = 14|animelemtime(16) = 10
x = 0

[State 310, 1]
type = Velmul
trigger1 = time > 0 && animelemtime(14) < 0
x = .94

[State 310, 1]
type = posadd
trigger1 = animelemtime(14) = 5
x = 4

[State 310, 1]
type = Velset
trigger1 = animelem = 16
x = 7

[State 310, 1]
type = Velmul
trigger1 = animelemtime(16) > 0 && animelemtime(16) <= 10
x = .88

[State 310, 1]
type = varset
trigger1 = time = 0|animelemtime(16) = 0|animelemtime(16) = 5
trigger2 = numtarget(315)
trigger2 = target,stateno = 315
v = 0
value = 0
ignorehitpause = 1

[State 310, 1]
type = varset
trigger1 = movecontact
v = 0
value = 1
ignorehitpause = 1

[State 310, 1]
type = varset
trigger1 = movehit
v = 0
value = 2
ignorehitpause = 1

[State 310, 1]
type = movehitreset
trigger1 = movecontact
ignorehitpause = 1

[State 310, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 53+ifelse(var(5) = 1,7,0), 0
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 16
guard.pausetime = 11, 15
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -42
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = 0
guard.slidetime = 20
guard.hittime  = 28
guard.velocity = 0
guard.ctrltime = 28
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 310, 1]
type = HitDef
trigger1 = animelem = 12
attr = S, NA
damage = 24+ifelse(var(5) = 1,32,0), 0
animtype = Hard
hitflag = MAF
guardflag = H
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -78
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7
air.velocity = -5,9
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 45,45

[State 310, 1]
type = HitDef
trigger1 =  animelemtime(16) >= 0 && animelemtime(16) < 5 && var(0) = 0
attr = S, NA
damage = 41+ifelse(var(5) = 1,6,0), 0
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -84
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 60,60

[State 310, 1]
type = HitDef
trigger1 = animelemtime(16) >= 5 && animelemtime(16) < 12 && var(0) = 0
ID = 315
attr = S, NA
damage = 41+ifelse(var(5) = 1,6,0), 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5,Miss
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -84
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 60,60
p2facing = 1
fall = 1
fall.recover = 0

[State 310, 1]
type = TargetState
trigger1 = numtarget(315)
trigger1 = animelemtime(16) >= 5 && var(0) = 2 && target,stateno != 315
value = 315

[State 310, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 315]
type    = A
movetype= H
physics = N
sprpriority = 1

[State 315, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 315, 1]
type = Velset
Trigger1 = Time = 0
x = -5.8
y = -3

[State 315, 2]
type = VelAdd
trigger1 = time > 0
y = .48

[State 315, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 315, 2]
type = ChangeAnim
trigger1 = anim = 5030 && animtime = 0 && SelfAnimExist(5035)
value = 5035

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5035 && animtime = 0
trigger2 = anim = 5030 && animtime = 0 && !SelfAnimExist(5035)
value = 5050

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 25 && time > 0
value = 316

[Statedef 316]
type    = L
movetype= H
physics = N

[State 5101, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 315

[State 5101, 4]
type = VelSet
trigger1 = Time = 0
x = -4
y = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5101, 5]
type = Velmul
trigger1 = 1
x = .92

[State 5101, 4]
type = VelSet
trigger1 = Time = 22
x = 0
y = 0

[State 5101, 1]
type = ChangeAnim
trigger1 = time = 22
value = 5110

[State 5110, 11] ;If just died
type = SelfState
triggerall = !alive
trigger1 = time = 22
value = 5150

[State 5101, 6]
type = SelfState
trigger1 = alive && Time = 22 + const(data.liedown.time) 
value = 5120

;---------------------------------------------------------------------------
; レバー3入れ強パンチ
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 320
poweradd = 0
sprpriority = 2

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s320,0
channel = 0

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s205,1

[State 320, 1]
type = posadd
trigger1 = animelem = 1
x = 12

[State 320, 1]
type = posadd
trigger1 = animelem = 2|animelem = 9
x = 6

[State 320, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Hard
damage    = 63+ifelse(var(5) = 1,32,0), 0
hitflag = MAF
guardflag = M
pausetime = 11,12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5,-97
hitsound   = s3,var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.2,-7.3
air.velocity = -4.2,-7.3
guard.velocity = -9
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -9
fall = 1
fall.recover = 0
yaccel = .53
getpower = 90,90

[State 320, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ・弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 8
ctrl = 0
velset = 0,0
anim = 400
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 400, 1]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage = 21+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -50
hitsound = s0, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ・強パンチ
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 8
ctrl = 0
velset = 0,0
anim = 410
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 410, 1]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage = 63+ifelse(var(5) = 1,32,0), 0
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-97)
hitsound = s2, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ・弱キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 8
ctrl = 0
velset = 0,0
anim = 430
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

[State 430, 1]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage = 21+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = L
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -6
hitsound = s1, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ・強キック
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 10
ctrl = 0
velset = 0,0
anim = 440
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 440, 1]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage = 63+ifelse(var(5) = 1,32,0), 0
animtype = Hard
hitflag = MAF
guardflag = L
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -10
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2,-7.5
air.velocity = -2,-7.5
guard.velocity = -9
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .66
getpower = 90,90

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; ジャンプ・弱パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 8
ctrl = 0
anim = 600
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

[State 600, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 21+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = HA
pausetime = 11, 11
guard.pausetime = 11, 11
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -66
hitsound = s0, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

;---------------------------------------------------------------------------
; ジャンプ・強パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 8
ctrl = 0
anim = 610
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

[State 610, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 63+ifelse(var(5) = 1,32,0), 0
animtype = Hard
hitflag = MAF
guardflag = HA
pausetime = 11, 11
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -66
hitsound = s2, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

;---------------------------------------------------------------------------
; ジャンプ・弱キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 8
ctrl = 0
anim = 630
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 630, 1]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 21+ifelse(var(5) = 1,4,0), 0
animtype = Light
hitflag = MAF
guardflag = HA
pausetime = 11, 11
guard.pausetime = 11, 11
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -50
hitsound = s1, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45

;---------------------------------------------------------------------------
; ジャンプ・強キック
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 8
ctrl = 0
anim = 640
poweradd = 0
sprpriority = 2


[State 640, 1]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = A, NA
damage = 80
animtype = Hard
hitflag = MAF
guardflag = HA
pausetime = 11, 11
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, -58
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

------------------------------------------------------------------------
; 緊急回避・前
[Statedef 700]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 700
velset = 0,0
poweradd = ifelse((prevstateno = [150,152]),-1000,0)
sprpriority = -2

[State 195, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s195,0
channel = 0

[State 720, 1]
type = PalFX
trigger1 = (Time = 0|Time = 2|Time = 4|Time = 6) && (prevstateno = [150,152])
time = 1
add = 255,255,255

[State 40, 2]
type = AfterImage
trigger1 = time = 0 && (prevstateno = [150,152])
time = 26
length = 8
framegap = 3
palcontrast = 100,100,255
PalAdd = 0,0,0
palmul = 1,1,1

[State 40, 2]
type = AfterImage
trigger1 = time = 0 && (prevstateno != [150,152])
time = 26
length = 8
framegap = 3
trans = add1
palcontrast = 100,100,100
PalAdd = 0,0,0
palmul = 1,1,1

[State 700, 1]
type = HitBy
trigger1 = animelemtime(3) < 0
value = SC, NT, ST, HT

[State 700, 2]
type = PlayerPush
trigger1 = 1
value = 0

[state 700, 3]
type = velset
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
x = 5

[state 700, 3]
type = velset
trigger1 = animelem = 3
x = 0

[State -2]
type = AfterImageTime
trigger1 = animtime = 0
value = 0

[State 700, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

------------------------------------------------------------------------
; 緊急回避・後
[Statedef 710]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 710
velset = 0,0
poweradd = ifelse((prevstateno = [150,152]),-1000,0)
sprpriority = -2

[State 195, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s195,0
channel = 0

[State 720, 1]
type = PalFX
trigger1 = (Time = 0|Time = 2|Time = 4|Time = 6) && (prevstateno = [150,152])
time = 1
add = 255,255,255

[State 40, 2]
type = AfterImage
trigger1 = time = 0 && (prevstateno = [150,152])
time = 26
length = 8
framegap = 3
palcontrast = 100,100,255
PalAdd = 0,0,0
palmul = 1,1,1

[State 40, 2]
type = AfterImage
trigger1 = time = 0 && (prevstateno != [150,152])
time = 26
length = 8
framegap = 3
trans = add1
palcontrast = 100,100,100
PalAdd = 0,0,0
palmul = 1,1,1

[State 710, 1]
type = HitBy
trigger1 = animelemtime(3) < 0
value = SC, NT, ST, HT

[State 710, 2]
type = PlayerPush
trigger1 = 1
value = 0

[state 710, 3]
type = velset
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
x = -5

[state 710, 3]
type = velset
trigger1 = animelem = 3
x = 0

[State -2]
type = AfterImageTime
trigger1 = animtime = 0
value = 0

[State 710, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガードキャンセル
[Statedef 720]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
velset = 0,0
anim = 720
poweradd = -1000
sprpriority = 2

[State 195, 音]
type = PlaySnd
trigger1 = time = 1
value = s320,0
channel = 0

[State 195, 音]
type = PlaySnd
trigger1 = time = 1
value = s205,1

[State 720, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 720, 1]
type = PalFX
trigger1 = Time = 0|Time = 2|Time = 4|Time = 6
time = 1
add = 255,255,255

[State 720, 1]
type = HitDef
trigger1 = animelem = 5
trigger2 = animelem = 6
attr = S, NA
damage = 0, 0
animtype = diagup
air.animtype = diagup
hitflag = MAF
guardflag = 
pausetime = 11, 12
sparkno = s7002
sparkxy = -5, -75
hitsound = s3, var(10)
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6.5,-8
air.velocity = -6.5,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .4
fall = 1
fall.recover = 0
getpower = 0,0

[State 720, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------
; ふっ飛ばし攻撃
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 720
sprpriority = 2


;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0


;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 9
x = 3

[state a]
type = posadd
trigger1 = animelem = 8
x = 16

;---------------------[攻撃]
[State 240, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 240, 1]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
fall = 1
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90
envshake.time =  15 
envshake.freq = 45    
envshake.ampl = 6 
envshake.phase = 6


;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 投げ（掴み）
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
ID = 800
attr = S, NT
hitflag = M-
priority = 1, Miss
hitsound = s800, 0
sparkno = -1 
numhits = 0
p2facing = 1
p1stateno = 810
p2stateno = 820
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
Trigger1 = time = 1
value = 215

;---------------------------------------------------------------------------
; 投げ（成功）
[Statedef 810]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 810
poweradd = 0
sprpriority = 2

[State 00];
type = PlaySnd
trigger1 = time = 0
value = 98,2

[State 810, 1]
type = VarSet
trigger1 = Time = 0
v = 1
value = 0

[State 810, 1]
type = VarSet
triggerall = animelemtime(2) >= 0 && animelemtime(4) < 0 && var(15) = 0
triggerall = Target,Command = "holdfwd" |Target,Command = "holdback"
trigger1 = Target,Command = "y"|Target,Command = "z"
trigger2 = Target,Command = "b"|Target,Command = "c"
v = 1
value = 1

[State 810, 2]
type = explod
trigger1 = animelem = 3
anim = 7007
pos = 60,-74
ownpal = 1
sprpriority = 3

[State 810, 1]
type = TargetBind
trigger1 = animelemtime(3) >= 3 && animelemtime(4) < 0 && var(1) = 1
pos = 55, 0
ID = 800

[State 810, 1]
type = ChangeState
trigger1 = animelemtime(3) >= 3 && animelemtime(4) < 0 && var(1) = 1
value = 890

[State 195, 音]
type = PlaySnd
trigger1 = animelem = 4
value = s195,0

[State 810, 1]
type = width
trigger1 = animelem = 1
edge = 40,0

[State 810, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 38,0
ID = 800

[State 810, 1]
type = width
trigger1 = animelem = 3
edge = 65,0

[State 810, 1]
type = TargetBind
trigger1 = animelem = 3
pos = 62,0
ID = 800

[State 810, 1]
type = Turn
trigger1 = animelem = 4 && prevstateno = 800

[State 810, 1]
type = Targetstate
trigger1 = animelem = 4
value = ifelse(prevstateno = 800,821,825)
ID = 800

[State 810, 1]
type = width
trigger1 = animelem = 4
edge = 20,0

[State 810, 1]
type = TargetBind
trigger1 = animelem = 4
pos = 14,0
ID = 800

[State 810, 1]
type = width
trigger1 = animelem = 5
edge = 45,0

[State 810, 1]
type = TargetBind
trigger1 = animelem = 5
pos = 40,0
ID = 800

[State 810, 1]
type = Targetstate
trigger1 = animelem = 5
value = 822
ID = 800

[State 810, 1]
type = width
trigger1 = animelem = 6
edge = 55,0

[State 810, 1]
type = TargetBind
trigger1 = animelem = 6
pos = 46,0
ID = 800

[State 810, 1]
type = TargetBind
trigger1 = animelem = 7
pos = 52,0
ID = 800

[State 810, 1]
type = width
trigger1 = animelem = 8
edge = 65,0

[State 810, 1]
type = TargetBind
trigger1 = animelemtime(8) >= 0 && animelemtime(8) < 4
pos = 60,0
ID = 800

[State 195, 音]
type = PlaySnd
trigger1 = animelem = 8
value = s2, var(10)

[State 810, 1]
type = Explod
trigger1 = animelem = 8
anim = 7002
pos = 70,-50
ownpal = 1
sprpriority = 10

[State 810, 1]
type = TargetLifeAdd
trigger1 = animelemtime(8) = 4
value = -84
ID = 800

[State 810, 1]
type = Targetstate
trigger1 = animelemtime(8) = 4
value = 823
ID = 800

[State 810, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 投げ（相手）
[Statedef 820]
type    = S
movetype= H
physics = N
sprpriority = -2

[State 820, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 820

[Statedef 821]
type    = S
movetype= H
physics = N
sprpriority = 3

[State 821, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 821

[State 821, 1]
type = Turn
trigger1 = time = 0

[Statedef 822]
type    = S
movetype= H
physics = N
sprpriority = -2

[State 822, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 822

[Statedef 823]
type    = A
movetype= H
physics = N

[State 823, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 823, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 823, 1]
type = Velset
Trigger1 = time = 0
x = -5
y = -4

[State 823, 2]
type = VelAdd
trigger1 = time > 0
y = .56

[State 823, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimExist(5051)
value = 5051

[State 823, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimExist(5035) && anim != 5051
value = 5035

[State 823, 1]
type = ChangeAnim
trigger1 = anim = 5035 && animtime = 0
trigger2 = time = 0 && !SelfAnimExist(5035) && !SelfAnimExist(5051)
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 25 && time > 0
value = 824

[Statedef 824]
type    = L
movetype= H
physics = N

[State 5101, 4]
type = VelSet
trigger1 = Time = 0
x = -5
y = 0

[State 5101, 4]
type = PosSet
trigger1 = time = 0|time = 18
y = 0

[State 5101, 4]
type = PosSet
trigger1 = time >= 10 && time < 18
y = 20

[State 5101, 5]
type = Velmul
trigger1 = 1
x = .89

[State 5101, 4]
type = VelSet
trigger1 = Time = 18
x = 0
y = 0

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 3]
type = ChangeAnim
trigger1 = time > 0 && time < 10
value = anim

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 10
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 10
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5110, 10]
type = ChangeAnim
persistent = 0
trigger1 = Time = 18
value = ifelse(SelfAnimExist(5112),5112,ifelse(SelfAnimExist(5111),5111,5110))

[State 5110, 11] ;If just died
type = SelfState
triggerall = !alive
trigger1 = time = 18
value = 5150

[State 5101, 6]
type = SelfState
trigger1 = alive && Time = 18 + const(data.liedown.time) 
value = 5120

[Statedef 825]
type    = S
movetype= H
physics = N
sprpriority = 3

[State 825, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 821

;---------------------------------------------------------------------------
; 投げ（掴み）
[Statedef 850]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 850, 1]
type = HitDef
Trigger1 = Time = 0
ID = 800
attr = S, NT
hitflag = M-
priority = 1, Miss
hitsound = s800, 0
sparkno = -1 
numhits = 0
p2facing = 1
p1stateno = 810
p2stateno = 820
fall = 1
fall.recover = 0

[State 850, 2]
type = ChangeState
Trigger1 = time = 1
value = 245

;---------------------------------------------------------------------------
; 投げ抜け（自分側）
[Statedef 890]
type = S
movetype = A
physics = N
anim = 5945
ctrl = 0
velset = 0, 0

[State 890, 1]
type = TargetState
trigger1 = Time = 0
value = 895

[State 890, 1]
type = Envcolor
trigger1 = animelemtime(2) = 4
value = 255, 255, 255
time = 1
under = 1

[State 300, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s2,2

[State 890, 1]
type = PosSet
trigger1 = 1
y = 0

[State 890, 1]
type = velset
trigger1 = AnimElem = 2
x = -7

[State 890, 1]
type = VelMul
trigger1 = 1
x = .80

[State 890, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 投げ抜け（相手側）
[Statedef 895]
type = S
movetype = H
physics = N
ctrl = 0
velset = -6, 0
facing = enemy,facing

[State 895, 1]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "H”"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "NHK"|authorname = "Nyankoro"
value = 5940

[State 895, 1]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "H”"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "NHK"|authorname = "Nyankoro"
value = 5910

[State 895, 1]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910
value = 5007

[State 895, 1]
type = PosSet
trigger1 = 1
y = 0

[State 895, 1]
type = VelMul
trigger1 = 1
x = .85

[State 895, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 895, 1]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 895, 1]
type = SelfState
trigger1 = Time >= 36
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 烈風拳・弱
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1000
poweradd = 90
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 3
value = s99,11
channel = 0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 4
value = s99,12

[State 200, 1]
type = StateTypeSet
trigger1 = animelemtime(4) = 1
Movetype = I









[State 1000, 1]
type = Projectile
trigger1 = animelem = 7
projID = 1000
projanim = 1015
projhitanim = 3390
projcancelanim = 1020
projremovetime = 24
projremanim = -1
velocity = 4, 0
projhits = 2
offset = 50,-20
attr = S, SP
damage = 80,7
projscale = 1,1
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 0,12
guard.pausetime = 0, 11
sparkno = 1
guard.sparkno = s7006
sparkxy = 25, -35
hitsound = s99,13
guardsound = s4,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 60,60
air.juggle = 8
projsprpriority = 4

[State 1000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 烈風拳・強
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1005
poweradd = 90
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 3
value = s99,74
channel = 0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 4
value = s99,12

[State 200, 1]
type = StateTypeSet
trigger1 = animelemtime(4) = 1
Movetype = I



[State 1000, 1]
type = Projectile
trigger1 = animelem = 7
projID = 1000
projanim = 1015
projhitanim = 3390
projcancelanim = 1020
projremovetime = 24
projremanim = -1
velocity = 4, 0
projhits = 2
offset = 50,-20
attr = S, SP
damage = 40,7
projscale = 1,1
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 0,12
guard.pausetime = 0, 11
sparkno = 1
guard.sparkno = s7006
sparkxy = 25, -35
hitsound = s99,13
guardsound = s4,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 60,60
air.juggle = 8
projsprpriority = 4


[State 1000, 1]
type = Projectile
trigger1 = animelem = 12
projID = 1000
projanim = 1016
projhitanim = 3390
projcancelanim = 1020
projremovetime = 24
projremanim = -1
velocity = 4, 0
projhits = 4
offset = 50,-20
attr = S, SP
damage = 40,7
projscale = 1,1
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 0,12
guard.pausetime = 0, 11
sparkno = 1
guard.sparkno = s7006
sparkxy = 25, -35
hitsound = s99,13
guardsound = s4,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 60,60
air.juggle = 8
projsprpriority = 4


[State 1005, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 烈風拳・エフェクト
[Statedef 1010]
physics = N
anim = 1010
sprpriority = 3

[State 1010, 1]
type = Velset
trigger1 = time = 0
x = 2

[State 1010, 1]
type = Velmul
trigger1 = 1
x = .97

[State 1010, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1010, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; キャンセル烈風拳・弱（地上）
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1050
poweradd = 60
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 3
value = s1000,0
channel = 0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 5
value = s1001,0



[State 1050, 1]
type = HitDef
trigger1 = animelem = 7
trigger2 = animelem = 8
attr = S, SA
damage = 73+ifelse(var(5) = 1,14,0), 7
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7002
guard.sparkno = s7006
sparkxy = -5, -74
hitsound = s3, var(10)
guardsound = s4, 1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-7
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .53
getpower = 30,30

[State 1000, 1]
type = Projectile
trigger1 = animelem = 7
projID = 1000
projanim = 1015
projhitanim = 3390
projcancelanim = 1020
projremovetime = 24
projremanim = -1
velocity = 4, 0
projhits = 2
offset = 50,-20
attr = S, SP
damage = 80,7
projscale = 1,1
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 0,12
guard.pausetime = 0, 11
sparkno = 1
guard.sparkno = s7006
sparkxy = 25, -35
hitsound = s99,13
guardsound = s4,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 60,60
air.juggle = 8
projsprpriority = 4


[State 1050, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1051

;---------------------------------------------------------------------------
; キャンセル烈風拳・弱（空中）
[Statedef 1051]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1051
poweradd = 0
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
attr = S, NA
damage = 30
animtype = Light
hitflag = MAF
guardflag = M
pausetime = 7, 8
guard.pausetime = 7, 7
sparkno = s7000
guard.sparkno = s7004
sparkxy = -5, -89
hitsound = s0, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 45,45


[State 1051, 1]
type = VelSet
trigger1 = time = 0
x = 4.3
y = -4

[State 1051, 2]
type = Veladd
trigger1 = time > 0
y = .5

[State 1051, 2]
type = Velmul
trigger1 = time > 0
x = .96

[State 1051, 1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1052

;---------------------------------------------------------------------------
; キャンセル烈風拳・弱（着地）
[Statedef 1052]
type    = S
physics = S
anim = 1052
ctrl = 0

[State 1052, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1052, 2]
type = velset
trigger1 = 1
x = 0
y = 0

[State 1052, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; キャンセル烈風拳・強（地上）
[Statedef 1060]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1060
poweradd = 60
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 3
value = s99,11
channel = 0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 4
value = s99,12



[State 1000, 1]
type = Projectile
trigger1 = animelem = 4
projID = 1000
projanim = 1016
projhitanim = 3390
projcancelanim = 1020
projremovetime = 24
projremanim = -1
velocity = 6, 0
projhits = 4
offset = 0,-20
attr = S, SP
damage = 40,7
projscale = 1,1
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 0,12
guard.pausetime = 0, 11
sparkno = 1
guard.sparkno = s7006
sparkxy = 25, -35
hitsound = s99,13
guardsound = s4,1
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 60,60
air.juggle = 8
projsprpriority = 4

[State 1060, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1061

;---------------------------------------------------------------------------
; キャンセル烈風拳・強（空中）
[Statedef 1061]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 1061
poweradd = 0
sprpriority = 2

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 1061, 1]
type = VelSet
trigger1 = time = 0
x = 4.2
y = -6

[State 1061, 1]
type = HitDef
trigger1 = animelem = 6
attr = A, SA
damage = 60,20
animtype = Hard
hitflag = MAF
guardflag = H
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7002
guard.sparkno = s7006
sparkxy = -5, -76
hitsound = s3, var(10)
guardsound = s4, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -5,9
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 30,30

[State 1061, 2]
type = Veladd
trigger1 = time > 0 && animelemtime(7) < 0
y = .42

[State 1061, 1]
type = VelSet
trigger1 = animelem = 7
x = 3.2
y = -2

[State 1061, 2]
type = Veladd
trigger1 = animelemtime(7) > 0
y = .32

[State 1061, 1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1062

;---------------------------------------------------------------------------
; キャンセル烈風拳・強（着地）
[Statedef 1062]
type    = S
physics = S
anim = 1062
ctrl = 0

[State 1062, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1062, 2]
type = velset
trigger1 = 1
x = 0
y = 0

[State 1062, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; Salto Nanto
[Statedef 1100]
;type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1100
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = null;posset
trigger1 = time = 0
y = 0

[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "a"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = statetype = A
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "b"
v = 5
value = 2

[state a]
type = changeanim
trigger1 = time = 1
trigger1 = var(5) = 1
value = 1101

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1102

;---------------------[]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = var(5) = 1
trigger1 = time <= 9
value = SCA

;---------------------[効果音]
[state a];南斗獄屠拳!!
type = playsnd
trigger1 = animelem = 2
value = 99,14

[state a];蹴り
type = playsnd
trigger1 = animelem = 6
value = 1100,1

;-------------[速度・１]
[state a]
type = statetypeset
trigger1 = time = 0
value = A

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = time = 0
x = 2
y = 0

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 6,<=0
x = 0.7


[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 7,>=0
trigger1 = vel x > 0
x = -0.3

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = vel x <= 0
x = 0

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 5,>=0
trigger1 = animelem = 10,<=0
y = -0.6

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 10,>=0
y = 0.5


;-------------[速度・２]
[state a]
type = velset
triggerall = var(5) = 1
trigger1 = time = 0
x = 5
y = -3.5

[state a]
type = veladd
triggerall = var(5) = 1
trigger1 = animelem = 10,>=0
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
triggerall = var(5) = 1
trigger1 = vel x <= 2
x = 2

[state a]
type = veladd
triggerall = var(5) = 1
trigger1 = animelem = 10,>=0
y = 0.45


;-------------[速度・２]
[state a]
type = velset
triggerall = var(5) = 2
trigger1 = time = 0
x = 6
y = -6.5

[state a]
type = veladd
triggerall = var(5) = 2
trigger1 = animelem = 9,>=0
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
triggerall = var(5) = 2
trigger1 = vel x <= 2
x = 2

[state a]
type = veladd
triggerall = var(5) = 2
trigger1 = 1
y = 0.4


;---------------------[ヘルパー]
[state a];エフェクト１
type = Helper
trigger1 = animelem = 7
id = 1110
name = "gokuto"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 1110
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト２
type = Helper
trigger1 = animelem = 7
id = 1111
name = "gokuto2"
sprpriority = 2
pos = -20,-280/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト３
type = Helper
trigger1 = animelem = 7
id = 1112
name = "gokuto3"
sprpriority = 2
pos = 0,-220/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

;---------------------[弱攻撃]
[State 640, 3]
type = HitDef
triggerall = var(5) = 0
trigger1 = animelem = 7
attr = A, SA
damage    = 115,15
priority = 8, Hit
guardflag = MA
getpower = 108,108
pausetime = 14,14
guard.pausetime = 12,12
sparkno = 2
sparkxy = -10,-125
hitsound   = s99,72
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10,-2
guard.velocity = -11
air.velocity = ifelse(var(9) = 0,-2,0),-10
yaccel = 0.65 + (var(3) - 1)*0.1
fall = 1
fall.recover = 0
ID = 600
nochainID = 9999

;---------------------[相手制御]


[state a]
type = varset
trigger1 = var(5) = 0
trigger1 = movehit = 1
v = 11
value = 1

;---------------------[空中弱攻撃]
[State 640, 3]
type = HitDef
triggerall = var(5) = 1
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
attr = A, SA
damage    = 37,6
priority = 6, Hit
guardflag = HA
getpower = 62,62
pausetime = 12,12
guard.pausetime = 6,6
sparkno = 2
sparkxy = -10,-125
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4,-2
guard.velocity = -3
air.velocity = ifelse(var(9) = 0,-4,0),-10
yaccel = 0.65 + (var(3) - 1)*0.1
fall = 1
fall.recover = 0
ID = 600
nochainID = 9999

[State 640, 3]
type = HitDef
triggerall = var(5) = 1
trigger1 = animelem = 10
attr = A, SA
damage    = 37,6
priority = 6, Hit
guardflag = HA
getpower = 108,108
pausetime = 15,15
guard.pausetime = 15,15
sparkno = 2
sparkxy = -10,-125
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,-3
guard.velocity = -11
air.velocity = ifelse(var(9) = 0,-4,0),-10
yaccel = 0.65 + (var(3) - 1)*0.1
fall = 1
fall.recover = 0
ID = 600
nochainID = 9999

;---------------------[強攻撃]
[State 640, 3]
type = HitDef
triggerall = var(5) = 2
trigger1 = animelem = 7
attr = A, SA
damage    = 115,15
priority = 6, Hit
guardflag = HA
getpower = 108,108
pausetime = 17,17
guard.pausetime = 15,15
sparkno = 2
sparkxy = -10,-125
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-10
guard.velocity = -11
air.velocity = ifelse(var(9) = 0,-2,0),-10
yaccel = 0.55 + (var(3) - 1)*0.1
fall = 1
fall.recovertime = 60
ID = 600
nochainID = 9999


;---------------------[]
[state a];ブースト
type = veladd
trigger1 = command = "z"
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
trigger1 = command = "z"
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
trigger1 = command = "z"
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

[state a]
type = ctrlset
trigger1 = var(5) = 0
trigger1 = animelem = 15
value = 1

;---------------------[七星ゲージ]
[state a];グレイブシュート
type = varadd
trigger1 = movehit = 1
trigger1 = var(9) != 0
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

[state a];カウンターヒット
type = varadd
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = var(5) != 0
value = 1105

[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 50


;---------------------------------------------------------------------------
;南斗獄屠拳・着地
[Statedef 1105]
type = S
movetype = A
physics = S
poweradd= 0
ctrl = 0
anim = 1105
sprpriority = 2
velset = 0,0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State -3, Landing Sound]
type = PlaySnd
trigger1 = time = 0
value = 99,16

[State explod];着地エフェクト
type = Explod
trigger1 = time = 0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)獄屠エフェクト１
[Statedef 1110]
type = A
ctrl = 0
anim = 1111
velset = 0,0
movetype = I
physics = N
sprpriority = 2



[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = 1
pos = 140/2,-300/2

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
value = 36

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2

;---------------------[]
[state a]
type = destroyself
trigger1 = root,animelem = 13,>=0 && root,var(5) = 0
trigger2 = root,animelem = 12,>=0 && root,var(5) = 1
trigger3 = root,animelem = 11,>=0 && root,var(5) = 2
trigger4 = root,stateno != 1100


;---------------------------------------------------------------------------
;(HELPER)獄屠エフェクト２
[Statedef 1111]
type = A
ctrl = 0
anim = 1112
velset = -1,0
movetype = I
physics = N
sprpriority = 2



[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(1111)
x = -1

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(1112)
x = -0.5
y = 0.5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 8

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1111)
value = 0

[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1112)
value = 36

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 2.0+var(1)*0.001,2.0+var(1)*0.001

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 32

;---------------------------------------------------------------------------
; ジェノサイドカッター・強（地上）
[Statedef 1150]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1150
poweradd = 60
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s1100,0
channel = 0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s40,1

[State 1110, 1]
type = varset
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1150, 1]
type = Explod
trigger1 = animelem = 2
ID = 1150
anim = 1110
bindtime = -1
ownpal = 1
sprpriority = 3

[State 1150, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, SA
animtype  = Hard
damage    = 120,20
hitflag = MAF
guardflag = M
pausetime = 11,13
guard.pausetime = 11, 12
sparkno = s7008
guard.sparkno = s7006
sparkxy = -5,-38
hitsound   = s1101,1
guardsound = s4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-8.5
air.velocity = -4,-8.5
guard.slidetime = 20
guard.hittime  = 20
guard.velocity = -9
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .53
getpower = 30,30

[State 1150, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1151

;---------------------------------------------------------------------------
; ジェノサイドカッター・強（空中）
[Statedef 1151]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1151
sprpriority = 2

[State 1100, 1]
type = NotHitBy
trigger1 = animelemtime(3) < 0
value = SCA
time = 1

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

[State 1151, 1]
type = VelSet
trigger1 = time = 0
x = 4
y = -6

[State 1151, 2]
type = Veladd
trigger1 = time > 0
y = .44

[State 1151, 2]
type = Velmul
trigger1 = 1
x = .96

[State 1151, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
animtype  = Hard
damage    = (63+ifelse(var(5) = 1,14,0))/ifelse(var(7) = 0,1,(var(7)*2)),7
hitflag = MAF
guardflag = M
pausetime = 11,12
guard.pausetime = 11, 11
sparkno = s7008
guard.sparkno = s7006
sparkxy = -5,-82
hitsound   = s1101,1
guardsound = s4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-8.5
air.velocity = -4,-8.5
guard.slidetime = 20
guard.hittime  = 20
guard.velocity = -9
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .53
getpower = 30,30

[State 1151, 1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1152

;---------------------------------------------------------------------------
; ジェノサイドカッター・強（着地）
[Statedef 1152]
type    = S
physics = S
anim = 1152
ctrl = 0

[State 1152, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1152, 2]
type = velset
trigger1 = 1
x = 0
y = 0

[State 1152, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------
;(ENEMY)へヴィストライク、吹き飛び
[Statedef 550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = time = 0
x = -12

[state a]
type = posadd
trigger1 = time = 0
trigger1 = enemy,stateno = 321
y = -20

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 550

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 552

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、弱吹き飛び
[Statedef 551]
type    = A
movetype= H
physics = N
velset = -12,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 550

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
value = 552

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、壁ヒット
[Statedef 552]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 552

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 562

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

[state a]
type = posadd
trigger1 = time = 0
trigger1 = prevstateno = 550
y = -10

[state a]
type = posadd
trigger1 = time = 0
trigger1 = prevstateno = 551
y = 5


[state a]
type = changestate
trigger1 = animtime = 0
value = 553

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、落下
[Statedef 553]
type    = A
movetype= H
physics = N
velset = 0.4,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 563

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = veladd
trigger1 = time >= 3
y = 0.45

[State 821, 3]
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;drago volante blocco
[Statedef 1120]
type    = S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0
anim = 1120
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S99,29






[State 1500]
type = ReversalDef
trigger1 = Time = 0
attr = S, ST
reversal.attr = S,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 120,120
hitsound = s99,30
p1facing = 1
p2facing = 1
sparkno = s4610
sparkxy = 0,0
p1stateno = 3020
p2stateno = 3040


[State 1500]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;　殺掌陰蹴(返し)
; Drago volante
[Statedef 3020]
type    = S
movetype= A
physics = S
anim = 3020
velset = 0,0
sprpriority = 3
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = animelem = 1
value = -2000
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,31

[State 210, 1]
type = HitDef
trigger1 = animelem = 187
attr = S, NA
damage = 1
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = 2
guard.sparkno = s7005
sparkxy = -5, -64
hitsound = s2, var(10)
guardsound = s4, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 300
ground.velocity = 0
air.velocity = 0,0
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 158
anim = 3020
sound = S99,32
pos = 0,0
move = 0
movetime = 158
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 18
value = S99,33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 19
value = S99,34

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 190
time = 323
anim = 3020
sound = S99,35
pos = 0,0
move = 0
movetime = 280
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1
;ignorehitpause =
;persistent =

[State 3020, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3115, Width]
type = Width
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 190,<0
value = 135, 0

[State 3020, Bind-2]
type = TargetBind
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 190,<0
pos = 100, 0
bindtime = -1

[State 3020, NHB]
type = HitBy
trigger1 = P2Stateno = 3040
value = S,HA
time = 1

;l
[State 3020,7]
type = TargetLifeAdd
trigger1 = AnimElem = 20,>=0
trigger1 = AnimElem = 187,<0
value = -1
kill = 0

[State 3020,7]
type = TargetPowerAdd
trigger1 = AnimElem = 20,>=0
trigger1 = AnimElem = 187,<0
value = 5

[State 3020,7]
type = TargetPowerAdd
trigger1 = AnimElem = 52
value = 70

[State 3020, 4]
type = HitAdd
trigger1=AnimElem=20||AnimElem=22||AnimElem=24||AnimElem=26||AnimElem=28||AnimElem=30||AnimElem=32
trigger2=AnimElem=34||AnimElem=36||AnimElem=38||AnimElem=40||AnimElem=42||AnimElem=44
trigger3=AnimElem=46||AnimElem=48||AnimElem=50||AnimElem=52||AnimElem=54||AnimElem=56
trigger4=AnimElem=58||AnimElem=60||AnimElem=62||AnimElem=64||AnimElem=66||AnimElem=68
trigger5=AnimElem=70||AnimElem=72||AnimElem=74||AnimElem=76||AnimElem=78||AnimElem=80
trigger6=AnimElem=82||AnimElem=84||AnimElem=86||AnimElem=88||AnimElem=90||AnimElem=92
trigger7=AnimElem=94||AnimElem=96||AnimElem=98||AnimElem=100||AnimElem=102||AnimElem=104
trigger8=AnimElem=106||AnimElem=108||AnimElem=110||AnimElem=112||AnimElem=114||AnimElem=116
trigger9=AnimElem=118||AnimElem=120||AnimElem=122||AnimElem=124||AnimElem=126||AnimElem=128
trigger10=AnimElem=130||AnimElem=132||AnimElem=134||AnimElem=136||AnimElem=138||AnimElem=140
trigger11=AnimElem=142||AnimElem=144||AnimElem=146||AnimElem=148||AnimElem=150||AnimElem=152
trigger12=AnimElem=154||AnimElem=156||AnimElem=158||AnimElem=160||AnimElem=162||AnimElem=164
trigger13=AnimElem=168||AnimElem=172||AnimElem=176||AnimElem=180||AnimElem=184||AnimElem=188
value = 1
p2stateno = 3040

[State 3020, 8]
type = EnvColor
trigger1=AnimElem=20||AnimElem=22||AnimElem=24||AnimElem=26||AnimElem=28||AnimElem=30||AnimElem=32
trigger2=AnimElem=34||AnimElem=36||AnimElem=38||AnimElem=40||AnimElem=42||AnimElem=44
trigger3=AnimElem=46||AnimElem=48||AnimElem=50||AnimElem=52||AnimElem=54||AnimElem=56
trigger4=AnimElem=58||AnimElem=60||AnimElem=62||AnimElem=64||AnimElem=66||AnimElem=68
trigger5=AnimElem=70||AnimElem=72||AnimElem=74||AnimElem=76||AnimElem=78||AnimElem=80
trigger6=AnimElem=82||AnimElem=84||AnimElem=86||AnimElem=88||AnimElem=90||AnimElem=92
trigger7=AnimElem=94||AnimElem=96||AnimElem=98||AnimElem=100||AnimElem=102||AnimElem=104
trigger8=AnimElem=106||AnimElem=108||AnimElem=110||AnimElem=112||AnimElem=114||AnimElem=116
trigger9=AnimElem=118||AnimElem=120||AnimElem=122||AnimElem=124||AnimElem=126||AnimElem=128
trigger10=AnimElem=130||AnimElem=132||AnimElem=134||AnimElem=136||AnimElem=138||AnimElem=140
trigger11=AnimElem=142||AnimElem=144||AnimElem=146||AnimElem=148||AnimElem=150||AnimElem=152
trigger12=AnimElem=154||AnimElem=156||AnimElem=158||AnimElem=160||AnimElem=162||AnimElem=164
trigger13=AnimElem=168||AnimElem=172||AnimElem=176||AnimElem=180||AnimElem=184||AnimElem=188
value = 235,235,235
time = 1
under = 1
invertall = 1
ignorehitpause = 1

[State 3020, pset]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3020, exp-1]
type = explod
trigger1=AnimElem=20||AnimElem=22||AnimElem=24||AnimElem=26||AnimElem=28||AnimElem=30||AnimElem=32
trigger2=AnimElem=34||AnimElem=36||AnimElem=38||AnimElem=40||AnimElem=42||AnimElem=44
trigger3=AnimElem=46||AnimElem=48||AnimElem=50||AnimElem=52||AnimElem=54||AnimElem=56
trigger4=AnimElem=58||AnimElem=60||AnimElem=62||AnimElem=64||AnimElem=66||AnimElem=68
trigger5=AnimElem=70||AnimElem=72||AnimElem=74||AnimElem=76||AnimElem=78||AnimElem=80
trigger6=AnimElem=82||AnimElem=84||AnimElem=86||AnimElem=88||AnimElem=90||AnimElem=92
trigger7=AnimElem=94||AnimElem=96||AnimElem=98||AnimElem=100||AnimElem=102||AnimElem=104
trigger8=AnimElem=106||AnimElem=108||AnimElem=110||AnimElem=112||AnimElem=114||AnimElem=116
trigger9=AnimElem=118||AnimElem=120||AnimElem=122||AnimElem=124||AnimElem=126||AnimElem=128
trigger10=AnimElem=130||AnimElem=132||AnimElem=134||AnimElem=136||AnimElem=138||AnimElem=140
trigger11=AnimElem=142||AnimElem=144||AnimElem=146||AnimElem=148||AnimElem=150||AnimElem=152
trigger12=AnimElem=154||AnimElem=156||AnimElem=158||AnimElem=160||AnimElem=162||AnimElem=164
trigger13=AnimElem=168||AnimElem=172||AnimElem=176||AnimElem=180||AnimElem=184||AnimElem=188
postype = p1
pos = 135, -65
sprpriority = 4
anim = F2
persistent = 1
ownpal = 1
random = 15,95

[State 3020, exp-1]
type = explod
trigger1 = AnimElem = 51
postype = p1
pos = 0, 0
sprpriority = 4
anim = 7230
ID = 7230
persistent = 1
ownpal = 1
bindtime = -1
;luc

[State 3020, cs]
type = ChangeState
trigger1 = AnimTime = 0
value = 3021
ctrl = 1
;-----------------------
[Statedef 3021]
type    = S
movetype= A
physics = S
anim = 3021
ctrl = 0
juggle  = 5
velset = 0,0
poweradd = 100
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 7
y = 0
;ignorehitpause =
;persistent =

[State 1450]
type = PlaySnd
trigger1 = AnimElem = 10
value = 2500,4


[State 1450]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,36

[State 1450]
type = hitDef
trigger1 = animelem = 3
attr = A, SA
damage = 10
animtype = hard
guardflag = -1
hitflag = MAF
priority = 5, Hit
pausetime = 3,15
guard.pausetime = 8,8
sparkxy = -10,-65
hitsound   = S99,37
guardsound = S150,1
ground.type = high
ground.slidetime =15
ground.hittime  = 170
ground.velocity = -.5,0
airguard.velocity = -2.9,-4
air.type = high
air.velocity = -3.4,-4
air.fall = 1
envshake.time = 10
envshake.anpl = 3

[State 1450]
type = Helper
trigger1 = MoveHit
trigger1 = numhelper(3021) = 0
name = "bomb"
ID = 3021
stateno = 1460
postype = P2
pos = 0,0
sprpriority = 7
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2
ignorehitpause = 1
persistent = 0




[State 1450]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------
[Statedef 1460]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1460
sprpriority = 7

[State 1460]
type = posadd
trigger1 = 1
x = p2dist X+5
y = p2bodydist Y-60

[State 1460]
type = turn
trigger1 = rootdist X < -1

[State 1460]
type = Destroyself
trigger1 = Parent,Movetype = H

[State 1460]
type = changestate
trigger1 = AnimTime = 0
value=1499

;　爆発
[Statedef 1499]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1499

[State 1499]
type = hitDef
trigger1 = time = 0
attr = A, SP
damage = 400
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0,5
guard.pausetime=0,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime =15
ground.hittime  = 20
ground.velocity = 4,-6
airguard.velocity = -2.9,-5
air.type = high
air.velocity = -3.4,-4
envshake.time = 14
envshake.anpl = 3
palfx.time = 70
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
fall = 1

[State 1499]
type = PlaySnd
trigger1 = time = 0
value = 99,38

[State 1499]
type = Explod
trigger1 = Time = 0
anim = 1461
postype = p1
pos = -70,-15
sprpriority = 3
supermove = 1
bindtime = 1
ownpal = 1
scale = 1.1,1.1

[State 1499]
type = Destroyself
trigger1 = AnimTime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
[Statedef 3030]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3030, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3030, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3030

[STate 3030,3]
type = Screenbound
trigger1 = 1
value = 0

[State 3030, CS]
type = ChangeState
trigger1 = P2StateNo = 3010
value = 3035
ctrl = 0

[State 3030, CS]
type = SelfState
trigger1 = time >=300
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ＤＯ相手・壁よろけ
[Statedef 3035]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3035, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3035, PosS]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3035, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3035

[State 3035, CS]
type = ChangeState
trigger1 = P2StateNo = 3020
trigger2 = Time = 41
value = 3040
ctrl = 0

[State 3035, CS]
type = SelfState
trigger1 = Time = 500
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ＤＯ相手・連打喰らい
[Statedef 3040]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3040, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3040, CA2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3040

[State 3040, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 3045
ctrl = 0

[State 3040, CS]
type = SelfState
trigger1 = Time = 800
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ＤＯ相手・ピヨひこ
[Statedef 3045]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3045, 3]
type = ScreenBound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3045, HB]
type = HitBy
trigger1 = time >= 0
value = S,HA
time = 1

[State 3045, PPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 3045, CA]
type = ChangeAnim
trigger1 = AnimExist(5300)
trigger1 = time = 0
value = 5300

[State 3045, CS]
type = SelfState
trigger1 = Time = 110
value = 0
ctrl = 1


;----------
; 南斗虐指葬
[Statedef 1200]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1500
sprpriority = 1
ctrl = 0


[state a]
type = veladd
trigger1 = vel x > 0
x = 0.1

[state a]
type = velset
trigger1 = vel x <= 0
x = 3

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0



;---------------------[効果音]
[state a];振り
type = playsnd
trigger1 = animelem = 4
value = 300,3


;---------------------[コマンド判定]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
trigger2 = animelem = 3
Trigger1 = enemy,stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, ST
hitflag = M-
priority = 1, Miss
sparkno = -1
sprpriority = -1
p1facing = 1
p2facing = 1
p1stateno = 1505
p2stateno = 1550
fall = 1
nochainID = 600,9999

;---------------------[]
[state a];ブースト
type = veladd
trigger1 = command = "z"
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
trigger1 = command = "z"
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
trigger1 = command = "z"
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;地獄へ突き落としてやる！！
[Statedef 1505]
type    = S
movetype= A
physics = N
anim = 1505
juggle  = 0
velset = 0,0
sprpriority = -1

;---------------------[]

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 1300, 1

[State 810, Grab Sound];地獄へ突き落としてやる！！！
type = PlaySnd
trigger1 = animelem = 1
value = 1500, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 400, 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 500, 2

;---------------------[]
[State explod];出血
type = Explod
trigger1 = animelem = 4
anim = 1510
id = 3000
sprpriority = 5
postype = p1
pos = -5,0
bindtime = -1
supermove = 0
ignorehitpause = 0
removetime = 43
under = 0
scale = 0.5,0.5

[State explod];出血
type = Explod
trigger1 = animelem = 9
anim = 1513
id = 3000
sprpriority = 5
postype = p1
pos = 126/2,-214/2
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 1.0,1.0

[State explod];手についた血
type = Explod
trigger1 = animelem = 9
anim = 1516
id = 3000
sprpriority = 7
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

[State explod];掴み
type = Explod
trigger1 = animelem = 9
anim = 7010+(random%8)
id = 3000
sprpriority = 8
postype = p1
pos = 116/2,-214/2
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0



;---------------------[ヘルパー]
[state a];出血
type = Helper
trigger1 = animelemtime(4) = 0
trigger2 = animelemtime(5) = 0
trigger3 = animelemtime(6) = 0
trigger4 = animelemtime(7) = 0
trigger5 = animelemtime(7) = 8
id = 1510
name = "sennshu"
sprpriority = 5
pos = 78/2,-154/2
postype = p1
stateno = 1511
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];出血
type = Helper
trigger1 = animelem = 12
id = 1510
name = "sennshu"
sprpriority = 5
pos = -120/2,-160/2
postype = p1
stateno = 1517
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 96/2,-188/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 78/2,-300/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 58/2,-266/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 78/2,-204/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 9
pos = 126/2,-204/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 11
pos = 126/2,-14/2


[State 801, 2]
type = Targetstate
trigger1 = animelem = 1
value = 1550

[State 801, 2]
type = Targetstate
trigger1 = animelem = 11
value = 1551

[state a]
type = poweradd
trigger1 = animelem = 9
value = 123

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 9
value = -115

;:::

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = animelem = 9
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = animelem = 9
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0


[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 40,0

[State 821, 3]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(HELPER)血（落下）
[Statedef 1511]
type = A
ctrl = 0
anim = 1511
velset = 0,3
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = veladd
trigger1 = 1
y = 0.35

;---------------------[透過]
[state a]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -10
value = 1512


;---------------------------------------------------------------------------
;(HELPER)血（着地）
[Statedef 1512]
type = A
ctrl = 0
anim = 1512
velset = 0,0
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[透過]
[state a]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;(HELPER)血（落下2）
[Statedef 1517]
type = A
ctrl = 0
anim = 1517
velset = -4,3
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = veladd
trigger1 = 1
y = 0.35

;---------------------[透過]
[state a]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

;---------------------[]
[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -10
value = 1515


;---------------------------------------------------------------------------
;(HELPER)血溜り
[Statedef 1515]
type = A
ctrl = 0
anim = 1515
velset = 0,0
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 10
v = 1
value = 8

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 42



;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 1550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1550

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


;---------------------------------------------------------------------------
;(ENEMY)投げられ２
[Statedef 1551]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = animelem = 1
x = -2
y = -11

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .55

[State 821, 3]
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; スロー処理用ヘルパー
[Statedef 1500]
ctrl = 0
anim = 1212

[State 1500, 1]
type = Pause
trigger1 = time = 12|time = 14|time = 16|time = 18|time = 20|time = 22
trigger2 = time = 24|time = 26|time = 28|time = 30
time = 1

[State 1500, 2]
type = DestroySelf
trigger1 = time = 32|roundstate != 2

[Statedef 1501]
ctrl = 0
anim = 1212

[State 1501, 1]
type = Pause
trigger1 = time = 12|time = 14|time = 16|time = 18|time = 20|time = 22
trigger2 = time = 24|time = 26|time = 28|time = 30|time = 32|time = 34
time = 1

[State 1501, 2]
type = DestroySelf
trigger1 = time = 36|roundstate != 2

;---------------------------------------------------------------------------
; ゴッドプレス・弱
[Statedef 1300]
type = S
physics = S
movetype = A
ctrl = 0
anim = 1300
sprpriority = 2
poweradd = IfElse(((var(52)&&fvar(29)=1)||fvar(34)=2),0,91)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S99,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S99,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S99,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,21



[State -2, velset]
type = VelSet
trigger1 = !(PrevStateNo = [200,700))
trigger1 = Time = 0
x = 0

[State -2, velset]
type = VelSet
trigger1 = Time = 0
y = 0

[State -2, Turn]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State -2. 半数補正]
type = VarSet
trigger1 = Time = 0
var(21) = 0

[State -2. 半数補正]
type = VarAdd
trigger1 = NumTarget(1401)
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0

[State 1400, width]
type = Width
trigger1 = 1
edge = 20,0

[State -2];どこキャン時点滅
type = PalFX
triggerall = var(46)
triggerall = Time < 9
trigger1 = Time%2 = 0
time = 1
add = 255,255,255
mul = 255,255,255
ignorehitpause = 1

[State -2];タイマー消費
type = varadd
triggerall = var(52)
trigger1 = Time = 0
trigger1 = var(46)
var(52) = -150
persistent = 0

[State 1400, hitby]
type = HitBy
triggerall = !(fvar(29) = 3 || fvar(29) = 6)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 0
value = SCA,AT
time = 1

[State 1400, hitby]
type = HitBy
triggerall = (fvar(29) = 3 || fvar(29) = 6)
trigger1 = AnimElem = 7, < 0
value = SCA,AT
time = 1

[State 1400, velset]
type = VelSet
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 1
x = 15

[State 1400, velset]
type = VelSet
trigger1 = AnimElem = 7, = 1
x = 0

[State 1400, posadd]
type = PosAdd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 22
x = 8



[State 1400, explod]  ;ok
type = Explod
trigger1 = AnimElem = 6
anim = 8204
scale = 0.75,0.50
pos = 50,-50
postype = p1
sprpriority = 4
ownpal = 1

[State 1400, explod] ;ok
type = Explod
trigger1 = AnimElem = 13
anim = 8205
pos = 56,-70
scale = 0.75,0.50
postype = p1
bindtime = -1
sprpriority = 4
ownpal = 1

[State 1400, explod]
type = Explod
trigger1 = AnimElem = 18
anim = 8206
pos = 88,-70
scale = 0.50,0.50
postype = p1
sprpriority = 4
ownpal = 1

[State 1400, hitdef1]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 6
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,0
guard.pausetime = 0,0
sparkxy = -10,-100
sparkno = 1
guard.sparkno = 1
hitsound = S99,20
guardsound = S4,0
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1400
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 13
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,0
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 1
hitsound = S99,20
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 18
attr = S, NP
damage = 40,10
getpower = 300,100
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = 2
guard.sparkno = s4120
sparkxy = -25, -80
hitsound = s400,3
guardsound = s120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 18
ground.velocity = -2,-12
airguard.velocity = -2.3,-7.8
air.type = High
air.velocity = -2,-12
air.hittime = 20
envshake.time = 15
envshake.ampl = 5
envshake.freq = 120
envshake.phase = 120
fall.recover = 0
fall = 1
p2stateno = 43000


[State 1400, hitdef1]
type = HitDef
triggerall = fvar(26)
triggerall = Animelem = 6
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,0
guard.pausetime = 0,0
sparkxy = -10,-100
sparkno = 1
guard.sparkno = 0
hitsound = S99,20
guardsound = S4,0
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1400
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = fvar(26)
triggerall = Animelem = 13
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,0
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 0
hitsound = S99,20
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef3]
type = HitDef
triggerall = fvar(26)
triggerall = Animelem = 18
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Hard
ground.type = Low
priority = 7,hit
damage = 50,10
pausetime = 11,11
guard.pausetime = 11,11
sparkxy = -10,-100
sparkno = 1
guard.sparkno = 0
hitsound = S99,20
guardsound = S4,0
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
ground.velocity = 0,-11
air.velocity = 0,-11
yaccel = .55
fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 38+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1402
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hit]
type = TargetState
trigger1 = NumTarget(1402)
trigger1 = Target,MoveType = H
trigger1 = MoveHit
value = 1320
ID = 1402
ignorehitpause = 1
persistent = 0

[State -2, 行動可能フラグ]
type = CtrlSet
triggerall = !Win
trigger1 = AnimTime = -1
value = 1

[State 1400 end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------
[Statedef 1320];相手動作
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State -2]
type = DestroySelf
trigger1 = IsHelper
ignorehitpause = 1

[State -2]
type = SelfState
trigger1 = Time > 600
value = 5050

[State -2, anim]
type = ChangeAnim2
trigger1 = time = 0
value = 1320

[State -2, end]
type = ChangeState
trigger1 = HitShakeOver
value = 1321

[Statedef 1321]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State -2]
type = DestroySelf
trigger1 = IsHelper
ignorehitpause = 1

[State -2]
type = SelfState
trigger1 = Time > 600
value = 5050

[State -2, anim]
type = ChangeAnim2
trigger1 = time = 0
value = 1321+(GetHitVar(animtype)=[4,5])
ignorehitpause = 1

[State 1321, vel]
type = velset
trigger1 = Time = 0
x = GetHitVar(xvel)*Facing
y = GetHitVar(yvel)

[State 1321, gravity]
type = VelAdd
Trigger1 = time > 0
y = GetHitVar(yaccel)

[State 1321, end]
type = SelfState
triggerall = anim = 1321
trigger1 = Pos Y >= -20
trigger1 = Vel Y > 0
value = 5050

[State 1321, end]
type = ChangeAnim
triggerall = anim = 1322
trigger1 = Pos Y >= -20
trigger1 = Vel Y > 0
trigger1 = !(SelfAnimExist(5051) || SelfAnimExist(5052))
value = 5050
persistent = 0

[State 1321, end]
type = ChangeAnim
triggerall = anim = 1322
triggerall = Pos Y >= 0
triggerall = Vel Y > 0
triggerall = SelfAnimExist(5052)
trigger1 = GetHitVar(animtype) = 5
value = 5052
persistent = 0

[State 1321, end]
type = ChangeAnim
triggerall = anim = 1322
triggerall = Pos Y >= 0
triggerall = Vel Y > 0
triggerall = SelfAnimExist(5051)
trigger1 = GetHitVar(animtype) = 4
trigger2 = GetHitVar(animtype) = 5
trigger2 = !SelfAnimExist(5052)
value = 5051
persistent = 0

[State 1321, end]
type = ChangeAnim
triggerall = anim = [5050,5059]
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

;[State 1321, recovery]
;type = SelfState
;triggerall = Anim = 1322
;trigger1 = Pos Y >= -20
;trigger1 = Vel Y > 0
;trigger1 = alive
;trigger1 = CanRecover
;trigger1 = Command = "recovery"
;value = 5200

[State 1321, end]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1322]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 320
sprpriority = 2

[State -2. 半数補正]
type = VarSet
trigger1 = Time = 0
var(21) = 0

[State -2. 半数補正]
type = VarAdd
trigger1 = NumTarget(1401)
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0

[State 1400, width]
type = Width
trigger1 = 1
edge = 20,0

[State -2];どこキャン時点滅
type = PalFX
triggerall = var(46)
triggerall = Time < 9
trigger1 = Time%2 = 0
time = 1
add = 255,255,255
mul = 255,255,255
ignorehitpause = 1

[State -2];タイマー消費
type = varadd
triggerall = var(52)
trigger1 = Time = 0
trigger1 = var(46)
var(52) = -150
persistent = 0

[State 1400, hitby]
type = HitBy
triggerall = !(fvar(29) = 3 || fvar(29) = 6)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 0
value = SCA,AT
time = 1

[State 1400, hitby]
type = HitBy
triggerall = (fvar(29) = 3 || fvar(29) = 6)
trigger1 = AnimElem = 7, < 0
value = SCA,AT
time = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = S, NP
damage = 40,10
getpower = 300,100
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = s4020
guard.sparkno = s4120
sparkxy = -25, -80
hitsound = s400,3
guardsound = s120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 18
ground.velocity = -2,-12
airguard.velocity = -2.3,-7.8
air.type = High
air.velocity = -2,-12
air.hittime = 20
envshake.time = 15
envshake.ampl = 5
envshake.freq = 120
envshake.phase = 120
fall.recover = 0
fall = 1
p2stateno = 43000

[State 1400, hit]
type = TargetState
trigger1 = NumTarget(1402)
trigger1 = Target,MoveType = H
trigger1 = MoveHit
value = 1320
ID = 1402
ignorehitpause = 1
persistent = 0

[State -2, 行動可能フラグ]
type = CtrlSet
triggerall = !Win
trigger1 = AnimTime = -1
value = 1

[State 1400 end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11000
ctrl = 1
;-------------------------
; ゴッドプレス・強
[Statedef 1350]
type = S
physics = S
movetype = A
ctrl = 0
anim = 1350
sprpriority = 2
poweradd = IfElse(((var(52)&&fvar(29)=1)||fvar(34)=2),0,91)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S99,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S99,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S99,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 22
value = S99,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 24
value = S99,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 32
value = S99,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,65
channel = 0



[State -2, velset]
type = VelSet
trigger1 = !(PrevStateNo = [200,700))
trigger1 = Time = 0
x = 0

[State -2, velset]
type = VelSet
trigger1 = Time = 0
y = 0

[State -2, Turn]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State -2. 半数補正]
type = VarSet
trigger1 = Time = 0
var(21) = 0

[State -2. 半数補正]
type = VarAdd
trigger1 = NumTarget(1401)
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0

[State 1400, width]
type = Width
trigger1 = 1
edge = 20,0

[State -2];どこキャン時点滅
type = PalFX
triggerall = var(46)
triggerall = Time < 9
trigger1 = Time%2 = 0
time = 1
add = 255,255,255
mul = 255,255,255
ignorehitpause = 1

[State -2];タイマー消費
type = varadd
triggerall = var(52)
trigger1 = Time = 0
trigger1 = var(46)
var(52) = -150
persistent = 0

[State 1400, hitby]
type = HitBy
triggerall = !(fvar(29) = 3 || fvar(29) = 6)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 0
value = SCA,AT
time = 1

[State 1400, hitby]
type = HitBy
triggerall = (fvar(29) = 3 || fvar(29) = 6)
trigger1 = AnimElem = 7, < 0
value = SCA,AT
time = 1

[State 1400, velset]
type = VelSet
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 1
x = 15

[State 1400, velset]
type = VelSet
trigger1 = AnimElem = 7, = 1
x = 0

[State 1400, posadd]
type = PosAdd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 22
x = 8



[State 1400, explod]  ;ok
type = Explod
trigger1 = AnimElem = 6
anim = 8204
scale = 0.75,0.50
pos = 50,-50
postype = p1
sprpriority = 4
ownpal = 1

[State 1400, explod] ;ok
type = Explod
trigger1 = AnimElem = 13
anim = 8205
pos = 56,-70
scale = 0.75,0.50
postype = p1
bindtime = -1
sprpriority = 4
ownpal = 1

[State 1400, explod]
type = Explod
trigger1 = AnimElem = 34
anim = 8206
pos = 88,-70
scale = 0.50,0.50
postype = p1
sprpriority = 4
ownpal = 1

[State 1400, hitdef1]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 6
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,30
guard.pausetime = 0,0
sparkxy = -10,-100
sparkno = 1
guard.sparkno = 1
hitsound = S99,20
guardsound = S4,0
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1400
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 13
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,30
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 1
hitsound = S99,20
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 19
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,30
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 1
hitsound = S0,1
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 27
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,30
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 1
hitsound = S0,2
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = !fvar(26)
triggerall = Animelem = 29
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = 40,10
pausetime = 0,30
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 1
hitsound = S0,2
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 35
attr = S, NP
damage = 40,10
getpower = 300,100
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = 2
guard.sparkno = s4120
sparkxy = -25, -80
hitsound = s400,3
guardsound = s120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 18
ground.velocity = -2,-12
airguard.velocity = -2.3,-7.8
air.type = High
air.velocity = -2,-12
air.hittime = 20
envshake.time = 15
envshake.ampl = 5
envshake.freq = 120
envshake.phase = 120
fall.recover = 0
fall = 1
p2stateno = 43000
envshake.time =  15 
envshake.freq = 45    
envshake.ampl = 6 
envshake.phase = 6

[State 1400, hitdef1]
type = HitDef
triggerall = fvar(26)
triggerall = Animelem = 6
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = Ceil(IfElse(fvar(28)=0,2,2)*fvar(10)*fvar(37)/12),Ceil(1*fvar(10)*fvar(37)/12)
pausetime = 0,0
guard.pausetime = 0,0
sparkxy = -10,-100
sparkno = 1
guard.sparkno = 0
hitsound = S99,20
guardsound = S4,0
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1400
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef2]
type = HitDef
triggerall = fvar(26)
triggerall = Animelem = 13
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
ground.type = High
priority = 7,hit
damage = Ceil((Ceil(IfElse(fvar(28)=0,4,14)*0.5**(var(21)))-1)*fvar(10)*fvar(37)/12),Ceil(1*fvar(10)*fvar(37)/12)
pausetime = 0,0
guard.pausetime = 0,0
sparkno = 1
guard.sparkno = 0
hitsound = S99,20
guardsound = S4,0
sparkxy = -10,-50
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
air.fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 24+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.velocity = 0,0
guard.velocity = 0
air.velocity = -5,-7
yaccel = .55
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1401
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hitdef3]
type = HitDef
triggerall = fvar(26)
triggerall = Animelem = 19
trigger1 = !var(9)
attr = S,SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Hard
ground.type = Low
priority = 7,hit
damage = Ceil((Ceil(IfElse(fvar(28)=0,4,14)*0.5**(var(21)))-1)*fvar(10)*fvar(37)/12),Ceil(1*fvar(10)*fvar(37)/12)
pausetime = 11,11
guard.pausetime = 11,11
sparkxy = -10,-100
sparkno = 1
guard.sparkno = 0
hitsound = S99,20
guardsound = S4,0
ground.hittime = 21
guard.slidetime = 21
guard.ctrltime = 21
air.hittime = 60
ground.velocity = 0,-11
air.velocity = 0,-11
yaccel = .55
fall = 1
fall.recover = !(fvar(29) = 3 || fvar(29) = 6)
fall.recovertime = 38+11+Ceil((-EnemyNear(var(2)),Pos Y)/10)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1402
kill = 1
getpower = IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30),IfElse(((var(52)||fvar(34)=2)&&(fvar(29)=1||fvar(29)=4)),0,30)
givepower = 15,15

[State 1400, hit]
type = TargetState
trigger1 = NumTarget(1402)
trigger1 = Target,MoveType = H
trigger1 = MoveHit
value = 1320
ID = 1402
ignorehitpause = 1
persistent = 0

[State -2, 行動可能フラグ]
type = CtrlSet
triggerall = !Win
trigger1 = AnimTime = -1
value = 1

[State 1400 end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------
[Statedef 1470]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State -2]
type = ScreenBound
trigger1 = Time > 20
value = 1
movecamera = 0,1

[State 1470]
type = ChangeAnim2
trigger1 = Time = 0
value = 1470

[State 1470]
type = VelSet
trigger1 = Time = 10
x = -15
y = -3
persistent = 0

[State 1470]
type = VelAdd
trigger1 = Time > 10
y = .2

[State 1470]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
value = 1471


[Statedef 1471]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State -2]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1471]
type = Turn
trigger1 = Time = 0

[State 1471]
type = ChangeAnim2
trigger1 = Time = 0
value = 1471

[State 1471]
type = VelSet
trigger1 = Time = 2
x = -2.5
y = -10.5

[State 1471]
type = VelAdd
trigger1 = Time > 2
y = .55

[State 1471, end]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; スライディングジェノサイド（スライディング）
[Statedef 1400]
type    = C
movetype= A
physics = C
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = time = 1
value = s2100,0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 3
value = s1301,0

[State 1400, 1]
type = PowerAdd
trigger1 = time = 1
value = ifelse(var(8) = 1,-2000,-1000)

[State 720, 1]
type = PalFX
trigger1 = var(8) = 1
trigger1 = Time = 1|Time = 3|Time = 5|Time = 7
time = 1
add = 255,255,255

[State -2]
type = explod
trigger1 = time = 29 && var(3) = 1 && var(8) = 1
anim = 7021
postype = left
pos = 0,68
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1

[State -2]
type = explod
trigger1 = time = 29 && var(3) = 2 && var(8) = 1
anim = 7023
postype = left
pos = 312,68
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1

[State 1400, 1]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
time = 2
under = 1

[State 1400, 1]
type = EnvColor
trigger1 = time = 3
value = 0,0,0
time = 26
under = 1

[State 2000, 1]
type = superpause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0
p2defmul = 1

[State 2000, 1]
type = assertspecial
trigger1 = time >= 1 && time < 29
flag = nofg

[State 2000, 1]
type = explod
trigger1 = time = 1
anim = 7010
pos = 35,-50
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1
scale = 0.4,0.5

[State 2000, 1]
type = explod
trigger1 = time = 1
anim = 7011
pos = 35,-50
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1
scale = 0.4,0.5

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 1400, 1]
type = velset
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 14
x = 10

[State 1100, 1]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1

[State 1400, 1]
type = velmul
trigger1 = animelemtime(4) >= 14
x = .96

[State 1400, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 2020, 1]
Type = Attackmulset
trigger1 = 1
Value = 1.0

[State 1400, 1]
type = HitDef
trigger1 = animelem = 3
attr = C, HA
damage = 112+ifelse(var(5) = 1,32,0), 10
animtype = Hard
hitflag = MAF
guardflag = L
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7003
guard.sparkno = s7006
sparkxy = -5, -10
hitsound = s3, var(10)
guardsound = s4, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 0,0

[State 1400, 1]
type = ChangeState
trigger1 = movecontact
trigger2 = (p2bodydist x <= 0 && animelemtime(4) > 4)|(p2dist x < -5 && animelemtime(3) > 0)
value = 1401

[State 1400, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; スライディングジェノサイド（ヒット）
[Statedef 1401]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 1401
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = time = 1
value = s99,22
channel = 0

[State 1401, 1]
type = velmul
trigger1 = 1
x = .96

[State 1110, 1]
type = varset
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1401, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1402

;---------------------------------------------------------------------------
; スライディングジェノサイド・ジェノサイドカッター（地上）
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1402
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 2
value = s1101,0

[State 1110, 1]
type = varset
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1101, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
animtype  = Hard
damage    = (112+ifelse(var(5) = 1,32,0))/ifelse(var(7) = 0,1,(var(7)*2)),10
hitflag = MAF
guardflag = M
pausetime = 5,6
guard.pausetime = 6, 6
sparkno = s7008
guard.sparkno = s7006
sparkxy = -5,-38
hitsound   = s1101,1
guardsound = s4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 4
air.velocity = 3.5,-7
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
yaccel = .53
getpower = 0,0

[State 1402, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1403

;---------------------------------------------------------------------------
; salita
[Statedef 1403]
type    = A
movetype= A
physics = N
juggle  = 12
ctrl = 0
anim = 1403
sprpriority = 10

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

[State 1403, 1]
type = VelSet
trigger1 = time = 0
x = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S99,23

[State 1403, 1]
type = VelSet
trigger1 = time = 0
y = -3.0
;y = -1.7

;[State 1403, 1]
;type = VelSet
;trigger1 = animelem = 10
;y = 5

;[State 1403, 2]
;type = Veladd
;trigger1 = animelem = 11
;y = 2

[State 1403, 2]
type = Veladd
trigger1 = animelem = 3
y = .44

[State 1000, 1]
type = Projectile
trigger1 = animelem = 3
projID = 1404
projanim = 1404
projhitanim = 3390
projcancelanim = -1
projremovetime = 270
projremanim = -1
velocity = 1, -6
projhits = 23
offset = 80,-90
attr = S, SP
damage = 20,7
projscale = 0.7,0.8;1.5,1.5
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 0,12
guard.pausetime = 0, 11
sparkno = 1
guard.sparkno = s7006
sparkxy = 25, -35
hitsound = s99,13
guardsound = s4,1
ground.type = Low
ground.slidetime = 10
ground.hittime = 270
ground.velocity = 5
air.velocity = 0,-10
air.fall = 0
fall = 1
fall.recover = 0
yaccel = .80
getpower = 60,60
air.juggle = 8
projsprpriority = 4

[State 1403, 2]
type = Velmul
trigger1 = animelemtime(5) < 0
y = 1.12

[State 1403, 2]
type = Velmul
trigger1 = animelemtime(5) >= 0
y = .96

[State 1403, 1]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 6
trigger6 = animelem = 8
trigger7 = animelem = 10
trigger8 = animelem = 11
trigger9 = animelem = 12
trigger10 = animelem = 14
trigger11= animelem = 16
trigger12= animelem = 17
trigger13= animelem = 18
;trigger14= animelem = 19
attr = A, SA
animtype = Medium
damage = 40, 10
guardflag = MA
hitflag = MAF
juggle  = 12
getpower  = 10,5
givepower = 10,5
pausetime = 5, 5
;pausetime = 10, 10
sparkno = S3390
guard.sparkno = S6011
sparkxy = -25,-85
hitsound = S4, 1
guardsound = S2,0
ground.type = Low
guard.slidetime = 3
ground.hittime  = 5
;ground.velocity = -1.5, -12
air.velocity = 0,-20
ground.velocity = 0,-20
;air.velocity = -1.5, -8
fall = 0
fall.recover = 0

[State 1403, 1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = time = 100; animelem = 19
value = 11055

;---------------------------------------------------------------------------
; discesa
[Statedef 11055]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 11055

[State 1403, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
animtype = Medium
damage = 80, 10
guardflag = -1
hitflag = MAF
juggle  = 12
getpower  = 10,5
givepower = 10,5
pausetime = 10, 10
sparkno = S3390
guard.sparkno = S6011
sparkxy = -25,-20
hitsound = S1101,1
guardsound = S2,0
ground.type = Low
guard.slidetime = 3
ground.hittime  = 5
;ground.velocity = -1.5, -12
air.velocity = -5,-5
ground.velocity = -5,-5
;air.velocity = -1.5, -8
fall = 1

[State 1404, 2]
type = velset
trigger1 = animelem = 2
y = 15
;x = 0

[State 1403, 1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = time = 60
value = 1105

;---------------------------------------------------------------------------
; スライディングジェノサイド・ジェノサイドカッター（着地）
[Statedef 1404]
type    = S
physics = S
anim = 1102
ctrl = 0

[State 1404, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1404, 2]
type = velset
trigger1 = 1
x = 0
y = 0

[State 1404, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; スライディングジェノサイド（スライディングキャンセルカカト）
[Statedef 1450]
type    = C
movetype= A
physics = C
juggle  = 8
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 2

[State 1000, 音]
type = PlaySnd
trigger1 = time = 1
value = s99,22
channel = 0

[State 1000, 音]
type = PlaySnd
trigger1 = time = 1
value = s2100,0

[State 1000, 音]
type = PlaySnd
trigger1 = animelem = 3
value = s1301,0

[State 1400, 1]
type = PowerAdd
trigger1 = time = 1
value = ifelse(var(8) = 1,-2000,-1000)

[State 720, 1]
type = PalFX
trigger1 = var(8) = 1
trigger1 = Time = 1|Time = 3|Time = 5|Time = 7
time = 1
add = 255,255,255

[State -2]
type = explod
trigger1 = time = 29 && var(3) = 1 && var(8) = 1
anim = 7021
postype = left
pos = 0,68
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1

[State -2]
type = explod
trigger1 = time = 29 && var(3) = 2 && var(8) = 1
anim = 7023
postype = left
pos = 312,68
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1

[State 1400, 1]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
time = 2
under = 1

[State 1400, 1]
type = EnvColor
trigger1 = time = 3
value = 0,0,0
time = 26
under = 1

[State 2000, 1]
type = superpause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0
p2defmul = 1

[State 2000, 1]
type = assertspecial
trigger1 = time >= 1 && time < 29
flag = nofg

[State 2000, 1]
type = explod
trigger1 = time = 1
anim = 7010
pos = 35,-50
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1
scale = 0.4,0.5

[State 2000, 1]
type = explod
trigger1 = time = 1
anim = 7011
pos = 35,-50
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1
scale = 0.4,0.5

[State 200, 1]
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 1400, 1]
type = velset
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 14
x = 10

[State 1100, 1]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1

[State 1400, 1]
type = velmul
trigger1 = animelemtime(4) >= 14
x = .96

[State 1400, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 2020, 1]
Type = Attackmulset
trigger1 = 1
Value = 1.0

[State 1400, 1]
type = HitDef
trigger1 = animelem = 3
attr = C, HA
damage = 112+ifelse(var(5) = 1,32,0), 10
animtype = Hard
hitflag = MAF
guardflag = L
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7003
guard.sparkno = s7006
sparkxy = -5, -10
hitsound = s3, var(10)
guardsound = s4, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 0,0


[State 1400, 1]
type = ChangeState
trigger1 = animtime = 0
value = 1150
ctrl = 1


;.......................................
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 8
ctrl = 0
velset = 0,0
anim = 2000
poweradd = -2000
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = ANIMELEM = 1
time = 20
anim = 2000
sound = S99,76
pos = 0,0
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 1
value = S99,28
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 7
value = S40,1
volume = 255



[State 3100, 1]
type = AfterImage
trigger1 = AnimElem = 7
time = 200
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 106,106,138
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3100,1]
type = NotHitBy
trigger1 = time <= 45
value = SCA


[State 3100, 1]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 3100, 1]
type = velset
trigger1 = AnimElem = 7
x = 10
y = -.80;95

[State 3100, 1]
type = veladd
trigger1 = AnimElem = 7,> 0
y = .125

[State 0, Explod]
type = Explod
trigger1 = TIME = 5
anim = 2003
ID =  2003
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 20
pausemovetime = 0
scale = 0.50,0.50
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0


[State 3200, Hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = p2stateno != [1004,1009]
trigger1 = roundstate = 2
trigger1 = AnimElem = 7, =1
trigger2 = AnimElem = 8
attr = S, HA
hitflag = MA
animtype = hard
damage = 0,0
guardflag = M
pausetime = 2,1
guard.pausetime = 2,12
sparkno = S1040
guard.sparkno = S1042
sparkxy = 19,-84
hitsound = S999999
guardsound = S201,2
ground.type = low
ground.slidetime = 10
ground.hittime = 17
ground.velocity = 0,0
air.velocity = 0
airguard.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
snap = 55,0
yaccel = .5
p2facing = 1
p1stateno = 2001
p2getp1stateno = 1
p2stateno = 3103
kill = 0

[State 3100, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 2002




[state a]
type = destroyself
trigger1 = time = 16
;----
[Statedef 2001]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 2001
ctrl = 0

[State 3103, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
trigger9 = animelem = 10
trigger10 = animelem = 11
trigger11 = animelem = 12
trigger12 = animelem = 13
trigger13 = animelem = 14
trigger14 = animelem = 15
trigger15 = animelem = 16
trigger16 = animelem = 17
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 240, 1]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
trigger9 = animelem = 10
trigger10 = animelem = 11
trigger11 = animelem = 12
trigger12 = animelem = 13
trigger13 = animelem = 14
trigger14 = animelem = 15
trigger15 = animelem = 16
attr = S, NA
damage = 50,10
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s99,26
guardsound = s4, 0
ground.type = High
ground.slidetime = 3
ground.hittime  = 3
ground.velocity = -9
air.velocity = -1,-5
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 240, 1]
type = HitDef
trigger1 = animelem = 17
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 60
ground.hittime  = 60
ground.velocity = -9
air.velocity = -1,-5
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 3100, 1]
type = AfterImage
trigger1 = AnimElem = 50, =1
time = 200
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 106,106,138
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3103, 1]
type = posset
trigger1 = Time = 0
y = 0





[State 3100,1]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3100,1]
type = width
trigger1 = time >= 0
value = 40



[State 3103, 3]
type = ChangeState
trigger1 = Animelem = 18
ctrl = 0
value = 1150

;...........
;Ryuuko Ranbu (MISS) Weak
[Statedef 2002]
type = S
movetype = A
physics = N
anim = 2002
velset = 0,0

[State 3102, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 3102, 1]
type = posset
trigger1 = Time = 0
y = 0

[State InitVel]
type = posadd
trigger1 = time = 0
trigger2 = time = 1
x = 7

[State InitVel]
type = posadd
trigger1 = time = 2
x = 5

[State InitVel]
type = posadd
trigger1 = time = 3
trigger2 = time = 4
trigger3 = time = 5
x = 4

[State InitVel]
type = posadd
trigger1 = time = 6
trigger2 = time = 8
trigger3 = time = 9
trigger4 = time = 11
x = 2

[State InitVel]
type = posadd
trigger1 = time = 7
trigger2 = time = 4
x = 3

[State InitVel]
type = posadd
trigger1 = time = 10
trigger2 = time = 12
trigger3 = time = 13
x = 1

[State 3102, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------[]
[Statedef 2050]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= -2000
velset = 0,0
anim = 2000
sprpriority = 1
ctrl = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = ANIMELEM = 1
time = 20
anim = 2000
sound = S99,77
pos = 0,0
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 1
value = S99,28
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 7
value = S40,1
volume = 255



[State 3100, 1]
type = AfterImage
trigger1 = AnimElem = 7
time = 200
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 106,106,138
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3100,1]
type = NotHitBy
trigger1 = time <= 45
value = SCA


[State 3100, 1]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 3100, 1]
type = velset
trigger1 = AnimElem = 7
x = 13
y = -.80;95

[State 3100, 1]
type = veladd
trigger1 = AnimElem = 7,> 0
y = .170

[State 0, Explod]
type = Explod
trigger1 = TIME = 5
anim = 2003
ID =  2003
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 20
pausemovetime = 0
scale = 0.50,0.50
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans =
;persistent =
;supermove = 0
;pausemove = 0


[State 3200, Hitdef]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2stateno != [154,155]
trigger1 = p2stateno != [1004,1009]
trigger1 = roundstate = 2
trigger1 = AnimElem = 7, =1
trigger2 = AnimElem = 8
attr = S, HA
hitflag = MA
animtype = hard
damage = 0,0
guardflag = M
pausetime = 2,1
guard.pausetime = 2,12
sparkno = S1040
guard.sparkno = S1042
sparkxy = 19,-84
hitsound = S999999
guardsound = S201,2
ground.type = low
ground.slidetime = 10
ground.hittime = 17
ground.velocity = 0,0
air.velocity = 0
airguard.velocity = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 20,20
fall = 0
snap = 55,0
yaccel = .5
p2facing = 1
p1stateno = 2051
p2getp1stateno = 1
p2stateno = 3103
kill = 0

[State 3100, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 2002




[state a]
type = destroyself
trigger1 = time = 16


[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
[Statedef 2051]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 2001
ctrl = 0

[State 3103, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
trigger9 = animelem = 10
trigger10 = animelem = 11
trigger11 = animelem = 12
trigger12 = animelem = 13
trigger13 = animelem = 14
trigger14 = animelem = 15
trigger15 = animelem = 16
trigger16 = animelem = 17
x = 4
y = 0
;ignorehitpause =
;persistent =


[State 240, 1]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
trigger9 = animelem = 10
trigger10 = animelem = 11
trigger11 = animelem = 12
trigger12 = animelem = 13
trigger13 = animelem = 14
trigger14 = animelem = 15
trigger15 = animelem = 16
attr = S, NA
damage = 50,10
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s99,26
guardsound = s4, 0
ground.type = High
ground.slidetime = 3
ground.hittime  = 3
ground.velocity = -9
air.velocity = -1,-5
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 240, 1]
type = HitDef
trigger1 = animelem = 17
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 60
ground.hittime  = 60
ground.velocity = -9
air.velocity = -1,-5
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 3100, 1]
type = AfterImage
trigger1 = AnimElem = 50, =1
time = 200
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 106,106,138
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3103, 1]
type = posset
trigger1 = Time = 0
y = 0





[State 3100,1]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3100,1]
type = width
trigger1 = time >= 0
value = 40



[State 3103, 3]
type = ChangeState
trigger1 = Animelem = 18
ctrl = 0
value = 29000
;--------------------------------------
; ふっ飛ばし攻撃
[Statedef 29000]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 2,0
anim = 720
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0


;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 9
x = 3

[state a]
type = posadd
trigger1 = animelem = 8
x = 16

;---------------------[攻撃]
[State 240, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90

[State 240, 1]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
damage = 100
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 11, 12
guard.pausetime = 11, 11
sparkno = s7001
guard.sparkno = s7005
sparkxy = -5, ifelse((animelem = 4),-62,-84)
hitsound = s3, var(10)
guardsound = s4, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
fall = 1
ground.velocity = -9
air.velocity = -3.5,-7
air.cornerpush.veloff = 0
yaccel = .53
getpower = 90,90
envshake.time =  15 
envshake.freq = 45    
envshake.ampl = 6 
envshake.phase = 6


;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;---------------
; 南斗翔鷲屠脚
[Statedef 2100]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= -3000
anim = 2500
ctrl = 0

[State 2100]
type = PlaySnd
trigger1 = animelem = 1
value = 99,78
channel = 0

[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
x = 3

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = varset
trigger1 = time = 0
v = 11
value = 0

;---------------------[超必殺技演出]
[State 2000, 2]
type = SuperPause
trigger1 = animelem = 3
time = 100
movetime = 100
darken = 0
anim = -1

[State 3040, 7]
type = BGPalfx
trigger1 = time >= 1
;persistent = 0
ignorehitpause = 1
time = 1
mul = 195,20,20
under = 1

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 3
value = 900,0

;---------------------[発動エフェクト]




;---------------------[テーレッテー]
[State 2000, 6];テーレッテー
type = PlaySnd
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
value = 2500,99
loop = 1
persistent = 0

[state a];テーレッテーフラグ
type = varset
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
v = 21
value = 1

;---------------------[コマンド判定]
;---------------------[効果音]
[State 2000, 6];南斗弧鷲拳奥義
type = PlaySnd
trigger1 = animelem = 2
value = 2500,0

[State 2000, 6];蹴り
type = PlaySnd
trigger1 = animelem = 6
value = 2500,5

[State 2000, 6];南斗翔鷲屠脚
type = PlaySnd
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
value = 2500,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 13
value = 40,0


[State explod];着地エフェクト
type = Explod
trigger1 = animelem = 13
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 25,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7

;---------------------[速度]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
value = SCA
time = -1


;---------------------[ヘルパー]
[state a];蹴り
type = Helper
trigger1 = animelem = 6
id = 2510
name = "keri"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 2510
helpertype = normal
keyctrl = 0
ownpal = 1

[state a];蹴り
type = Helper
trigger1 = animelem = 6
id = 2510
name = "keri"
sprpriority = 2
pos = -16,0
postype = p1
stateno = 2511
helpertype = normal
keyctrl = 0
ownpal = 1

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 5
value = A

[state a]
type = velset
trigger1 = animelem = 6
y = -1

[state a]
type = velset
trigger1 = animelem = 7
y = 0.5


[state a]
type = velset
trigger1 = animelem = 13
y = 0

[state a]
type = statetypeset
trigger1 = animelem = 13
value = S

[state a]
type = posset
trigger1 = animelem = 13
y = 0



[state a]
type = posadd
trigger1 = animelem = 3
x = 10

[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
x = 32/2


[state a]
type = posadd
trigger1 = animelem = 6
x = -72/2

;---------------------[ヘルパー]
[state a];部下１
type = Helper
trigger1 = enemy,stateno = 2551
id = 2530
name = "buka"
sprpriority = 2
pos = -300,-240
postype = p2
stateno = 2530
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0


[state a];部下２
type = Helper
trigger1 = enemy,stateno = 2551
id = 2531
name = "buka"
sprpriority = 2
pos = 300,-240
postype = p2
stateno = 2530
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
facing = -1
persistent = 0



;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 1,0
priority = 11, Hit
getpower = 0,0
guardflag = M
pausetime = 17,17
sparkno = s7020+(random%8)
sparkxy = -15,-150/2
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 1,-7
guard.velocity = -2
air.velocity = 1,-7
yaccel = 0.43
fall = 1
fall.recover = 0
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 6
attr = A, HA
animtype  = up
damage    = 0,0
priority = 11, Hit
getpower = 0,0
guardflag = M
pausetime = 20,20
sparkno = s7020+(random%8)
sparkxy = -15,-264/2
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -0.5,-11
guard.velocity = -11
air.velocity = -0.5,-11
yaccel = 0.45
fall = 1
fall.recover = 0


[state a]
type = targetstate
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
value = 2550

;---------------------[七星ゲージ]
[state a]
type = varadd
trigger1 = animelem = 7
trigger1 = movehit = 0
v = 4
value = -1
IgnoreHitPause = 1
persistent = 0

[state a]
type = poweradd
trigger1 = animelem = 7
trigger1 = movehit = 0
value = -9999


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animelem = 14
trigger1 = enemy,stateno = [2550,2552]
trigger1 = enemy,movetype = H
value = 2501

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;歩き
[Statedef 2501]
type = S
movetype = A
physics = N
poweradd= 0
ctrl = 0
anim = 2501
sprpriority = 2
velset = 0,0

[state a];部下１
type = Helper
trigger1 = numhelper(2530) = 0
id = 2530
name = "buka"
sprpriority = 2
pos = -300,-240
postype = p2
stateno = 2530
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0


[state a];部下２
type = Helper
trigger1 = numhelper(2531) = 0
id = 2531
name = "buka"
sprpriority = 2
pos = 300,-240
postype = p2
stateno = 2530
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
facing = -1
persistent = 0


[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = animelem = 6,>=0

[state a]
type = velset
trigger1 = animelem = 7
x = 2

[State 3040, 7]
type = BGPalfx
trigger1 = 1
;persistent = 0
ignorehitpause = 1
time = 1
mul = 195,20,20
under = 1


;---------------------[ヘルパー]
[state a];部下１
type = Helper
trigger1 = animelem = 1
id = 2534
name = "buka"
sprpriority = 2
pos = 0,-80
postype = back
stateno = 2534
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0

[state a];部下１
type = Helper
trigger1 = animelem = 1
id = 2535
name = "buka"
sprpriority = 2
pos = 0,-80
postype = back
stateno = 2534
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0

[state a];部下１
type = Helper
trigger1 = animelem = 1
id = 2536
name = "buka"
sprpriority = 2
pos = 0,-80
postype = back
stateno = 2534
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0


[state a];部下１
type = Helper
trigger1 = animelem = 1
id = 2534
name = "buka"
sprpriority = 2
pos = 0,-80
postype = flont
stateno = 2534
helpertype = normal
pausemovetime = 0
keyctrl = 0
facing = -1
ownpal = 1
persistent = 0

[state a];部下１
type = Helper
trigger1 = animelem = 1
id = 2535
name = "buka"
sprpriority = 2
pos = 0,-80
postype = flont
stateno = 2534
helpertype = normal
pausemovetime = 0
keyctrl = 0
facing = -1
ownpal = 1
persistent = 0

[state a];部下１
type = Helper
trigger1 = animelem = 1
id = 2536
name = "buka"
sprpriority = 2
pos = 0,-80
postype = flont
stateno = 2534
helpertype = normal
pausemovetime = 0
keyctrl = 0
facing = -1
ownpal = 1
persistent = 0


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animelem = 6,>=0
trigger1 = p2dist x < 50
value = 2502


;---------------------------------------------------------------------------
;何本目に死ぬかな？
[Statedef 2502]
type = S
movetype = A
physics = N
poweradd= 0
ctrl = 0
anim = 2502
sprpriority = 2
velset = 0,0




[State 3040, 7]
type = BGPalfx
trigger1 = 1
;persistent = 0
ignorehitpause = 1
time = 1
mul = 195,20,20
under = 1

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0



;---------------------[効果音]
[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 1
value = 8300,1

[State 2000, 6];死ねえ！！
type = PlaySnd
trigger1 = animelem = 27
value = 2500,3


[State 2000, 6];刺す
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 22
trigger4 = animelem = 27
value = 2500,6

[State 2000, 6];刺す
type = PlaySnd
trigger1 = animelem = 27
value = 500,2

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 28
value = 4000,0

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 28
value = 2500,5

;---------------------[効果音]
[State explod];出血エフェクト1
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 22
anim = 1513
id = 1513
sprpriority = 5
postype = p1
pos = 110/2,-208/2
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5


[State explod];出血エフェクト1
type = Explod
trigger1 = animelem = 27
anim = 2522
id = 2522
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
removetime = 80
under = 0
scale = 0.5,0.5

;---------------------[ヘルパー]
[state a];血溜り
type = Helper
trigger1 = animelem = 28
id = 2523
name = "chidamari"
sprpriority = 2
pos = 0,0
postype = p2
stateno = 2523
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0

[state a];ブラッディクロス
type = Helper
trigger1 = animelem = 28
id = 2540
name = "burakuro"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 2540
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
persistent = 0


;---------------------[相手制御]
[state a]
type = targetstate
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 22
value = 2553

[state a]
type = targetstate
trigger1 = animelem = 27
value = 2554

[state a]
type = targetstate
trigger1 = animelem = 28
value = 2555

[state a]
type = targetlifeadd
trigger1 = animelem = 28
value = -900

[state a]
type = targetstate
trigger1 = animelem = 33
value = 0




;ignorehitpause =
;persistent =


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 1322
ctrl = 0

[State -2]
type = DestroySelf
trigger1 = IsHelper
ignorehitpause = 1






;---------------------------------------------------------------------------
;(HELPER)蹴りエフェクト１
[Statedef 2510]
type = A
ctrl = 0
velset = 0,0
anim = 2510
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = 1
pos = 42/2,-356/2

;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 20
v = 1
value = 5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.5-var(1)*0.015,1.5
;---------------------[]
[state a]
type = destroyself
trigger1 = root,stateno != 2500
trigger2 = time = 40


;---------------------------------------------------------------------------
;(HELPER)蹴りエフェクト２
[Statedef 2511]
type = A
ctrl = 0
velset = 0,0
anim = 2511
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = time = 0
y = pos y - screenpos y +240

;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 20
v = 1
value = 5

;---------------------[透過]

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0-var(1)*0.01,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 40


;---------------------------------------------------------------------------
;(HELPER)血溜り
[Statedef 2523]
type = S
ctrl = 0
anim = 2523
velset = 0,0
movetype = A
physics = N
sprpriority = -6

;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 20
trigger1 = var(1) <= 120
v = 1
value = 1

[state a]
type = angledraw
trigger1 = 1
scale = 0.0+var(1)*0.01,0.0+var(1)*0.01


;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0






;---------------------------------------------------------------------------
;(HELPER)部下ジャンプ
[Statedef 2530]
type = A
ctrl = 0
anim = 2530
velset = 0,0
movetype = I
physics = N
sprpriority = -1

;---------------------[エフェクト]
;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 8.5
y = 8

;---------------------[当身関係]


;---------------------[]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2531


;---------------------------------------------------------------------------
;(HELPER)部下着地＆掴み
[Statedef 2531]
type = S
ctrl = 0
anim = 2534
velset = 0,0
movetype = A
physics = N
sprpriority = -1


[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 1
value = 40,0

;---------------------[エフェクト]
[State explod];着地エフェクト
type = Explod
trigger1 = time = 0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[当身関係]


;---------------------[]
[state a]
type = changestate
trigger1 = root,stateno = 2502
trigger1 = root,animelem = 28
value = 2532


;---------------------------------------------------------------------------
;部下去り
[Statedef 2532]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2532
sprpriority = -2

[state a]
type = posset
trigger1 = time = 0
y = 0


[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 2
value = 40, 1



;---------------------[速度]
[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a]
type = velset
trigger1 = animelem = 2
x = -11
y = -11

[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.35

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 150
trigger2 = BackEdgeDist <= -60

;---------------------------------------------------------------------------
;(HELPER)背景部下ジャンプ
[Statedef 2534]
type = A
ctrl = 0
anim = 2530
velset = 0,0
movetype = I
physics = N
sprpriority = -4

[state a]
type = posadd
trigger1 = ishelper(2534)
trigger1 = time = 0
x = -120

[state a]
type = posadd
trigger1 = ishelper(2535)
trigger1 = time = 0
x = -160

[state a]
type = posadd
trigger1 = ishelper(2536)
trigger1 = time = 0
x = -200

;---------------------[エフェクト]
;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = 15
y = 3

[state a]
type = veladd
trigger1 = 1
y = 0.3

;---------------------[当身関係]


;---------------------[]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2535

;---------------------------------------------------------------------------
;(HELPER)背景部下着地
[Statedef 2535]
type = S
ctrl = 0
anim = 2535
velset = 0,0
movetype = A
physics = N
sprpriority = -4


[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 1
value = 40,0

;---------------------[エフェクト]
[State explod];着地エフェクト
type = Explod
trigger1 = time = 0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = destroyself
trigger1 = time = 400
trigger2 = BackEdgeDist <= -60


;---------------------------------------------------------------------------
;(HELPER)ブラッディクロス
[Statedef 2540]
type = S
ctrl = 0
anim = 2540
velset = 0,0
movetype = A
physics = N
sprpriority = -7


;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
x = 0
y = 0

;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256-var(1)



;---------------------------------------------------------------------------
;(ENEMY)蹴り上げ
[Statedef 2550]
type    = A
movetype= H
physics = N
velset = -0.5,-11
sprpriority = -2



[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changeanim
trigger1 = time = 20
trigger1 = AnimExist(5060) = 1
value = 5060

[state a]
type = changeanim
trigger1 = time = 20
trigger1 = AnimExist(5061) = 1
value = 5061

[State 821, 1]
type = VelAdd
Trigger1 = 1
y = .5

[State 821, 3]
type = changeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2551


;---------------------------------------------------------------------------
;(ENEMY)地面
[Statedef 2551]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2
anim = 5100

[state a]
type = posset
trigger1 = time = 0
y = 0



[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = AnimExist(5101) = 1
value = 5101


[state a]
type = changeanim
triggerall = AnimExist(5111) = 1
triggerall = anim = 5100 || anim = 5101
trigger1 = animtime = 0
trigger2 = time = 20
value = 5111

[state a]
type = changeanim
triggerall = AnimExist(5110) = 1
triggerall = anim = 5100 || anim = 5101
trigger1 = animtime = 0
trigger2 = time = 20
value = 5110

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[state a]
type = changestate
trigger1 = time = 35
value = 2552

[State 821, 3]
type = SelfState
trigger1 = time = 600
value = 5100


;---------------------------------------------------------------------------
;(ENEMY)掴みあげられ
[Statedef 2552]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0





[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changeanim2
trigger1 = time = 0
value = 2552


;---------------------------------------------------------------------------
;(ENEMY)突かれ
[Statedef 2553]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2





[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changeanim2
trigger1 = time = 0
value = 2553

[state a]
type = changestate
trigger1 = animtime = 0
value = 2554


;---------------------------------------------------------------------------
;(ENEMY)突かれ2
[Statedef 2554]
type    = S
movetype= H
anim = 5300
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = changestate
trigger1 = animtime = 0
value = 2555


;---------------------------------------------------------------------------
;(ENEMY)落下
[Statedef 2555]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changeanim
trigger1 = animtime = 0
value = 2555

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
;persistent =


;---------------------------------------------------------------------------
[Statedef 2556]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2
anim = 5100

[state a]
type = posset
trigger1 = time = 0
y = 0



[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = AnimExist(5101) = 1
value = 5101

[state a]
type = turn
trigger1 = time = 0
trigger1 = anim = 5100


[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 821, 3]
type = changeState
trigger1 = animtime = 0
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
persistent = 1








;.......................
;(HELPER)超必殺技発動エフェクトその１
[Statedef 6000]
type = S
ctrl = 0
anim = 6000
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = time >= 18
v = 2
value = 5

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.5-(var(2)*0.01),1.5-(var(2)*0.01)


[State -2, a];テスト
type = palfx
trigger1 = root,stateno = [2500,2599]
time = 1
;add = 226,20,20
mul = 256,200,200
color = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 47

;---------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクトその２
[Statedef 6001]
type = S
ctrl = 0
anim = 6001
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - var(2)/4, 256
;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = 1
v = 2
value = 20

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 0.0+(var(2)*0.01),0.0+(var(2)*0.01)

;-------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = time = 0
id = 6002
name = "efe"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 6002
helpertype = normal
supermovetime = 70
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = time = 0
id = 6003
name = "efe"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 6002
helpertype = normal
supermovetime = 70
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = time = 0
id = 6004
name = "efe"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 6002
helpertype = normal
supermovetime = 70
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = time = 0
id = 6005
name = "efe"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 6002
helpertype = normal
supermovetime = 70
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = time = 0
id = 6006
name = "efe"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 6002
helpertype = normal
supermovetime = 70
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = time = 0
id = 6007
name = "efe"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 6002
helpertype = normal
supermovetime = 70
pausemovetime = 0
keyctrl = 0
ownpal = 1



[State -2, a];テスト
type = palfx
trigger1 = root,stateno = [2500,2599]
time = 1
;add = 226,20,20
mul = 256,200,200
color = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 47

;---------------------------------------------------------------------------
;(HELPER)エフェクト３
[Statedef 6002]
type = A
ctrl = 0
anim = 6002
velset = 0,0
movetype = A
physics = N
sprpriority = 5

;var(1) 透過


[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
trigger1 = IsHelper(6002)
x = -2
y = 0

[state a]
type = velset
trigger1 = time = 0
trigger1 = IsHelper(6003)
x = -0.6
y = 0.8

[state a]
type = velset
trigger1 = time = 0
trigger1 = IsHelper(6004)
x = 0.6
y = 0.8

[state a]
type = velset
trigger1 = time = 0
trigger1 = IsHelper(6005)
x = 2
y = 0

[state a]
type = velset
trigger1 = time = 0
trigger1 = IsHelper(6006)
x = 0.6
y = -0.8

[state a]
type = velset
trigger1 = time = 0
trigger1 = IsHelper(6007)
x = -0.6
y = -0.8

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 + (var(1)), 256

;---------------------[変数]
[state a]
type = varadd
trigger1 = 1
v = 1
value = -6

;---------------------[拡縮]
[State 1000, 0]
type = Angleset
trigger1 = IsHelper(6002)
value = 0

[State 1000, 0]
type = Angleset
trigger1 = IsHelper(6003)
value = 60

[State 1000, 0]
type = Angleset
trigger1 = IsHelper(6004)
value = 120

[State 1000, 0]
type = Angleset
trigger1 = IsHelper(6005)
value = 180

[State 1000, 0]
type = Angleset
trigger1 = IsHelper(6006)
value = 240

[State 1000, 0]
type = Angleset
trigger1 = IsHelper(6007)
value = 300

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 0.0+var(1)*0.05,1.0


[State -2, a];テスト
type = palfx
trigger1 = root,stateno = [2500,2599]
time = 1
;add = 226,20,20
mul = 256,200,200
color = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 47

;---------------------------------------------------------------------------


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1), var(1)
;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 40
v = 1
value = 15

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 60


;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
physics = N
anim = 5200
ctrl = 0

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -7
y = 0

[State 5201, 2]
type = Velmul
trigger1 = 1
x = .95

[State 5201, 2]
type = VelSet
trigger1 = Animelem = 2
x = 0
y = 0

[State 5201, 3]
type = PosSet
trigger1 = 1
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2400, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 削られKO
[Statedef 5950]
type    = S
movetype= H
physics = S
ctrl = 0
sprpriority = -3

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver!
value = ifelse(var(9) = 0,150,151)

[State 5950, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5950, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State -2]
type = PlaySnd
trigger1 = anim = 5950
value = s5950,0
persistent = 0

[State 5950, 2]
type = ChangeAnim
trigger1 = HitOver && anim != 5950
value = 5950

[State 5001, 1]
type = VelSet
trigger1 = Time = 1
x = GetHitVar(xvel)*ifelse(facing = -1,-1,1)

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 6]
type = ChangeState
trigger1 = anim = 5950 && animelem = 10
value = 5150

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = prevstateno != 5950
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = prevstateno != 5950
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
triggerall = prevstateno != 5950
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = prevstateno != 5950
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef -2]

[State a]
type = AssertSpecial
trigger1 = RoundState != 2
flag = nobardisplay
;---------------------------------------------------------------------------
; エフェクト消し
[State -2]
type = removeexplod
trigger1 = stateno != [1100,1102]
ID = 1100
ignorehitpause = 1

[State -2]
type = removeexplod
trigger1 = stateno != [1150,1152]
ID = 1150
ignorehitpause = 1

[State -2]
type = removeexplod
trigger1 = stateno != [1402,1404]
ID = 1400
ignorehitpause = 1

;---------------------------------------------------------------------------
; 飛び道具ヒット時スロー・ヘルパー
[State -2]
type = Helper
trigger1 = numhelper(1500) = 0
trigger1 = projhit1000 = 1
ID = 1500
stateno = 1500

;---------------------------------------------------------------------------
; ジャンプ関連
[State -2]
type = varset
trigger1 = stateno = 52
v = 2
value = -1

[State -2]
type = varset
trigger1 = stateno = [100,102]
v = 2
value = 1

[State -2]
type = varset
trigger1 = command = "down"
v = 2
value = 8

[State -2]
type = varadd
trigger1 = statetype != A && stateno != 40
v = 2
value = -1
ignorehitpause = 1

;---------------------------------------------------------------------------
; 残像を消し
[State -2]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = prevstateno = 50|prevstateno = 60|prevstateno = 700|prevstateno = 710
value = 0

;---------------------------------------------------------------------------
;1pか2pか確認
[State -2]
type = varset
trigger1 = var(3) = 0 && facing = 1
v = 3
value = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = var(3) = 0 && facing = -1
v = 3
value = 2

;---------------------------------------------------------------------------
; カウンターヒット
[State -2]
type = varadd
trigger1 = movehit = 1|projhit = 1
v = 4
value = 1
ignorehitpause = 1

[State -2]
type = EnvColor
trigger1 = stateno != [800,850]
trigger1 = var(4) = 1 && var(5) = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 1

[State -2]
type = removeexplod
trigger1 = (stateno != [800,850]) && numexplod(7020) = 1
trigger1 = var(3) = 1 && var(4) = 1 && var(5) = 1
ID = 7020
ignorehitpause = 1

[State -2]
type = explod
trigger1 = stateno != [800,850]
trigger1 = var(3) = 1 && var(4) = 1 && var(5) = 1
ID = 7020
anim = 7020
postype = left
pos = 0,68
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1

[State -2]
type = removeexplod
trigger1 = (stateno != [800,850]) && numexplod(7022) = 1
trigger1 = var(3) = 2 && var(4) = 1 && var(5) = 1
ID = 7022
ignorehitpause = 1

[State -2]
type = explod
trigger1 = stateno != [800,850]
trigger1 = var(3) = 2 && var(4) = 1 && var(5) = 1
ID = 7022
anim = 7022
postype = left
pos = 312,68
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1

[State -2]
type = varset
trigger1 = var(6) = 2 && numtarget = 0
v = 6
value = 0
ignorehitpause = 1

[State -2]
type = varset
trigger1 = stateno != [800,850]
trigger1 = var(4) = 1 && var(5) = 1
v = 6
value = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = var(6) = 2
trigger1 = hitpausetime = 1|projhittime(1000) = 1
v = 6
value = 3
ignorehitpause = 1

[State -2]
type = varset
trigger1 = var(6) = 1
trigger1 = hitpausetime = 1|projhittime(1000) = 1
v = 6
value = 2
ignorehitpause = 1

[State -2]
type = AssertSpecial
trigger1 = var(6) = [1,2]
flag = nojugglecheck

[State -2]
type = varset
trigger1 = enemynear,movetype != A
v = 5
value = 0
ignorehitpause = 1

[State -2]
type = varset
trigger1 = enemynear,movetype = A
v = 5
value = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = stateno = 0|stateno = 11|ctrl = 1|time = 1
v = 4
value = 0

;---------------------------------------------------------------------------
; ヒット数
[State -2]
type = varset
trigger1 = movetype != A
v = 7
value = 0
ignorehitpause = 1

[State -2]
type = varadd
trigger1 = hitpausetime = 1
v = 7
value = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; スパキャン用
[State -2]
type = varset
trigger1 = stateno = 0|movetype != A
trigger2 = prevstateno = 310|prevstateno = 1050|prevstateno = 1100|prevstateno = 1150
trigger2 = stateno != [1400,2159]
v = 8
value = 0
ignorehitpause = 1

[State -2]
type = varset
trigger1 = stateno = [1400,2159]
trigger1 = prevstateno = 310|prevstateno = 1050|prevstateno = 1100|prevstateno = 1150
v = 8
value = 1
ignorehitpause = 1

[State -2]
type = AssertSpecial
trigger1 = var(8) = 1
flag = nojugglecheck

;---------------------------------------------------------------------------
; 死亡関係
[State -2]
type = ChangeState
trigger1 = statetype != A
trigger1 = alive = 0 && (prevstateno = [130,131])
value = 5950
ignorehitpause = 1

[State -2]
type = varset
trigger1 = statetype = S && (stateno != [5000,5950])
v = 9
value = 0

[State -2]
type = varset
trigger1 = statetype = C && (stateno != [5000,5950])
v = 9
value = 1

;---------------------------------------------------------------------------
; random
[State -2]
type = VarRandom
trigger1 = 1
v = 10
range = 0,2

[State -2]
type = VarRandom
trigger1 = 1
v = 11
range = 0,5

[State -2]
type = VarRandom
trigger1 = 1
v = 12
range = 0,1

;---------------------------------------------------------------------------
; 試合終了後演習用
[State -2]
type = Varset
trigger1 = roundstate <= 2 && lose = 0
v = 13
value = 0
ignorehitpause = 1

[State -2]
type = Varadd
trigger1 = roundstate > 2 && lose = 0
v = 13
value = 1
ignorehitpause = 1

[State -2]
type = PlaySnd
trigger1 = var(13) = 1
value = s3000, 0
ignorehitpause = 1
[State -2]
type = PlaySnd
trigger1 = var(13) = 1
value = s3000, 0
ignorehitpause = 1
[State -2]
type = PlaySnd
trigger1 = var(13) = 1
value = s3000, 0
ignorehitpause = 1

[State -2]
type = BGPalFx
trigger1 = var(13) = 6|var(13) = 8|var(13) = 10|var(13) = 12|var(13) = 14|var(13) = 16
trigger2 = var(13) = 18|var(13) = 20|var(13) = 22|var(13) = 24|var(13) = 26|var(13) = 28
trigger3 = var(13) = 30|var(13) = 32|var(13) = 34|var(13) = 36|var(13) = 38|var(13) = 40
add = 50,-50,-50
time = 1
ignorehitpause = 1

[State 1000, 0]
type = EnvColor
trigger1 = var(13) = 1|var(13) = 3
value = 120,0,0
time = 1
under = 1
ignorehitpause = 1

[State 1000, 0]
type = EnvColor
trigger1 = var(13) = 2|var(13) = 4
value = 222,255,255
time = 1
under = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; 音止め
[State -2]
type = StopSnd
trigger1 = stateno != 101
channel = 1

[State -2]
type = StopSnd
trigger1 = stateno != 1200 && stateno != 1250
trigger2 = numhelper(1210) = 1
trigger2 = helper(1210),stateno = 1212
trigger3 = numhelper(1260) = 1
trigger3 = helper(1260),stateno = 1212
channel = 2

[State -2]
type = PlaySnd
trigger1 = numtarget(315)
trigger1 = target(315),stateno = 316 && target(315),anim = 315 && target(315),time = 1
trigger2 = numtarget(800)
trigger2 = target(800),stateno = 824 && (target(800),anim = [5100,5109]) && target(800),time = 1
persistent = 0
value = s805,0

;---------------------------------------------------------------------------
; 音関係
[State -2]
type = PlaySnd
triggerall = time  = 1
trigger1 = stateno = 200|stateno = 205|stateno = 210|stateno = 215
trigger2 = stateno = 400|stateno = 410
trigger3 = stateno = 600|stateno = 610
value = s205,0

[State -2]
type = PlaySnd
triggerall = time  = 1
trigger1 = stateno = 230|stateno = 235|stateno = 240|stateno = 245
trigger2 = stateno = 430|stateno = 440
trigger3 = stateno = 630|stateno = 640
value = s205,1

[State -2]
type = PlaySnd
triggerall = time  = 1
trigger1 = stateno = 200|stateno = 205|stateno = 230|stateno = 235
trigger2 = stateno = 400|stateno = 430
trigger3 = stateno = 600|stateno = 630
value = s200,var(10)
channel = 0

[State -2]
type = PlaySnd
triggerall = time  = 1
trigger1 = stateno = 210|stateno = 215|stateno = 240
trigger2 = stateno = 410|stateno = 440
trigger3 = stateno = 610|stateno = 640
value = s201,var(10)
channel = 0

[State -2]
type = PlaySnd
triggerall = var(11) = [0,3]
triggerall = time = 1
triggerall = stateno = 5000
trigger1 = anim = 5000
trigger2 = anim = 5001
trigger3 = anim = 5010
trigger4 = anim = 5011
trigger5 = anim = 5020
trigger6 = anim = 5021
persistent = 0
channel = 0
value = s5000, var(10)

[State -2]
type = PlaySnd
triggerall = var(11) = [0,3]
triggerall = time = 1
triggerall = stateno = 5000
trigger1 = anim = 5002
trigger2 = anim = 5012
trigger3 = anim = 5022
persistent = 0
channel = 0
value = s5000, var(12)

;-------------------
; carica cosmo
[Statedef 35000]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 35000
ctrl = 0

[State 730001, POLVERE]
type = Explod
triggerall = NumExplod(170) = 0
trigger1 = 1
trigger2 = animelem = 4
pos = 10,0
anim = 90
ID = 170
sprpriority = 3
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 1
removeongethit = 1
scale = 0.8,0.8



[State 35000, StopSnd]
type = StopSnd
trigger1 = Time = 1
channel = 0

[State 730001, voceita]
type = playsnd
trigger1 = (Time % 50) = 0
Value = 99,62

[State 35000, StopSnd]
type = StopSnd
triggerall = Var(59) = 0
trigger1 = stateno = 901
trigger2 = command != "holdpowercosmos z"
trigger3 = command != "holdpowercosmos c"
channel = -1

[State 900,p ]
type = PowerAdd
trigger1 = Anim = 35000
value = 4

[State 900, ChangeState]
type = ChangeState
trigger1 = Power >= 3000
value = 35001
ctrl = 0

[State 900, ChangeState]
type = ChangeState
trigger1 = command != "holdpowercosmos z"
trigger2 = command != "holdpowercosmos c"
value = 35001

;---------------------------------------------------------------------------
; fine carica cosmo
[Statedef 35001]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 35001
ctrl = 0

[State 35001, 1]
type = PlaySnd
triggerAll = Power >= 3000
trigger1 = Time = 1
value = 99,63

[State 35001, shake]
type = EnvShake
triggerall = power >= 3000
trigger1 = time = 0
time = 64

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;....................
; Getting hit (lightning version)
[Statedef 43000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 9000, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 9000, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 9000, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype)

[State 9000, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9000, 6]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 9000, 7]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 43001

[State 9000, 8]
type = ChangeState
trigger1 = HitShakeOver
value = 43030

[State 9000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 9000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 9000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;--------------------------------------------
[Statedef 43001]
type    = S
movetype= H
physics = S

[State 9001, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 9001, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 9001, 4]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 9001, 5]
type = VelSet
trigger1 = HitOver
x = 0

[State 9001, 6]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 9001, 7]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------
[Statedef 43010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 9010, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 9010, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 9010, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype)

[State 9010, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 43011

[State 9010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 43030

[State 9010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 9010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 9010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;-----------------------------------------------
[Statedef 43011]
type    = C
movetype= H
physics = C

[State 9011, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 9011, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 9011, 4]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 9011, 5]
type = VelSet
trigger1 = HitOver
x = 0

[State 9011, 6]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 9011, 7]
type = SelfState
trigger1 = HitOver
value = 11
ctrl = 1

;---------------------------------------
[Statedef 43020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 9020, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 9020, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 9020, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype)

[State 9020, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9020, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 43030

[State 9020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 9020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 9020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;--------------------------------------------------------
[Statedef 43030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 9030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 9030, 4]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 5040

[State 9030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 43050

[State 9030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 43035

;-------------------------------------------------------
[Statedef 43035]
type    = A
movetype= H
physics = N

[State 9035, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059]
trigger1 = Anim != 5090
value = 5035

[State 9035, 3]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9035, 4]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035
value = 5040

[State 9035, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035
value = 43050

;--------------------------------------------------------
[Statedef 43050]
type    = A
movetype= H
physics = N

[State 9050, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090
value = 5050

[State 9050, 3]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 9050, 4]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9050, 5]
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -30
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 52000

[State 9050, 6]
type = SelfState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210

[State 9050, 7]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗獄屠拳
[Statedef 11000]
;type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1100
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = null;posset
trigger1 = time = 0
y = 0

[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "a"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = statetype = A
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "b"
v = 5
value = 2

[state a]
type = changeanim
trigger1 = time = 1
trigger1 = var(5) = 1
value = 1101

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1102

;---------------------[]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = var(5) = 1
trigger1 = time <= 9
value = SCA

;---------------------[効果音]
[state a];南斗獄屠拳!!
type = playsnd
trigger1 = animelem = 2
value = 99,14

[state a];南斗獄屠拳!!
type = playsnd
trigger1 = animelem = 1
value = 99,73

[state a];蹴り
type = playsnd
trigger1 = animelem = 6
value = 1100,1

;-------------[速度・１]
[state a]
type = statetypeset
trigger1 = time = 0
value = A

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = time = 0
x = 2
y = -1

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 6,<=0
x = 0.7


[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 7,>=0
trigger1 = vel x > 0
x = -0.3

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = vel x <= 0
x = 0

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 5,>=0
trigger1 = animelem = 10,<=0
y = -0.8

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 10,>=0
y = 0.8


;-------------[速度・２]
[state a]
type = velset
triggerall = var(5) = 1
trigger1 = time = 0
x = 5
y = -4

[state a]
type = veladd
triggerall = var(5) = 1
trigger1 = animelem = 10,>=0
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
triggerall = var(5) = 1
trigger1 = vel x <= 2
x = 2

[state a]
type = veladd
triggerall = var(5) = 1
trigger1 = animelem = 10,>=0
y = 0.55


;-------------[速度・２]
[state a]
type = velset
triggerall = var(5) = 2
trigger1 = time = 0
x = 6
y = -6.5

[state a]
type = veladd
triggerall = var(5) = 2
trigger1 = animelem = 9,>=0
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
triggerall = var(5) = 2
trigger1 = vel x <= 2
x = 2

[state a]
type = veladd
triggerall = var(5) = 2
trigger1 = 1
y = 0.6


;---------------------[ヘルパー]
[state a];エフェクト１
type = Helper
trigger1 = animelem = 7
id = 1110
name = "gokuto"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 1110
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト２
type = Helper
trigger1 = animelem = 7
id = 1111
name = "gokuto2"
sprpriority = 2
pos = -20,-280/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];エフェクト３
type = Helper
trigger1 = animelem = 7
id = 1112
name = "gokuto3"
sprpriority = 2
pos = 0,-220/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

;---------------------[弱攻撃]
[State 640, 3]
type = HitDef
triggerall = var(5) = 0
trigger1 = animelem = 7
attr = A, SA
damage    = 115,15
priority = 8, Hit
guardflag = MA
getpower = 108,108
pausetime = 14,14
guard.pausetime = 12,12
sparkno = 2
sparkxy = -10,-125
hitsound   = s99,15
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10,-2
guard.velocity = -11
air.velocity = ifelse(var(9) = 0,-2,0),-10
yaccel = 0.65 + (var(3) - 1)*0.1
fall = 1
fall.recover = 0
ID = 600
nochainID = 9999

;---------------------[相手制御]


[state a]
type = varset
trigger1 = var(5) = 0
trigger1 = movehit = 1
v = 11
value = 1

;---------------------[空中弱攻撃]
[State 640, 3]
type = HitDef
triggerall = var(5) = 1
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
attr = A, SA
damage    = 37,6
priority = 6, Hit
guardflag = HA
getpower = 62,62
pausetime = 12,12
guard.pausetime = 6,6
sparkno = 2
sparkxy = -10,-125
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4,-2
guard.velocity = -3
air.velocity = ifelse(var(9) = 0,-4,0),-10
yaccel = 0.65 + (var(3) - 1)*0.1
fall = 1
fall.recover = 0
ID = 600
nochainID = 9999

[State 640, 3]
type = HitDef
triggerall = var(5) = 1
trigger1 = animelem = 10
attr = A, SA
damage    = 37,6
priority = 6, Hit
guardflag = HA
getpower = 108,108
pausetime = 15,15
guard.pausetime = 15,15
sparkno = 2
sparkxy = -10,-125
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,-3
guard.velocity = -11
air.velocity = ifelse(var(9) = 0,-4,0),-10
yaccel = 0.65 + (var(3) - 1)*0.1
fall = 1
fall.recover = 0
ID = 600
nochainID = 9999

;---------------------[強攻撃]
[State 640, 3]
type = HitDef
triggerall = var(5) = 2
trigger1 = animelem = 7
attr = A, SA
damage    = 115,15
priority = 6, Hit
guardflag = HA
getpower = 108,108
pausetime = 17,17
guard.pausetime = 15,15
sparkno = 2
sparkxy = -10,-125
hitsound   = s400,3
guard.sparkno = s7101
guardsound = s121,0
animtype = up
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-10
guard.velocity = -11
air.velocity = ifelse(var(9) = 0,-2,0),-10
yaccel = 0.55 + (var(3) - 1)*0.1
fall = 1
fall.recovertime = 60
ID = 600
nochainID = 9999


;---------------------[]
[state a];ブースト
type = veladd
trigger1 = command = "z"
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
trigger1 = command = "z"
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
trigger1 = command = "z"
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

[state a]
type = ctrlset
trigger1 = var(5) = 0
trigger1 = animelem = 15
value = 1

;---------------------[七星ゲージ]
[state a];グレイブシュート
type = varadd
trigger1 = movehit = 1
trigger1 = var(9) != 0
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

[state a];カウンターヒット
type = varadd
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = var(5) != 0
value = 1105

[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 50


;---------------------------------------------------------------------------
;南斗獄屠拳・着地
[Statedef 1105]
type = S
movetype = A
physics = S
poweradd= 0
ctrl = 0
anim = 1105
sprpriority = 2
velset = 0,0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State -3, Landing Sound]
type = PlaySnd
trigger1 = time = 0
value = 99,16

[State explod];着地エフェクト
type = Explod
trigger1 = time = 0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)獄屠エフェクト１
[Statedef 1110]
type = A
ctrl = 0
anim = 1111
velset = 0,0
movetype = I
physics = N
sprpriority = 2



[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = 1
pos = 140/2,-300/2

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
value = 36

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2

;---------------------[]
[state a]
type = destroyself
trigger1 = root,animelem = 13,>=0 && root,var(5) = 0
trigger2 = root,animelem = 12,>=0 && root,var(5) = 1
trigger3 = root,animelem = 11,>=0 && root,var(5) = 2
trigger4 = root,stateno != 1100


;---------------------------------------------------------------------------
;(HELPER)獄屠エフェクト２
[Statedef 1111]
type = A
ctrl = 0
anim = 1112
velset = -1,0
movetype = I
physics = N
sprpriority = 2



[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(1111)
x = -1

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(1112)
x = -0.5
y = 0.5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 8

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1111)
value = 0

[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1112)
value = 36

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 2.0+var(1)*0.001,2.0+var(1)*0.001

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 32

;---------------------------------------------------------------------------

;100 Pugni
[Statedef 1920]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1920
velset = 2,0

[State 1920]
type = playsnd
trigger1 = time = 0
Value = 99,75
Channel = 0

[State 1920]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
trigger4 = AnimElem = 16
trigger5 = AnimElem = 20
trigger6 = AnimElem = 5
trigger7 = AnimElem = 9
trigger8 = AnimElem = 13
trigger9 = AnimElem = 17
trigger10 = AnimElem = 21
trigger11 = AnimElem = 23
attr = S, HA
animtype  = Low
damage    = 10,5
getpower  = 0
priority  = 6
guardflag = M
pausetime = 0,9
sparkxy = -10,-70
sparkno = -1
hitsound   = S4,1
guardsound = S1,5
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
air.velocity = 0,0 
fall.animtype = Hard
fall.animtype = Hard
envshake.time =  15 
envshake.freq = 20    
envshake.ampl = 3 

[State 1920]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 18
trigger5 = AnimElem = 22
trigger6 = AnimElem = 7
trigger7 = AnimElem = 11
trigger8 = AnimElem = 15
trigger9 = AnimElem = 19
trigger9 = AnimElem = 25
attr = S, HA
animtype  = Low
damage    = 10,5
getpower  = 0
priority  = 6
guardflag = M
pausetime = 0,10
sparkxy = -10,-70
sparkno = -1
hitsound   = S4,1
guardsound = S1,5
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
air.velocity = 0 
fall.animtype = Hard
fall.animtype = Hard
envshake.time =  15 
envshake.freq = 20    
envshake.ampl = 3 

[State 1920]
type = HitDef
trigger1 = AnimElem = 25
attr = S, HA
animtype  = Low
damage    = 10,5
getpower  = 0
priority  = 6
guardflag = M
pausetime = 0,60
sparkxy = -10,-70
sparkno = -1
hitsound   = S99,25
guardsound = S1,5
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
air.velocity = 0 
fall.animtype = Hard
fall.animtype = Hard
envshake.time =  15 
envshake.freq = 20    
envshake.ampl = 3 

[State 1920, Miss] 
type = ChangeState 
triggerall = !MoveHit 
trigger1 = AnimElem = 25 
value = 0 
ctrl = 1 

[State 1920]
type = ChangeState
trigger1 = AnimTime = 0
value = 1921

[Statedef 1921]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1921
velset = 5,0

[State 1921]
type = playsnd
trigger1 = time = 50
Value = 99,25
Channel = 1

[State 1021]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype  = Low
damage    = 20,5
getpower  = 0
priority  = 6
guardflag = -1
pausetime = 50,50
sparkxy = -10,-70
hitsound   = S99,20
guardsound = S1,5
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4,-5
air.velocity = -4,-5
envshake.time =  15 
envshake.freq = 45    
envshake.ampl = 6 
envshake.phase = 6
fall.animtype = Hard
fall = 1

[State 1021]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
