;変数使用表
;　 1 = 
;　 2 = 勝利ポーズ変更
;☆ 3 = 落下速度
;☆ 4 = 七星ゲージ
;　 5 = 強弱ボタン判定
;　 6 = 通常攻撃ボイス、乱数指定
;　 7 = ダガール当身、知略の時代無敵
;☆ 8 = カウンター
;☆ 9 = グレイブシュート判定
;☆10 = プレイヤーの向き設定
;☆11 = バニシングストライク判定
;☆12 = KOサウンド
;  13 = 勝利判定
;  14 = 攻撃力
;☆15 = ハイジャンプ
;　16 = 
;☆17 = ダメージ補正に使用
;  18 = 攻撃値の保存
;  19 = 
;  20 = 
;☆21 = テーレッテー
;  22 = 透明化
;  23 = 
;  24 = ?
;☆25 = グレイブシュート判定
;☆26 = ネバリ補正
;  27 = ハート様の動き
;  28 = ハート様ゲージ
;  29 = ハート様ゲージ 回復待機時間
;  31 = random
;  32 = 12P演出透過処理
;  33 = スイッチ
;  34 = 範囲
;  35 = 時間
;  36 = 相手ライフ保存
; 30 = AI判定(にしたいな…)
; 59 = AIレベル

; f(1) = 攻撃補正
; f(2) = 通常ダメージ補正
; f(3) = グレイブシュートダメージ補正
; f(4) = バニシングストライクダメージ補正
; f(5) = 連続技補正
; f(27) = 補正リセット
; f(28) = ハート様ゲージ
; f(30) = キャンセル確認(AI用)
; 39 = コンボ確認

; channel = 4	
; channel = 5	イントロ

; 体力ゲージ　192
; オーラゲージ　約130


[Data]
  ;体力ゲージの初期値
life = 1000
  ;攻撃力（これ以上に設定すると強くなる）
power             = 3000
attack = 85
  ;防御力（これ以上に設定すると強くなる）
defence = 100
  ;コンボをくらっている時にあがる防御力
fall.defence_up = 50
  ;倒れてから起上がるまでのフレーム数
liedown.time = 20
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle = 100
  ;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno = 2
  ;設定してない時のガードナンバー
guard.sparkno = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.echo = 0
 volume = 5
  IntPersistIndex =
FloatPersistIndex =

[Size]
xscale = 0.5           ;水平方向の縮尺（通常１）
yscale = 0.5           ;垂直方向の縮尺（通常１）
ground.back = 20     ;キャラの幅(後方,地上)
ground.front = 20    ;キャラの幅(前方,地上)
air.back = 12        ;キャラの幅(後方,空中)
air.front = 12       ;キャラの幅(前方,空中)
height = 120          ;キャラの高さ
attack.dist = 320    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 320;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = 5, -124   ;頭の大体の座標
mid.pos = -7, -88    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.3      ;前進の速度
walk.back = -2.3     ;後退の速度
run.fwd  = 4.3130434, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -4.5,-4.1 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-11.5    ;垂直ジャンプの速度
jump.back = -3.55,1    ;後ジャンプの速度
jump.fwd = 3.5,1       ;前ジャンプの速度
runjump.back = -2.55,-8.1 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-8.1      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.1      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 1      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .54         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数


;===================================================
;---------------------------------------------------
[statedef 1234567];バスケ
type = S
movetype = H
physics = N
sprpriority = 5
ctrl = 0

[state a];無敵
type = hitby
trigger1 = 1
value = SCA,NA,NT,NP,SA,ST,SP,HA,HT,HP,AA,AT,AP
time=1
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a]
type = changeanim
trigger1 = time=0
value= 5050

[state a]
type = veladd
trigger1 = time=0
trigger2 = pos y >= 25
y = -12.5 - GetHitVar(hitcount)*0.03;125

[state a]
type = Gravity
trigger1 = 1

[State 5100, 4]
type = PosSet
trigger1 = pos y >= 15
y = 0

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = time >= 10
trigger1 = pos y = 0

[State 5100, 8]
type = GameMakeAnim
trigger1 = time >= 10
trigger1 = pos y = 0
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 10]
type = PlaySnd
trigger1 = time >= 10
trigger1 = pos y >= 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)
persistent=0

[State 5100, 13]
type = ForceFeedback
trigger1 = time >= 10
trigger1 = pos y = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

[state a]
type = selfstate
trigger1 = time >= 10
trigger1 = pos y >= 0
value = 5101

;===================================================
;---------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1234566]
type    = S
movetype= H
physics = N
anim=5101
ctrl=0

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 1234565]
type    = S
movetype= H
physics = N
ctrl=0

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = HitOver = 1
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = null;ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
y = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = null;VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050


;---------------------------------------------------------------------------
; ジャンプ開始
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
;velset = 0,0
sprpriority = 1

[State 40]
Type = ChangeState
Trigger1 = var(30)>0
value = 0
Ctrl = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = !var(30)
Trigger1 = command = "holdfwd"
trigger2 = var(30)
Trigger2 = EnemyNear,StateType != L || P2BodyDist X >= 30
Trigger2 = EnemyNear,MoveType = H || Random <= 333 || EnemyNear,StateType = L
Trigger3 = var(59)=1
Trigger3 = EnemyNear,MoveType = H
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = !var(30)
Trigger1 = command = "holdback"
trigger2 = var(30)
Trigger2 = EnemyNear,StateType != L
Trigger2 = EnemyNear,MoveType != H
Trigger2 = BackEdgeBodyDist>60
Trigger2 = Random <= 500
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; ジャンプ開始AI用前
[Statedef 41]
type    = S
physics = S
anim = 40
ctrl = 0
;velset = 0,0
sprpriority = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 40, 2]
type = VarSet
trigger1 = var(30)
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x =const(velocity.jump.fwd.x)
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; ジャンプ開始AI用後ろ
[Statedef 42]
type    = S
physics = S
anim = 40
ctrl = 0
;velset = 0,0
sprpriority = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 40, 2]
type = VarSet
trigger1 = var(30)
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x =const(velocity.jump.back.x)
y = const(velocity.jump.y)


[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; グレイブ用ジャンプ
[Statedef 43]
type    = S
physics = S
anim = 40
ctrl = 0
;velset = 0,0
sprpriority = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 40, 2]
type = VarSet
trigger1 = var(30)
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x =const(velocity.jump.fwd.x)
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
velset = 0,0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 空中ジャンプ開始
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 00]
type = PlaySnd
trigger1 = time = 0
value = 40, 1

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; 着地
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ダッシュAI
[Statedef 102]
type    = S
physics = N
anim = 100
sprpriority = 1
ctrl = 0

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 00]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animtime = 0
value = 100, 0

[State 01]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.fwd.x)

[state a]
type = veladd
trigger1 = vel x <= 9.5
x = 0.1

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


;---------------------------------------------------------------------------

[Statedef 100]
type    = S
physics = N
anim = 100
sprpriority = 1
ctrl = 1


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 00]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animtime = 0
value = 100, 0

[State 01]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.fwd.x)

[state a]
type = veladd
trigger1 = vel x <= 9.5
x = 0.1

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
triggerall = !var(30)
trigger1 = command != "holdfwd"
value = 101
ctrl = 1

[State 100,ﾀﾞｯｼｭｽﾃｯﾌﾟ DashStop]
type = ChangeState
triggerall = var(30)
TriggerAll = p2movetype = A
Trigger1 = inguarddist
Trigger2 = EnemyNear,MoveType!=H
Trigger2 = P2BodyDist X<=90
Trigger2 = P2BodyDist Y>=-120
Trigger3 = P2BodyDist X<=10
value = 101
ctrl = 1


;---------------------------------------------------------------------------
;ダッシュ終了
[Statedef 103]
type    = S
physics = S
anim = 101
sprpriority = 1
ctrl = 0

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
;ダッシュ終了
[Statedef 101]
type    = S
physics = S
anim = 101
sprpriority = 1
ctrl = 1

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 空中ダッシュ
[Statedef 110]
type    = A
physics = N
anim = 110
sprpriority = 1
velset = 0,0
ctrl = 1

[State 01]
type = VelSet
trigger1 = animelem = 2
x = 6.5
y = 0

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = time = 20
value = 111

;---------------------------------------------------------------------------
; 空中ダッシュAI用
[Statedef 112]
type    = A
physics = N
anim = 110
sprpriority = 1
velset = 0,0
ctrl = 0

[State 01]
type = VelSet
trigger1 = animelem = 2
x = 6.5
y = 0

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = time = 20
value = 111

;---------------------------------------------------------------------------
; 空中バックダッシュ
[Statedef 115]
type    = A
physics = N
anim = 115
sprpriority = 1
velset = 0,0
ctrl = 1

[State 01]
type = VelSet
trigger1 = time = 0
x = -6.5
y = 0

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = time = 20
value = 111

;---------------------------------------------------------------------------
; 空中ダッシュ終了
[Statedef 111]
type    = A
physics = A
anim = 111
sprpriority = 1
ctrl = 1

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


; フロントステップ・着地
[Statedef 101]
type    = S
physics = S
anim = 101
sprpriority = 1
ctrl = 1

[State 00]
type = PlaySnd
trigger1 = animelem = 3
value = 40, 0

[State explod];着地エフェクト
type = Explod
trigger1 = animelem = 3
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7
ownpal= 1

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; バックステップ
[Statedef 105]
type    = S
physics = N
ctrl = 0
anim = 105
velset = 0,0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 00]
type = PlaySnd
trigger1 = animelem = 2
value = 40, 1

[State 01]
type = VelSet
trigger1 = animelem = 2
x = -6
y = -4


[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.45

[State 00]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106


; バックステップ・着地
[Statedef 106]
type    = S
physics = S
anim = 106
sprpriority = 1
velset = 0,0
ctrl = 1

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 00]
type = PlaySnd
trigger1 = animelem = 1
value = 40, 0

[State explod];着地エフェクト
type = Explod
trigger1 = animelem = 1
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7
ownpal = 1

[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 170,0


[State 00]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝った動作
[Statedef 180]
type = S


[State 01];
type = ChangeState
trigger1 = var(21) = 1
value = 189

[State 01];
type = ChangeState
TriggerAll = NumPartner
triggerall = Random = [0,299];一定確立で分岐
trigger1 = Random = [0,299];一定確立で分岐
trigger2 = partner,name = "HAKUREI";世紀末霊夢
trigger2 = partner,Authorname = "Nachel_Arrange_By_RockMARISA"
trigger2 = numpartner > 0;タッグ
trigger3 = partner,name = "MegaMari";めがまり
trigger3 = partner,Authorname = "RockMARISA"
trigger3 = numpartner > 0;タッグ
trigger4 = partner,name = "Heart&Heart"
trigger4 = partner,Authorname = "Ahuron"
trigger4 = numpartner > 0;タッグ
trigger5 = enemy(0),name = "Heart&Heart"
trigger5 = enemy(0),Authorname = "Ahuron"
trigger5 = NumEnemy > 0
trigger6 = enemy(1),name = "Heart&Heart"
trigger6 = enemy(1),Authorname = "Ahuron"
trigger6 = NumEnemy > 0
trigger7 = partner,name = "Heart_Aino"
trigger7 = partner,Authorname = "Ina"
trigger7 = numpartner > 0;タッグ
trigger8 = enemy(0),name = "Heart_Aino"
trigger8 = enemy(0),Authorname = "Ina"
trigger8 = NumEnemy > 0
trigger9 = enemy(1),name = "Heart_Aino"
trigger9 = enemy(1),Authorname = "Ina"
trigger9 = NumEnemy > 0
value = 182

[State 01];
type = ChangeState
TriggerAll = NumPartner
trigger1 = Random = [300,499];一定確立で分岐
trigger2 = partner,name = "HAKUREI";世紀末霊夢
trigger2 = partner,Authorname = "Nachel_Arrange_By_RockMARISA"
trigger2 = numpartner > 0;タッグ
trigger3 = partner,name = "MegaMari";めがまり
trigger3 = partner,Authorname = "RockMARISA"
trigger3 = numpartner > 0;タッグ
trigger4 = partner,name = "Heart&Heart"
trigger4 = partner,Authorname = "Ahuron"
trigger4 = numpartner > 0;タッグ
trigger5 = enemy(0),name = "Heart&Heart"
trigger5 = enemy(0),Authorname = "Ahuron"
trigger5 = NumEnemy > 0
trigger6 = enemy(1),name = "Heart&Heart"
trigger6 = enemy(1),Authorname = "Ahuron"
trigger6 = NumEnemy > 0
trigger7 = partner,name = "Heart_Aino"
trigger7 = partner,Authorname = "Ina"
trigger7 = numpartner > 0;タッグ
trigger8 = enemy(0),name = "Heart_Aino"
trigger8 = enemy(0),Authorname = "Ina"
trigger8 = NumEnemy > 0
trigger9 = enemy(1),name = "Heart_Aino"
trigger9 = enemy(1),Authorname = "Ina"
trigger9 = NumEnemy > 0
value = 183

[State 01];
type = ChangeState
trigger1 = 1
value = 181



;---------------------------------------------------------------------------
; 勝った動作1[]
[Statedef 181]
type = A
ctrl = 0
anim = 181
velset = 0,0
physics = N
sprpriority = 2

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 00];
type = PlaySnd
trigger1 = animelem = 1
value = 181,0+(random%6)
channel = 2

[State 00];
type = PlaySnd
trigger1 = animelem = 6
value = 100,0

;---------------------[ヘルパー]
[state a];ユリア
type = null;Helper
trigger1 = animelem = 6
id = 170
name = "yuria"
sprpriority = -1
pos = 0,0
postype = p1
stateno = 171
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];愛乃はぁと
type = Helper
trigger1 = time=0
;trigger1 = animelem = 6
id = 170
name = ""
sprpriority = -1
pos = -47,-200
postype = p1
stateno = 171
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,300]
flag = roundnotover


;---------------------------------------------------------------------------
; 勝った動作1[一撃]
[Statedef 188]
type = S
velset = 0,0
physics = S
sprpriority = 2
ctrl = 0
anim = 0

[state a]
type = changeanim
trigger1 = screenpos x < 155
trigger2 = screenpos x > 165
value = 105
persistent = 0

[State 00]
type = PlaySnd
trigger1 = anim = 105
trigger1 = animelem = 2
value = 40, 1

[State 01]
type = VelSet
trigger1 = anim = 105
trigger1 = animelem = 2
x = -Abs((screenpos x=160)+pos x/8)
y = -4


[state a]
type = veladd
trigger1 = anim = 105
trigger1 = animelem = 2,>=0
y = 0.45

[State 00]
type = ChangeAnim
triggerall = anim = 105
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

[state a]
type = posset
trigger1 = anim = 106
y = 0

[State 00]
type = PlaySnd
triggerall = anim = 106
trigger1 = animelem = 1
value = 40, 0

[State 01]
type = VelSet
trigger1 = anim = 106
x = 0
y = 0

[State explod];着地エフェクト
type = Explod
triggerall = anim = 106
trigger1 = animelem = 1
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7
ownpal = 1

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = anim = 106
flag = NoAutoTurn

[State 00]
type = ChangeAnim
trigger1 = anim = 106
trigger1 = animtime = 0
value = 0
































[state a]
type = changeanim
trigger1 = anim = 0
value = 40010

[state a]
type = changeanim
trigger1 = prevstateno!=2504
trigger1 = time = 0
value = 40011

[state a]
type = ctrlset
trigger1 = time = 120
value = 1

[state a]
type = ctrlset
trigger1 = time = 121
value = 0

[State 2000, 6];ははははははははは
type = PlaySnd
trigger1 = anim = 40010
trigger1 = animelem = 5
value = 2500,4

[state a]
type = varadd
trigger1 =  var(2) <= 1200
v = 2
value = 20

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state a]
type = null;changestate
trigger1 = command = "x" || command = "y" || command = "z" || command = "a" || command = "b" || command = "c" || command = "start" 
value = 188

;---------------------------------------------------------------------------
; 勝った動作1[一撃]
[Statedef 189]
type = S
ctrl = 0
velset = 0,0
physics = S
sprpriority = 2
anim = 40010

[State 2000, 6];ははははははははは
type = PlaySnd
trigger1 = animelem = 5
value = 2500,4

[State 3040, 7]
type = BGPalfx
trigger1 = var(2) <= 1200
time = 1
;sinadd = 10,10,10,120
add = 20+var(2),20+var(2),20+var(2)
mul = 120,120,120
color = 256
under = 1

[state a]
type = varadd
trigger1 =  var(2) <= 1200
v = 2
value = 20



[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changeanim
trigger1 = prevstateno!=2521
trigger1 = time = 0
value = 40011

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state a]
type = ctrlset
trigger1 = time = 120
value = 1

[state a]
type = ctrlset
trigger1 = time = 121
value = 0


;---------------------------------------------------------------------------
;ユリア人形
[Statedef 112399183494102;71]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 171
sprpriority = -1

;---------------------[]

;---------------------[速度]


;---------------------[]
[state a]
type = destroyself
trigger1 = root,anim != 181

;---------------------------------------------------------------------------
;愛乃はぁと
[Statedef 171]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 40001
sprpriority = -1

;---------------------[]
[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x > 0

[State 00];
type = PlaySnd
trigger1 = pos y =0
value = 0,999
persistent=0

;---------------------[速度]
[state a]
type = velset
trigger1 = pos y <= 0
y = 15
persistent=0

[state a]
type = velset
trigger1 = pos y >= 0
trigger1 = anim != 40006
y = 0

[state a]
type = PosSet
trigger1 = pos y >= 0
trigger1 = anim != 40006
y = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
;分岐
[state a]
type = changeanim
trigger1 = pos y >= 0
value = 40000
persistent=0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
;ﾃｰﾚｯﾃｰ

[state a]
type = PosSet
triggerall = ishelper(2500)
Trigger1 =root,Facing = 1
trigger1 = time=0
y = -200
x = root,p2dist x*1.2

[state a]
type = PosSet
triggerall = ishelper(2500)
Trigger1 =root,Facing = -1
trigger1 = time=0
y = -200
x = -root,p2dist x*1.2

[state a]
type = changeanim
triggerall = ishelper(2500)
trigger1 = anim = 40000 && animtime = 0
value = 40006
persistent=0

;============================================================
;エフェクト
[state a];リボン
type = Explod
trigger1 = anim=40006 && animelem=5,=0
anim = 40008
ID = 40008
pos = 0,0
postype = p1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 7
scale = .5,.5
;ontop = 1
ownpal = 1
bindtime = -1
removetime = -1

[state a]
type = RemoveExplod
trigger1 = anim=40006 && animtime = 0
ID = 40008

[state a];リボン
type = Explod
trigger1 = anim=40006 && animtime = 0
anim = 40009
ID = 40009
pos = 0,0
postype = p1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 7
scale = .5,.5
;ontop = 1
ownpal = 1
bindtime = -1
removetime = -2

;============================================================
;速度
[state a]
type = veladd
triggerall = ishelper(2500)
trigger1 = anim = 40006 && animelem=5,>=0
trigger1 = anim = 40006 && animelem = 10,<=0
y = -0.7

[state a]
type = veladd
trigger1 = animelem = 8,>=0
trigger2 = anim = 40007
y = 0.5

[state a]
type = veladd
triggerall = ishelper(2500)
trigger1 = anim = 40006 && animelem=5,<=0
x = p2dist x*.005

[state a]
type = null;veladd
triggerall = ishelper(2500)
trigger1 =anim = 40006 &&  animelem = 2,<=3
x = 0.7

[state a]
type = veladd
trigger1 = anim = 40006 && animelem = 5,>=0
trigger1 = vel x > 0
x = -0.3

[state a]
type = velset
trigger1 = anim = 40006
trigger1 = vel x <= 0
x = 0

;============================================================
[state a]
type = changeanim
triggerall = ishelper(2500)
trigger1 =anim = 40006 && vel y > 0
value = 40007
persistent=0

[state a]
type = changeanim
trigger1 = anim=40007
trigger1 = pos y >=0
value = 40000
persistent=0

;============================================================
[state a]
type = SprPriority
trigger1 = anim=40015
trigger2 = anim=40016
value = 5

[state a]
type = changeanim
triggerall = ishelper(2500)
trigger1 = anim=40000
trigger1 = animtime = 0
trigger1 = RootDist x> -15
value = 40015
[state a]
type = changeanim
triggerall = ishelper(2500)
trigger1 = anim=40000
trigger1 = animtime = 0
trigger1 = RootDist x< -15
value = 40016

[state a]
type = velset
trigger1 = anim = 40015
x = 2.3

[state a]
type = velset
trigger1 = anim = 40016
x = -2.3

[state a]
type = velset
triggerall = RootDist x= [-20,-10]
trigger1 = anim=40015
trigger2 = anim=40016
x = 0

[state a]
type = changeanim
triggerall = RootDist x= [-20,-10]
trigger1 = anim=40015
trigger2 = anim=40016
value = 40005
persistent=0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
;勝利演出

[state a]
type = changeanim
triggerall = ishelper(170)
trigger1 = animtime = 0
value = 40002

;---------------------[]
[state a]
type = destroyself
triggerall = ishelper(170)
trigger1 = root,anim != 181

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;イントロ

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; 通常登場
[Statedef 190]
type = S
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -2

[State 強制]
type = changestate
trigger1 = Random = [0,400];一定確立で分岐
trigger1 = time <= 1
value = 191

;==================================================
[State a];よかろう・・・殺してやる
type = PlaySnd
TriggerAll=NumHelper(195)
trigger1 = Helper(195),time = 90
value = 190,0

;==================================================
[state a];ハート様
type     = Helper
trigger1   = NumHelper(195)=0
trigger1   = time >= 50
helpertype = normal
name     = "Heart"
ID       = 195
stateno  = 195
pos      = 0,-300
postype  = p1
facing   = 1
keyctrl  = 0
ownpal   = 1
sprpriority = -1
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];ハート様
type     = Helper
trigger1   = NumHelper(196)=0
trigger1   = time >= 50
helpertype = normal
name     = "Heart"
ID       = 196
stateno  = 195
pos      = 0,-300
postype  = p1
facing   = 1
keyctrl  = 0
ownpal   = 1
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;==================================================
[state a]
type = changeanim
TriggerAll=NumHelper(195)
trigger1 = Helper(195),time = 90
value = 192

[State a] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State a] 
type = ChangeState
trigger1 = anim = 192
trigger1 = AnimTime = 0
value = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ハート様
[Statedef 195]
type = S
ctrl = 0
anim = 9999
velset = 0,0

;==================================================
[State a]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow
ignorehitpause = 1

;==================================================
[state a]
type     = ChangeAnim
trigger1 = Ishelper(195)
trigger1 = time = 0
value    = 50201
[state a]
type     = ChangeAnim
trigger1 = Ishelper(196)
trigger1 = time = 0
value    = 50206

;==================================================
[state a]
type     = AngleDraw
trigger1 = time <90
scale    = 2,2

[state a]
type     = AngleDraw
trigger1 = Ishelper(195)
trigger1 = time >=90
scale    = 2,2
value    = fvar(1)

[state a]
type     = AngleDraw
trigger1 = Ishelper(196)
trigger1 = time >=90
scale    = 2,2
value    = fvar(2)
;==================================================
[state a]
type     = VarAdd
trigger1 = time >=90
fv    = 1
value = -5

[state a]
type     = VarSet
trigger1 = fvar(1)<=-50
fv    = 1
value = -50

[state a]
type     = VarAdd
trigger1 = time >=90
fv    = 2
value = 5

[state a]
type     = VarSet
trigger1 = fvar(2)>=50
fv    = 2
value = 50

;==================================================
[State a];
type = null;PlaySnd
trigger1 = pos y>= -100
value = 2350,4
persistent=0

[State a];
type = PlaySnd
trigger1 = time =33
trigger2 = time =45
trigger3 = time =63
value = 2350,4

;=======================================================
[state a]
type     = EnvShake
trigger1 = time =33
time     = 20
freq     = 60
ampl     = -4
phase    = 0
persistent=0

;==================================================
[state a]
type     = veladd
trigger1 = pos y<= 0
trigger1 = time <= 60
y = .35

[state a]
type     = velset
trigger1 = pos y>= 0
trigger1 = time <= 60
y = -3

[state a]
type     = veladd
trigger1 = pos y> 0
trigger1 = time = [60,89]
y = -.45

[state a]
type     = veladd
trigger1 = pos y< 0
trigger1 = time = [60,89]
y = .45

[state a]
type     = velset
trigger1 = pos y>= 0
trigger1 = time = [60,89]
y = 0

[state a]
type     = posset
trigger1 = pos y>= 0
trigger1 = time = [60,89]
y = 0

;==================================================
[state a]
type     = veladd
trigger1 = Ishelper(195)
trigger1 = time = [90,100)
x = 1.5
[state a]
type     = velmul
trigger1 = Ishelper(195)
trigger1 = time >= 100
x = .8

;==================================================
[state a]
type     = veladd
trigger1 = Ishelper(196)
trigger1 = time = [90,100)
x = -1.5
[state a]
type     = velmul
trigger1 = Ishelper(196)
trigger1 = time >= 100
x = .8


; 南斗獄屠拳
[Statedef 196]
;type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1106
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = null;posset
trigger1 = time = 0
y = 0

[state a]
type = statetypeset
trigger1 = pos y < 0
value = A


;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 2

[state a]
type = changeanim
trigger1 = time = 1
trigger1 = var(5) = 1
value = 1106

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 2
value = 1106

;---------------------[]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = var(5) = 1
trigger1 = time <= 9
value = SCA

;---------------------[効果音]
[state a];南斗獄屠拳!!
type = null;playsnd
trigger1 = animelem = 2
value = 1100,0

[state a];蹴り
type = playsnd
trigger1 = animelem = 6
value = 1100,1

;-------------[速度・１]
[state a]
type = statetypeset
trigger1 = time = 0
value = A

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = time = 0
x = 2
y = 0

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 6,<=0
x = 0.7


[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 7,>=0
trigger1 = vel x > 0
x = -0.3

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = vel x <= 0
x = 0

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 5,>=0
trigger1 = animelem = 10,<=0
y = -0.6

[state a]
type = veladd
triggerall = var(5) = 0
trigger1 = animelem = 10,>=0
y = 0.5


;-------------[速度・２]
[state a]
type = velset
triggerall = var(5) = 1
trigger1 = time = 0
x = 5
y = -3.5

[state a]
type = veladd
triggerall = var(5) = 1
trigger1 = animelem = 10,>=0
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
triggerall = var(5) = 1
trigger1 = vel x <= 2
x = 2

[state a]
type = veladd
triggerall = var(5) = 1
trigger1 = animelem = 10,>=0
y = 0.45


;-------------[速度・２]
[state a]
type = velset
triggerall = var(5) = 2
trigger1 = time = 0
x = 7.2;6
y = -6.5

[state a]
type = veladd
triggerall = var(5) = 2
trigger1 = animelem = 9,>=0
trigger1 = vel x > 0
x = -0.2

[state a]
type = velset
triggerall = var(5) = 2
trigger1 = vel x <= 2
x = 2

[state a]
type = veladd
triggerall = var(5) = 2
trigger1 = 1
y = 0.28;4


;---------------------[ヘルパー]
[state a];エフェクト１
type = Helper
trigger1 = animelem = 7
id = 1110
name = "gokuto"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 1110
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト２
type = Helper
trigger1 = animelem = 7
id = 1111
name = "gokuto2"
sprpriority = 2
pos = -20,-280/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト３
type = Helper
trigger1 = animelem = 7
id = 1112
name = "gokuto3"
sprpriority = 2
pos = 0,-220/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------
[state a]
type = destroyself
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0

; 通常登場
[Statedef 191]
type = S
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 2

[state a];
type     = Helper
trigger1   = NumHelper(195)=0
trigger1   = time >= 50
persistent = 0
helpertype = normal
name     = "RANNYU"
ID       = 195
stateno  = 196
pos      = 320,-10
postype  = p1
facing   = -1
keyctrl  = 0
ownpal   = 1
sprpriority = -1
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;==================================================
[State a];よかろう・・・殺して・竄・
type = PlaySnd
trigger1   = NumHelper(195)=0
trigger1   = time > 50
persistent = 0
value = 190,0

[state a]
type = changeanim
trigger1   = NumHelper(195)=0
trigger1   = time > 50
persistent = 0
value = Ifelse((Random = [0,400]),193,192)

[State a] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State a] 
type = ChangeState
trigger1 = (anim = 192)+(anim = 193)
trigger1 = AnimTime = 0
value = 0

[Statedef 182]
type = A
ctrl = 0
anim = 192
velset = 0,0
physics = N
sprpriority = 2

[State anim]
type = changeanim
trigger1 = time = 0
value = anim
elem = 3


[State anim]
type = changeanim
trigger1 = animelemtime(10)>=0
value = anim
elem = 10

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 00];
type = PlaySnd
trigger1 = time = 0
value = 181,3+(random%4)
channel = 2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,300]
flag = roundnotover


[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0
physics = N
sprpriority = 2

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 00];
type = PlaySnd
trigger1 = time = 0
value = 183
channel = 2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,300]
flag = roundnotover


;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 199]
type = S
ctrl = 0
anim = 199
velset = 0,0
movetype = I
physics = S
sprpriority = 1


[State 191, 3];何ぃ、聞こえんなぁ！！
type = PlaySnd
trigger1 = animelem = 1
value = 199,0

[State 195, 1]
type = CtrlSet
trigger1 = animelem = 60
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; 遠距離立ち・弱・パンチ・の動作
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 200
poweradd = 0

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
Trigger1 = NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = null;velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = posadd
trigger1 = animelem = 2
x = 6

[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = ifelse(36*fvar(0)>=5,Ceil(36*fvar(0)),5), 0
getpower = 62,62
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s7000+(random%4)
sparkxy = -15, -186/2
hitsound = s400, 0+(random%2)
guard.sparkno = s7100
guardsound = s120, 0
ground.type = high
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -2,-4
air.hittime = 12
air.fall = 1
fall.recovertime = 10
yaccel = 0.45 + (var(3) - 1)*0.15
ID = 200
nochainID = 9999

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)


[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 14

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 5
ignorehitpause = 1
persistent = 0


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;近距離立ち・弱・パンチ・の動作
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 205
poweradd = 0

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
Trigger1 = NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = null;velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0


[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = ifelse(47*fvar(0)>=5,Ceil(47*fvar(0)),5), 0
getpower = 46,46
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s7000+(random%4)
sparkxy = -15, -232/2
hitsound = s400, 0+(random%2)
guard.sparkno = s7100
guardsound = s120, 0
ground.type = high
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -2,-5
air.hittime = 10
air.fall = 1
fall.recovertime = 10
yaccel = 0.45 + (var(3) - 1)*0.15
ID = 200
nochainID = 9999

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 14

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 3
ignorehitpause = 1
persistent = 0


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 遠距離立ち・強・パンチ・の動作
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 210
poweradd = 0

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

[state a];斬撃
type = Helper
trigger1 = numhelper(83200001)=0
trigger1 = var(31)=[0,250]
trigger1 = animelem = 6,<0
trigger1 = movehit = 1
id = 83200001
name = ""
sprpriority = 2
pos = 30, -192/2
postype = p1
stateno = 83200011
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];斬撃
type = Helper
trigger1 = numhelper(83200001)=0
trigger1 = var(31)=[251,999]
trigger1 = animelem = 6,<0
trigger1 = movehit = 1
id = 83200001
name = ""
sprpriority = 2
pos = 30, -192/2
postype = p1
stateno = 83200000+random%3
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];斬撃
type = Helper
trigger1 = numhelper(83200002)=0
trigger1 = var(31)=[0,250]
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
id = 83200002
name = ""
sprpriority = 2
pos = 40, -212/2
postype = p1
stateno = 83200011
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];斬撃
type = Helper
trigger1 = numhelper(83200002)=0
trigger1 = var(31)=[251,999]
trigger1 = animelem = 6,>=0
trigger1 = movehit = 1
id = 83200002
name = ""
sprpriority = 2
pos = 40, -212/2
postype = p1
stateno = 83200000+random%3
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999
〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = posadd
trigger1 = animelem = 5
x = 30

[state a]
type = posadd
trigger1 = animelem = 6
x = 30

[state a]
type = posadd
trigger1 = animelem = 7
x = -30

[state a]
type = posadd
trigger1 = animelem = 8
x = -12

[state a]
type = posadd
trigger1 = animelem = 9
x = -10

[State 210, Width];
type = Width
trigger1 = animelemtime(5) = 2
value = 80,0

[State 200, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = ifelse(42*fvar(0)>=5,Ceil(42*fvar(0)),5), 0
getpower = 92,92
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 6, 6
sparkno = -1;s(random%8)
sparkxy = -15, -192/2
hitsound = s500, 2
guard.sparkno = s7100
guardsound = s120, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5
airguard.velocity = -4.0,-2
air.type = low
air.velocity = -2,-3
air.hittime = 12
air.fall = 1
fall.recovertime = 26
yaccel = 0.45 + (var(3) - 1)*0.17
ID = 200
nochainID = 9999

[State 200, 1]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
damage = ifelse(42*fvar(0)>=5,Ceil(42*fvar(0)),5), 0
getpower = 108,108
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 15, 15
sparkno = -1;s7000+(random%8)
sparkxy = -15, -212/2
hitsound = s500, 2
guard.sparkno = s7100
guardsound = s120, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -11
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -4,-4
air.hittime = 12
air.fall = 1
fall.recovertime = 26
yaccel = 0.45 + (var(3) - 1)*0.17
ID = 200
nochainID = 9999


[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0+(random%2)

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
trigger1 = animelem = 5,<=2
v = 16
value = 8
ignorehitpause = 1
persistent = 0

[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
trigger1 = animelem = 6,>=0
v = 16
value = 11
ignorehitpause = 1
persistent = 0


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 近距離立ち・強・パンチ・の動作
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 0
;velset = 0,0
ctrl = 0
anim = 215
poweradd = 0

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

[state a];斬撃
type = Helper
trigger1 = numhelper(83200003)=0
trigger1 = var(31)=[0,250]
trigger1 = movehit = 1
id = 83200003
name = ""
sprpriority = 2
pos = 52, -122/2
postype = p1
stateno = 83200010+random%2
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];斬撃
type = Helper
trigger1 = numhelper(83200003)=0
trigger1 = var(31)=[251,999]
trigger1 = movehit = 1
id = 83200003
name = ""
sprpriority = 2
pos = 52, -122/2
postype = p1
stateno = 83200000+random%2
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999
〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = ifelse(99*fvar(0)>=5,Ceil(99*fvar(0)),5), 0
getpower = 123,123
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 15, 15
sparkno = -1;s7000+(random%8)
sparkxy = -15, -112/2
hitsound = s500, 2
guard.sparkno = s7100
guardsound = s120, 0
ground.type = low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5.5
air.type = high
air.velocity = -8.5
air.hittime = 30
air.fall = 1
fall.recovertime = 26
yaccel = 0.45 + (var(3)-1)*0.17
ID = 200
nochainID = 9999

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%2)

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
x = 16

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;遠距離立ち・弱・キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 230
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

[State 230, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = light
damage    = ifelse(36*fvar(0)>=5,Ceil(36*fvar(0)),5),0
priority = 4, Hit
getpower = 92,92
guardflag = MA
pausetime = 12,12
sparkno = s7000+(random%4)
sparkxy = -15,-130/2
hitsound   = s400,0+(random%2)
guard.sparkno = s7100
guardsound = s120,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.velocity = -1.5,-3.5
fall.recovertime = 24
yaccel = 0.45 + (var(3)-1)*0.15
air.fall = 1
ID = 200
nochainID = 9999


[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 14

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 8
ignorehitpause = 1
persistent = 0


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち・弱・キック
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 235
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓・ｬ〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

[State 230, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = light
damage    = ifelse(47*fvar(0)>=5,Ceil(47*fvar(0)),5),0
priority = 4, Hit
getpower = 62,62
guardflag = L
pausetime = 10,10
sparkno = s7000+(random%4)
sparkxy = -15,-142/2
hitsound   = s400,0+(random%2)
guard.sparkno = s7100
guardsound = s120,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -6
air.velocity = -1.5,-3.5
yaccel = 0.45 + (var(3)-1)*0.15
air.fall = 1
fall.recovertime = 12
ID = 200
nochainID = 9999

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 14

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 5
ignorehitpause = 1
persistent = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち・強・キック
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 240
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 5
value = 300, 2

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%3)

[state a]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 34/2

[State 230, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = ifelse(89*fvar(0)>=5,Ceil(89*fvar(0)),5),0
priority = 5, Hit
getpower = 123,123
guardflag = L
pausetime = 15,17
sparkno = s7020
sparkxy = -32,-74/2
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -11
air.velocity = -1.5,-7
fall.recovertime = 30
yaccel = 0.6 + (var(3)-1)*0.17
air.fall = 1
fall.recover = 0

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち・強・キック
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 245
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%3)

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 2

[State 240, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = hard
damage    = ifelse(47*fvar(0)>=5,Ceil(47*fvar(0)),5),0
priority = 6, Hit
getpower = 92,92
guardflag = MA
pausetime = 12,14
sparkno = s7000+(random%4)
sparkxy = -28,-172/2
hitsound   = s400,2
guard.sparkno = s7100
guardsound = s120,0
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
guard.velocity = -3
ground.velocity = -2
air.velocity = -1,-3.2
yaccel = 0.6 + (var(3)-1)*0.17
air.fall = 1
fall.recovertime = 26
ID = 200
nochainID = 9999

[State 240, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = hard
damage    = ifelse(47*fvar(0)>=5,Ceil(47*fvar(0)),5),0
priority = 6, Hit
getpower = 108,108
guardflag = MA
pausetime = 15,17
sparkno = s7020
sparkxy = -51,-264/2
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
guard.velocity = -12
ground.velocity = -11
air.velocity = -2,-5.2
yaccel = 0.6 + (var(3)-1)*0.17
air.fall = 1
fall.recovertime = 26
ID = 200
nochainID = 9999


[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
trigger1 = animelem = 4,<=2
v = 16
value = 8
ignorehitpause = 1
persistent = 0


[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
trigger1 = animelem = 5,>=0
v = 16
value = 11
ignorehitpause = 1
persistent = 0


[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;特殊技その１
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 250
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

[state a];斬撃
type = Helper
trigger1 = numhelper(83200004)=0
trigger1 = var(31)=[0,499]
trigger1 = movehit = 1
id = 83200004
name = ""
sprpriority = 2
pos = 30,-142/2
postype = p1
stateno = 83200009+random%2
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];斬撃
type = Helper
trigger1 = numhelper(83200004)=0
trigger1 = var(31)=[500,999]
trigger1 = movehit = 1
id = 83200004
name = ""
sprpriority = 2
pos = 30,-142/2
postype = p1
stateno = 83200000+random%2
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0


[state a]
type = posadd
trigger1 = animelem = 3
x = 46/2

[state a]
type = velset
trigger1 = animelem = 5
x = 8



[State 200, 1];
type = PlaySnd
trigger1 = animelem = 5
value = 300, 1

[State 200, 5];甘いわ！
type = PlaySnd
trigger1 = AnimElem = 2
value = 250,0


[State 230, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Medium
damage    = ifelse(104*fvar(0)>=5,Ceil(104*fvar(0)),5),0
priority = 4, Hit
getpower = 108,108
guardflag = HA
pausetime = 15,17
sparkno = -1;s7000+(random%8)
sparkxy = -15,-156/2
hitsound   = s500,2
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.5,-4
guard.velocity = -11
air.velocity = -1.5,-4
yaccel = 0.6 + (var(3)-1)*0.17
fall = 1
fall.recovertime = 26

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 6,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 6,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 6,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 11
ignorehitpause = 1
persistent = 0


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;特殊技その２
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 260
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0


[state a]
type = posadd
trigger1 = animelem = 3
x = 46/2

[state a]
type = velset
trigger1 = animelem = 6
x = 4



[State 200, 1];
type = PlaySnd
trigger1 = animelem = 5
value = 300, 1

[State 200, 5];せやぁ！
type = PlaySnd
trigger1 = AnimElem = 2
value = 260,0


[State 230, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Medium
damage    = ifelse(104*fvar(0)>=5,Ceil(104*fvar(0)),5),0
priority = 4, Hit
getpower = 123,123
guardflag = L
pausetime = 15,17
sparkno = s7020
sparkxy = -32,-96/2
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.5,-4
guard.velocity = -11
air.velocity = -1.5,-4
yaccel = 0.6 + (var(3)-1)*0.17
fall = 1
fall.recovertime = 26

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 7,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ガードキャンセル攻撃
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 290
sprpriority = 1

[State 2000, 2]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
darken = 0
anim = -1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

[State a];
type = palfx
trigger1 = time = 0
time = 5
add = 255,255,2556
color = 1

;-------------[]
[State 210, 1];執念が足りんぞ
type = PlaySnd
trigger1 = animelem = 1
value = 290, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 2

;-------------[速度]
[state a]
type = velset
trigger1 = animelem = 2
x = 7

;-------------[]
[State 410, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage    = ifelse(52*fvar(0)>=5,Ceil(52*fvar(0)),5),0
priority = 7, Hit
animtype  = hard
guardflag = MA
pausetime = 17,17
guard.pausetime = 15,15
getpower = 123,123
sparkno = s7020
sparkxy = -10,-100
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10
guard.velocity = -12.5
air.velocity =-10,0
yaccel = 0.45 + var(3)*0.45;(enemy,gethitvar(hitcount)-1)*0.05
fall = 1
fall.recover = 1
kill = 0


;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0
;-------------[]
[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;屈み・弱・パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

[State 400, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5),0
priority = 4, Hit
animtype  = Light
hitflag = MAF
guardflag = M
getpower = 62,62
pausetime = 10,10
sparkno = s7000+(random%4)
sparkxy = -10,-120/2
hitsound   = s400,0+(random%2)
guard.sparkno = s7100
guardsound = s120,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -2.5,-3
air.fall = 1
fall.recovertime = 12
ID = 200
nochainID = 9999
yaccel = 0.45 + var(3)*0.15

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 5
ignorehitpause = 1
persistent = 0


[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;屈み・強・パンチ
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 0
ctrl = 0
anim = 410
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

[state a];斬撃
type = Helper
trigger1 = movehit=1
id = 83200000
name = ""
sprpriority = 2
pos = 26,-168/2
postype = p1
stateno = 83200000+random%6
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = posadd
trigger1 = animelem = 5
x = 12

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 2

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%2)

[State 400, 2]
type = HitDef
trigger1 = animelem = 5
attr = C, NA
damage    = ifelse(83*fvar(0)>=5,Ceil(83*fvar(0)),5),0
priority = 5, Hit
animtype  = hard
hitflag = MAF
guardflag = M
getpower = 108,108
pausetime = 15,15
sparkno = -1;s7000+(random%8)
sparkxy = -10,-198/2
hitsound   = s500,2
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 18
ground.velocity = -6
air.velocity = -2.5,-6
air.fall = 1
fall.recovertime = 46
ID = 200
nochainID = 9999
yaccel = 0.45 + var(3)*0.15

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 11
ignorehitpause = 1
persistent = 0


[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み・弱・キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 0
ctrl = 0
anim = 430
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

[State 430, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 430, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5),0
priority = 4, Hit
animtype  = Light
hitflag = MAFLD
guardflag = L
getpower = 92,92
pausetime = 10,13
sparkno = s7000+(random%4)
sparkxy = -10,-20
hitsound   = s400,0
guard.sparkno = s7100
guardsound = s120,0
ground.type = Low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
air.fall = 1
fall.recovertime = 24
ID = 200
nochainID = 9999
yaccel = 0.45 + var(3)*0.15

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 8
ignorehitpause = 1
persistent = 0


[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み・強・キック
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 0
ctrl = 0
anim = 440
velset = 0,0
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 440, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 3

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%3)


[State 440, 3]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = ifelse(68*fvar(0)>=5,Ceil(68*fvar(0)),5)
priority = 6, Hit
hitflag = MAFLD
guardflag = L
pausetime = 15,15
sparkno = s7020
getpower = 123,123
sparkxy = -11,-11
hitsound   = s400,3
guardsound = s120,0
guard.sparkno = s7100
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2.5,-9.5
guard..velocity = -11
air.velocity = -4,-4
guard.velocity = -5
fall = 1
fall.recovertime = 30
ID = 400
nochainID = 9999

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;空中・弱・パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

;---------------------[エフェクト]
[State 600, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage    = ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5),0
animtype  = Light
priority = 4, Hit
getpower = 62,62
guardflag = HA
pausetime = 9,9
sparkno = s7000+(random%4)
sparkxy = -20,-164/2
hitsound   = s400,0+(random%2)
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -6
air.velocity = ifelse(var(9) = 0,-2.3,0),-4
yaccel = 0.45 + (var(3) - 1)*0.1
air.fall = 1
fall.recovertime = 21
fall.yvelocity = -6.5
ID = 600
nochainID = 9999

[state a]
type = ctrlset
trigger1 = animelem = 7
value = 1

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 5
ignorehitpause = 1
persistent = 0


;---------------------------------------------------------------------------
;空中・強・パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

[state a];斬撃
type = Helper
trigger1 = movehit = 1
id = 83200000
name = ""
sprpriority = 2
pos = 16,-186/2
postype = p1
stateno = 83200001+random%4
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 2

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%2)

[State 610, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = ifelse(73*fvar(0)>=5,Ceil(73*fvar(0)),5),0
priority = 6, Hit
guardflag = HA
getpower = 123,123
pausetime = 10,10
sparkno = -1;s7000+(random%8)
sparkxy = -10,-190/2
hitsound   = s500,2
guard.sparkno = s7100
guardsound = s120,0
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime  = 21
ground.velocity = -11
air.velocity = ifelse(var(9) = 0,-2.3,0),-6
yaccel = 0.45 + (var(3) - 1)*0.1
air.fall = 1
fall.recovertime = 48
fall.yvelocity = -6.5
ID = 600
nochainID = 9999

[state a]
type = ctrlset
trigger1 = animelem = 8
value = 1

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;空中・弱・キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 630
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0+(random%2)

[State 630, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 630, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5),0
priority = 4, Hit
getpower = 92,92
guardflag = HA
pausetime = 8,12
sparkno = s7000+(random%4)
sparkxy = -5,-156/2
hitsound   = s400,1
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -6
air.velocity = ifelse(var(9) = 0,-3.3,0),-5
yaccel = 0.45 + (var(3) - 1)*0.1
air.fall = 1
fall.recovertime = 24
fall.yvelocity = -6.5
ID = 600
nochainID = 9999

[state a]
type = ctrlset
trigger1 = animelem = 6
value = 1

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 3,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 8
ignorehitpause = 1
persistent = 0

[state a]
type = PlayerPush
trigger1 = enemynear,statetype!=A
value = 0

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 640
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[State 640, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 2

[State 200, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0+(random%3)

[State 640, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage    = ifelse(73*fvar(0)>=5,Ceil(73*fvar(0)),5),0
priority = 6, Hit
hitflag = MAFD
guardflag = HA
getpower = 123,123
pausetime = 15,15
sparkno = s7020
sparkxy = -30,-102/2
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -8
air.velocity = ifelse(var(9) = 0,-3.3,0),-5
yaccel = 0.45 + (var(3) - 1)*0.1
air.fall = 1
fall.recovertime = 30
fall.yvelocity = -6.5
ID = 600
nochainID = 9999

[state a]
type = ctrlset
trigger1 = animelem = 9
value = 1

[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;そりゃそりゃそりゃあぁ！！
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = 1 ;前を押したらターンする設定
p2facing = 1          ;？
p1stateno = 801
p2stateno = 805       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 1              ;落ちる力を２Ｐにかけるか
nochainID = 600,9999

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 215

;---------------------------------------------------------------------------
;
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
juggle  = 8
sprpriority = 2

;---------------------[]
[State explod];掴み
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
anim = 7000+(random%4)
id = 3000
sprpriority = 5
postype = p1
pos = 104/2,-2/2
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
time = 6
ampl = -4
freq = 95
phase = 95

;---------------------[サウンド]
[State 810, Grab Sound];そ・閧痰ｻりゃそりゃあぁ！！
type = PlaySnd
trigger1 = animelemtime(6) = 10
value = 800, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
value = 400, 3

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 180/2,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 136/2,-142/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 5
pos = 128/2,-92/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 6
pos = 74/2,0

[State 801, 2]
type = Targetstate
trigger1 = animelem = 1
value = 805

[State 801, 2]
type = Targetstate
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
value = 806

[State 801, 2]
type = Targetstate
trigger1 = animelemtime(13) = 10
value = 807

[state a]
type = hitadd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
value = 1

[state a]
type = poweradd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
value = 73

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
value = -21
kill = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 12
value = -21

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
triggerall = var(23) = 0
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animelem = 11
v = 16
value = 11
ignorehitpause = 1

;:::

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 40,0

[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 805]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 805

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


;---------------------------------------------------------------------------
;(ENEMY)突かれ
[Statedef 806]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 806

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


;---------------------------------------------------------------------------
;(ENEMY)突かれ
[Statedef 807]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = selfstate
Trigger1 = Time = 0
value = 5110

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


;---------------------------------------------------------------------------
;どうした？こんなものか？
[Statedef 850]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = ifelse(helper(45000),var(5)=1,852,850)
sprpriority = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[七星ゲージ]
[state a]
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
v = 4
value = 1



[State 800, 1]
type = HitDef
TriggerAll=NumHelper(45000)
Trigger1 = animelem = 4
Trigger1 = enemy,stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
trigger1 = helper(45000),var(5)!=1
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = MA          ;コンボの途中から投げが入らないよう設定してある
damage    = 0
pausetime = 16,16
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1;s7000
sparkxy = 20,160/2
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = 1 ;前を押したらターンする設定
p2facing = 1          ;？
;p1stateno = 853
;p2stateno = 855       ;投げが成功した場合の移動する２Ｐのステート
hitsound = -1;S400,3
fall = 1              ;落ちる力を２Ｐにかけるか
kill = 0

[State 800, 1]
type = HitDef
TriggerAll=NumHelper(45000)
Trigger1 = animelem = 4
trigger1 = helper(45000),var(5)=1
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = MAF          ;コンボの途中から投げが入らないよう設定してある
damage    = 0
pausetime = 16,16
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1;s7000
sparkxy = 20,160/2
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = 1 ;前を押したらターンする設定
p2facing = 1          ;？
;p1stateno = 853
;p2stateno = 855       ;投げが成功した場合の移動する２Ｐのステート
hitsound = -1;S400,3
fall = 1              ;落ちる力を２Ｐにかけるか
kill = 0


[state a]
type = changestate
trigger1 = movehit
value = 851

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;
[Statedef 851]
type    = S
movetype= A
physics = N
anim = 851
juggle  = 8
sprpriority = 2

[State 800, 2]
Type = ChangeState
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
Trigger1 = AnimElem = 7,>=20
value = 1505

;==================================================
;---------------------[]
[State explod];
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
anim = 7000+(random%4)
id = 3000
sprpriority = 5
postype = p1
pos = 122/2,-38/2
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];
type = Explod
trigger1 = animelem = 9
anim = 7000+(random%4)
id = 3000
sprpriority = 5
postype = p1
pos = 100/2,-26/2
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];どうした？
type = PlaySnd
trigger1 = animelem = 4
value = 850, 0

[State 810, Grab Sound];こんなものか？
type = PlaySnd
trigger1 = animelem = 9
value = 850, 1

[State 810, Grab Sound];こんなものか？
type = PlaySnd
trigger1 = animelem = 9
value = 400, 3

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 120/2,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 120/2,0

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 150/2,0

[State 801, 2]
type = Targetstate
trigger1 = animelem = 1
value = 855

[State 801, 2]
type = Targetstate
trigger1 = animelem = 4
value = 856

[State 801, 2]
type = Targetstate
trigger1 = animelem = 9
value = 857

[state a]
type = hitadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 9
value = 1

[state a]
type = poweradd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 9
value = 73

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
value = ifelse(helper(45000),var(5)=1,-28,-21)
kill = 0
absolute = ifelse(helper(45000),var(5)=1,1,0)

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 9
value = ifelse(helper(45000),var(5)=1,-36,-21)
absolute = ifelse(helper(45000),var(5)=1,1,0)

;---------------------[ブーストゲ・[ジ増加]
[state a]
type = varadd
triggerall = var(23) = 0
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
v = 16
value = 11
ignorehitpause = 1

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = animelem = 9
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

;:::

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 80,0

[state a]
type = posadd
trigger1 = animtime = 0
x = 20

[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 855]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 855

[state a]
type = turn
trigger1 = animelem = 3

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 856]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 856

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


;---------------------------------------------------------------------------
;(ENEMY)投げられ２
[Statedef 857]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = sprpriority
trigger1 = animelem = 5
value = 5

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = animelem = 1
x = 9
y = 6

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;特殊技
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;グレイブシュート
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 300
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;-------------[効果音]
[State 210, 1];死ねぇ
type = PlaySnd
trigger1 = animelem = 2
value = 301, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = 300, 2

;---------------------[ヘルパー]
[state a];爪
type = Helper
trigger1 = animelem = 4
id = 3000
name = "tume"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 301
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[state a];斬撃
type = Helper
trigger1 = movehit=1
id = 83200000
name = ""
sprpriority = 2
pos = 30,-80
postype = p1
stateno = 83200006+random%3
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;-------------[攻撃]
[State 410, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = ifelse(104*fvar(0)>=5,Ceil(104*fvar(0)),5)
priority = 6, Hit
animtype  = diagup
hitflag = MAFLD
guardflag = MA
pausetime = 17,17
guard.pausetime = 15,15
getpower = 123,123
sparkno = s9999;s7000+(random%8)
sparkxy = -10,-80
hitsound   = s500,2
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,-14
guard.velocity = -12.5
air.velocity =0,-14
down.velocity = -8,-4
yaccel = 0.45 + var(3)*0.05;(enemy,gethitvar(hitcount)-1)*0.05
fall = 1
fall.recovertime = 50
ID = 410
nochainID = 9999

;-------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0


[state a]
type = changestate
triggerall=!var(30)
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ignorehitpause = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;(HELPER)爪
[Statedef 301]
type = A
ctrl = 0
velset = 0,0
anim = 301
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = 1
pos = 30,-5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 2.5,2.5;2.5,3.0
;---------------------[]
[state a]
type = destroyself
trigger1 = root,stateno != 300
trigger1 = root,stateno != 1200
trigger2 = animtime = 0

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、壁ヒット
[Statedef 552]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 552

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 562

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

[state a]
type = posadd
trigger1 = time = 0
trigger1 = prevstateno = 550
y = -10

[state a]
type = posadd
trigger1 = time = 0
trigger1 = prevstateno = 551
y = 5

[state a]
type = changestate
trigger1 = animtime = 0
trigger2 = time>=21
value = 553

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、落下
[Statedef 553]
type    = A
movetype= H
physics = N
velset = .3,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050


[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 563

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = veladd
trigger1 = time >= 3
y = 0.45

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;へヴィーストライク
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 310
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;-------------[]
[State 210, 1];へヴィーストライク
type = PlaySnd
trigger1 = animelem = 1
value = 350, 0

[State 210, 1];おおおおおぉ
type = PlaySnd
trigger1 = animelem = 1
value = 310, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 7
value = 300, 3

;-------------[速度]
[state a]
type = velset
trigger1 = animelem = 8
x = 18


;-------------[]
[State 410, 2]
type = HitDef
trigger1 = animelem = 8
attr = S, NA
damage    = ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5),0
priority = 7, Hit
animtype  = hard
guardflag = N
pausetime = 17,17
guard.pausetime = 15,15
getpower = 73,73
sparkno = s7020
sparkxy = -10,-90
hitsound   = s500,2
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10
guard.velocity = -12.5
air.velocity =-3,-9
yaccel = 0.45 + var(3)*0.45;(enemy,gethitvar(hitcount)-1)*0.05
air.fall = 1
fall.recover = 1
p2stateno = 350
ID = 410
nochainID = 9999

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 3000
name = "ef"
sprpriority = 2
pos = -62/2,-246/2
postype = p1
stateno = 311
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;-------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 8,<=0
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 8,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 8,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[七星ゲージ]
[state a]
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 11
ignorehitpause = 1
persistent = 0

;-------------[]
[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)発動エフェクト
[Statedef 311]
type = S
ctrl = 0
anim = 6000
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

;---------------------[エフェクト]
[state a]
type = PalFX
trigger1 = time = 0
time = 75
add = 5,25,5
mul = 206,200,155
color = 0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
;---------------------[]
[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = time >= 18
v = 2
value = 5

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
value = 90

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.5-(var(2)*0.01),1.5-(var(2)*0.01)

;---------------------[]



;---------------------[]
[state a]
type = destroyself
trigger1 = time = 46

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;秘孔やられ・よろけ
[Statedef 350]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = posset
trigger1 = pos y>=0
y=0

[state a]
type = changestate
trigger1 = time = 0
trigger1 = (anim = [350,369]) || (anim = 5300)
trigger2 = pos y < 0
trigger3 = lose = 1
value = 352

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 350

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 360

[state a]
type = changestate
trigger1 = animtime = 0
value = 351

;---------------------------------------------------------------------------
;秘孔やられ・気絶
[Statedef 351]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5300

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 361

[state a]
type = selfstate
trigger1 = time = 180
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;秘孔やられ・吹き飛び
[Statedef 352]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 352

[state a]
type = changestate
trigger1 = time = 15
value = 353


;---------------------------------------------------------------------------
;秘孔やられ・吹き飛び
[Statedef 353]
type    = S
movetype= H
physics = N
velset = -4,-7
sprpriority = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;バニシングストライク・チャージ
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
anim = 320
sprpriority = 1


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;-------------[変数初期化、変更]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time >= 34
v = 5
value = 1

;-------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = var(16) >= 20
x = 15

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = var(16) >= 20
v = 16
value = -20

[State 410, 4]
type = ChangeState
trigger1 = time >= 12
trigger1 = command != "おしっぱなしy" && command != "おしっぱなしb"
trigger2 = time >= 38
value = 321


;---------------------------------------------------------------------------
;バニシングストライク・攻撃
[Statedef 321]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 321
sprpriority = 1

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

・ｬ〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;-------------[]
[State 210, 1];へヴィーストライク
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(5) = 1
value = 350, 0

[State 210, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 320, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 300, 2

;-------------[速度]
[state a]
type = velset
trigger1 = animelem = 1
x = 7+var(5)*8

;-------------[]
[State 410, 2]
type = HitDef
trigger1 = animelem = 2
trigger1 = var(5) = 0
attr = S, NA
damage    = ifelse(104*fvar(0)>=5,Ceil(104*fvar(0)),5),0
priority = 7, Hit
animtype  = hard
guardflag = MA
pausetime = 17,17
guard.pausetime = 15,15
getpower = 108,108
sparkno = s7020
sparkxy = -50,-100
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10
guard.velocity = -12.5
air.velocity =-10,0
yaccel = 0.45 + var(3)*0.45;(enemy,gethitvar(hitcount)-1)*0.05
fall = 1
fall.recover = 1

[State 410, 2]
type = HitDef
trigger1 = animelem = 2
trigger1 = var(5) = 1
attr = S, NA
damage    = ifelse(104*fvar(0)>=5,Ceil(104*fvar(0)),5),0
priority = 7, Hit
animtype  = hard
guardflag = N
pausetime = 17,17
guard.pausetime = 15,15
getpower = 108,108
sparkno = s7020
sparkxy = -50,-100
hitsound   = s400,3
guard.sparkno = s7100
guardsound = s120,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10
guard.velocity = -12.5
air.velocity =-10,0
yaccel = 0.45 + var(3)*0.45;(enemy,gethitvar(hitcount)-1)*0.05
fall = 1
fall.recover = 1

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
trigger1 = var(5) = 1
id = 3000
name = "ef"
sprpriority = 2
pos = -52/2,-202/2
postype = p1
stateno = 311
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[相手制御]
[state a]
type = targetstate
trigger1 = movehit = 1
trigger1 = enemy,stateno != 550
value = 550

[state a]
type = varset
trigger1 = movehit
v = 11
value = 1

;---------------------[七星ゲージ]
[state a]
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(11) = 0
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

;-------------[]
[State 410, 4]
type = varset
trigger1 = movehit
trigger1 = command = "holdfwd"
trigger1 = var(23) = 0
trigger1 = var(16) <= 100
v = 16
value = 100

[State 410, 4]
type = ChangeState
trigger1 = movehit
trigger1 = command = "holdfwd"
value = 500

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; ブースト
[Statedef 500]
type    = S
physics = N
anim = 500
sprpriority = 1
ctrl = 0

[state a]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[State 1000, 0]
type = MoveHitReset
trigger1 = 1
ignorehitpause =1


[state a]
type = veladd
trigger1 = time = 0
x = 8
;IgnoreHitPause = 1

[state a]
type = veladd
trigger1 = vel x < 10
x = 0.6


[State a];
type = palfx
trigger1 = time = 0
time = 5
add = 255,255,2556
color = 1

;-------------[]
[State 210, 1];
type = PlaySnd
trigger1 = time = 0
value = 110, 0

;-------------[状態関係]
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[state a]
type = veladd;gravity
trigger1 = Statetype = A
y = 0.45

[state a]
type = statetypeset
trigger1 = pos y >= 0
value = S

[state a]
type = posset
trigger1 = Statetype = S
y = 0

[state a]
type = ctrlset
trigger1 = time = 40
value = 1

[state a]
type = velset
trigger1 = Pos Y >= 0
y = 0

[State 04]
type = posset
trigger1 = Pos Y > 0
y = 0
;-------------[]
[state a]
type = varadd
trigger1 = time = 0
v = 16
value = -20

[state a]
type = varset
trigger1 = time = 0
v = 23
value = 1

;-------------[]
[State 02] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 03] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 04]
type = ChangeState
trigger1 = time = 90
trigger1 = statetype = S
value = 0
ctrl = 1

[State 04]
type = ChangeState
trigger1 = time = 90
trigger1 = statetype = A
value = 111
ctrl = 1



;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、吹き飛び
[Statedef 550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = time = 0
x = -12

[state a]
type = posadd
trigger1 = time = 0
trigger1 = enemy,stateno = 321
y = -20

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 550

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 552

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、弱吹き飛び
[Statedef 551]
type    = A
movetype= H
physics = N
velset = -12,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 550

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
value = 552

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、壁ヒット
[Statedef 552]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 552

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 562

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

[state a]
type = posadd
trigger1 = time = 0
trigger1 = prevstateno = 550
y = -10

[state a]
type = posadd
trigger1 = time = 0
trigger1 = prevstateno = 551
y = 5


[state a]
type = changestate
trigger1 = animtime = 0
value = 553

;---------------------------------------------------------------------------
;(ENEMY)へヴィストライク、落下
[Statedef 553]
type    = A
movetype= H
physics = N
velset = 0.3,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 553

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
value = 563

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = veladd
trigger1 = time >= 3
y = 0.45

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;必殺技
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗旋脚葬
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1000
sprpriority = 1
ctrl = 0

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0


;---------------------[]
[state a]
type = velset
trigger1 = animelemtime(4) = 2
trigger2 = animelem = 5
x = 14


;---------------------[効果音]
[state a];しずめ・・・
type = playsnd
trigger1 = time = 0
value = 1000,0

[state a];スライド
type = playsnd
trigger1 = animelem = 4
value = 1000,1

;---------------------[コマンド判定]
[State 440, 3]
type = HitDef
trigger1 = animelem = 5
attr = C, SA
damage    = ifelse(104*fvar(0)>=5,Ceil(104*fvar(0)),5),6
priority = 7, Hit
hitflag = MAFLD
guardflag = L
pausetime = 15,15
sparkno = s7010+(random%4)
getpower = 123,123
sparkxy = -15,-21
hitsound   = s400,3
guardsound = s121,0
guard.sparkno = s7101
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3.5,-7
guard..velocity = -11
air.velocity = -4,-4
guard.velocity = -5
fall = 1
fall.recovertime = 30
ID = 400
nochainID = 9999

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 5
id = 1005
name = "kosure"
sprpriority = 5
pos = 70,0
postype = p1
stateno = 1005
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,>=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,>=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[七星ゲージ]
[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)スライディングエフェクト
[Statedef 1005]
type = A
ctrl = 0
anim = 1005
velset = 2,0
movetype = I
physics = N
sprpriority = 5


[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = sprpriority
trigger1 = ishelper(1006)
value = -1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 1

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 0+var(1)*0.16,2.0-var(1)*0.1


;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 20


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗獄屠拳
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================

[StateDef 1100]

;============================================================
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;Type        = 
MoveType    = A 
Physics     =  N
Anim        = 1100
Juggle      = 0
VelSet      = 0,0
Ctrl        = 0
PowerAdd    = 0
Sprpriority = 1

;============================================================
;キャンセル分岐
;============================================================
[State a]
Type     = ChangeAnim
Trigger1 = (AnimTime = 0)*(Anim=1100)
Value    = Ifelse(Helper(45000),Var(30)=1,Ifelse(StateType=A,1102,1101),1103)

;============================================================
;特殊効果
;============================================================
[state a]
type = statetypeset
trigger1 = pos y < 0
value = A

[State 1];無敵の状態を作る
type = NotHitBy
Trigger1 = (Anim=1100)
Trigger2 = (Anim=1101)
Trigger2 = (AnimElem=4,<=0)
value = SCA

;============================================================
;位置設定
;============================================================


;============================================================
;速度設定
;============================================================
[state a]
type = velset
trigger1 = time = 0
x = 0
y = 0

;============================================================
[state a]
type = velset
trigger1 = (AnimElem=1,<=1)*(Anim=1101)
x = 2
y = 0

[state a]
type = veladd
trigger1 = (AnimElem=4,<=0)*(Anim=1101)
x = 1.28


[state a]
type = veladd
trigger1 = (AnimElem=5,>=0)*(Vel x > 0)*(Anim=1101)
x = -0.5

[state a]
type = velset
trigger1 = (Vel x <= 0)*(Anim=1101)
x = 0

[state a]
type = veladd
trigger1 = (AnimElem=2,>=0)*(AnimElem = 7,<=0)*(Anim=1101)
y = -0.52

[state a]
type = veladd
trigger1 = (AnimElem=7,>=0)*(Anim=1101)
y = 0.5

;============================================================
[state a]
type = velset
trigger1 = (AnimElem=1,<=1)*(Anim=1102)
x = 6
y = -4.5

[state a]
type = veladd
trigger1 = (AnimElem= 7,>=0)*(Vel x > 0)*(Anim=1102)
x = -0.2

[state a]
type = velset
trigger1 = (Vel x <= 2)*(Anim=1102)
x = 2

[state a]
type = veladd
trigger1 = (AnimElem= 7,>=0)*(Anim=1102)
y = 0.45

;============================================================
[state a]
type = velset
trigger1 = (AnimElem=1,<=1)*(Anim=1103)
x = 7.5
y = -6.5

[state a]
type = veladd
trigger1 = (animelem = 6,>=0)*(Vel x > 0)*(Anim=1103)
x = -0.2

[state a]
type = velset
trigger1 = (Vel x <= 2)*(Anim=1103)
x = 4

[state a]
type = veladd
trigger1 = (Anim=1103)
y = 0.5

;============================================================
;変数設定
;============================================================
[state a]
type = varset
Trigger1 = Anim = 1101
v = 5
value = 0

[state a]
type = varset
Trigger1 = Anim = 1102
v = 5
value = 1

[state a]
type = varset
Trigger1 = Anim = 1103
v = 5
value = 2

[state a]
type = varset
trigger1 = var(5) = 0
trigger1 = movehit = 1
v = 11
value = 1
;============================================================
;効果音
;============================================================
[state a];南斗獄屠拳!!
type = playsnd
trigger1 = (animelem = 2)*(Anim = 1100)
value = 1100,0

[state a];蹴り
type = playsnd
trigger1 = ((Anim = 1101)+(Anim = 1102)+(Anim = 1103))*(animelem = 3)
value = 1100,1

;キャンす
[state a];
type     = playsnd
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
value    = 900,1
persistent = 0
volume = 200
;============================================================
;HitDef
;============================================================
[state a]
Type     = HitDef
Trigger1 = (AnimElem = 4)*(var(5) = 0)

;攻撃設定
Attr      = A, SA
;HitFlag   = MAFLD
GuardFlag = MA
Damage    = ifelse(115*fvar(0)>=5,Ceil(115*fvar(0)),5),15
GetPower  = 108,108
PauseTime = 14,14
Priority  =  8, Hit

;効果音
hitsound   = s400,3
guardsound = s121,0

;スパーク設定
sparkno       = s7010+(random%4)
sparkxy       = -28, -115
guard.sparkno = s7101

;
animtype    = up
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -10, 2
air.velocity     = ifelse(var(9) = 0,-2,0),-10
guard.velocity   = -11
fall             = 1
air.fall         = 1
fall.recovertime = 0
yaccel = 0.65 + (var(3) - 1)*0.1

;p1stateno        =
;p2stateno        = 

ID              = 600
nochainID       = 9999

;============================================================
[state a]
Type     = HitDef
Trigger1 = ((AnimElem = 4)+(AnimElem = 5)+(AnimElem = 6))*(var(5) = 1)

;攻撃設定
Attr      = A, SA
HitFlag   = MAFLD
GuardFlag = HA
Damage    = ifelse(37*fvar(0)>=5,Ceil(37*fvar(0)),5),6
GetPower  = 62,62
PauseTime = 12,12
Priority  =  6, Hit

;効果音
hitsound   = s400,3
guardsound = s121,0

;スパーク設定
sparkno       = s7010+(random%4)
sparkxy       = -28, -115
guard.sparkno = s7101

;
animtype    = up
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -4, -2
air.velocity     = ifelse(var(9) = 0,-4,0),-10
guard.velocity   = -3
fall             = 1
air.fall         = 1
fall.recovertime = 0
yaccel = 0.65 + (var(3) - 1)*0.1

;p1stateno        =
;p2stateno        = 

ID              = 600
nochainID       = 9999

[state a]
Type     = HitDef
Trigger1 = (AnimElem = 7)*(var(5) = 1)

;攻撃設定
Attr      = A, SA
HitFlag   = MAFLD
GuardFlag = HA
Damage    = ifelse(37*fvar(0)>=5,Ceil(37*fvar(0)),5),6
GetPower  = 108,108
PauseTime = 12,12
Priority  =  6, Hit

;効果音
hitsound   = s400,3
guardsound = s121,0

;スパーク設定
sparkno       = s7010+(random%4)
sparkxy       = -28, -115
guard.sparkno = s7101

;
animtype    = up
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -5, -3
air.velocity     = ifelse(var(9) = 0,-4,0),-10
guard.velocity   = -11
fall             = 1
air.fall         = 1
fall.recovertime = 0
yaccel = 0.65 + (var(3) - 1)*0.1

;p1stateno        =
;p2stateno        = 

ID              = 600
nochainID       = 9999

;============================================================
[state a]
Type     = HitDef
Trigger1 = (AnimElem = 4)*(var(5) = 2)

;攻撃設定
Attr      = A, SA
HitFlag   = MAFLD
GuardFlag = HA
Damage    = ifelse(115*fvar(0)>=5,Ceil(115*fvar(0)),5),15
GetPower  = 108,108
PauseTime = 17,17
guard.pausetime = 15,15
Priority  =  6, Hit

;効果音
hitsound   = s400,3
guardsound = s121,0

;スパーク設定
sparkno       = s7010+(random%4)
sparkxy       = -28, -115
guard.sparkno = s7101

;
animtype    = up
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  = -2, -10
air.velocity     = ifelse(var(9) = 0,-2,0),-10
guard.velocity   = -11
fall             = 1
air.fall         = 1
fall.recovertime = 60
yaccel = 0.55 + (var(3) - 1)*0.1

;p1stateno        =
;p2stateno        = 

ID              = 600
nochainID       = 9999

;============================================================
;ヘルパー
;============================================================

;==================================================
;キャンす
[state a];
type     = playsnd
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
value    = 900,1
persistent = 0
volume = 200
[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = 1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7051
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = -1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7052
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

;==================================================
[state a];エフェクト１
type = Helper
Trigger1 = (Anim != 1100)*(animelem = 4)
id = 1110
name = "gokuto"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 1110
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト２
type = Helper
Trigger1 = (Anim != 1100)*(animelem = 4)
id = 1111
name = "gokuto2"
sprpriority = 2
pos = -20,-280/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト３
type = Helper
Trigger1 = (Anim != 1100)*(animelem = 4)
id = 1112
name = "gokuto3"
sprpriority = 2
pos = 0,-220/2
postype = p1
stateno = 1111
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;============================================================
;ブースト設定
;============================================================
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

[state a]
type = ctrlset
trigger1 = var(5) = 0
trigger1 = animelem = 12
value = 1

[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0
;============================================================
;星取り設定
;============================================================
[state a];グレイブシュート
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(9) != 0
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;============================================================
;アニメ移行
;============================================================
;============================================================
;ステート移行
;============================================================
[state a]
type = targetstate
trigger1 = var(5) = 0
trigger1 = movehit = 1
trigger1 = enemy,stateno != [550,559]
value = 550

[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = var(5) != 0
value = 1105

[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 50


;---------------------------------------------------------------------------
;南斗獄屠拳・着地
[Statedef 1105]
type = S
movetype = A
physics = S
poweradd= 0
ctrl = 0
anim = 1105
sprpriority = 2
velset = 0,0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State -3, Landing Sound]
type = PlaySnd
trigger1 = time = 0
value = 40, 0

[State explod];着地エフェクト
type = Explod
trigger1 = time = 0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7
ownpal= 1


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)獄屠エフェクト１
[Statedef 1110]
type = A
ctrl = 0
anim = 1110
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state a]
type = bindtoparent;root
trigger1 = 1
pos = 140/2,-300/2

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
value = 36

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2

;---------------------[]
[state a]
type = destroyself
trigger1 = parent,animelem = 10,>=0 && parent,var(5) = 0
trigger2 = parent,animelem = 9,>=0 && parent,var(5) = 1
trigger3 = parent,animelem = 8,>=0 && parent,var(5) = 2
;trigger4 = parent,animelem = 13,>=0 && parent,stateno=2503
;trigger5 = (parent,stateno != 1100)*(parent,stateno != 2503)*(parent,stateno != 196)
trigger4 = parent,animelem = 10,>=0 && parent,stateno=2504
trigger5 = (parent,stateno != 1100)*(parent,stateno != 2504)*(parent,stateno != 196)

[state a]
type = null;destroyself
trigger1 = root,animelem = 13,>=0 && root,var(5) = 0
trigger2 = root,animelem = 12,>=0 && root,var(5) = 1
trigger3 = root,animelem = 11,>=0 && root,var(5) = 2
trigger4 = root,animelem = 13,>=0 && root,stateno=2503
trigger5 = (root,stateno != 1100)*(root,stateno != 2503)


;---------------------------------------------------------------------------
;(HELPER)獄屠エフェクト２
[Statedef 1111]
type = A
ctrl = 0
anim = 1111
velset = -1,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(1111)
x = -1

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(1112)
x = -0.5
y = 0.5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 8

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1111)
value = 0

[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1112)
value = 36

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 2.0+var(1)*0.001,2.0+var(1)*0.001

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 32

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
;￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣

; 南斗迫破斬

;____________________________________________________________
;============================================================
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================

[StateDef 1200]

;============================================================
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1200
sprpriority = 1
ctrl = 0

;============================================================
;キャンセル分岐
;============================================================
[State a]
Type     = ChangeAnim
Trigger1 = (AnimTime = 0)*(Anim=1200)
Value    = Ifelse(Helper(45000),Var(30)=1,1201,1202)

;============================================================
;特殊効果
;============================================================
;============================================================
;位置設定
;============================================================
[state a]
Type     = null;PosSet
Trigger1 = Time = 0
y = 0

[State a]
Type     = PosAdd
Trigger1 = (AnimElem = 4)*(Anim=1201)
Trigger2 = (AnimElem = 25)*(Anim=1202)
x = 68/2
[state a]
Type     = PosAdd
Trigger1 = (AnimElem = 4)*(Anim=1201)
Trigger2 = (AnimElem = 25)*(Anim=1202)
x = 12

[State a]
Type     = PosAdd
Trigger1 = (AnimElem = 14)*(Anim=1202)
x = 24/2+Ifelse(P2Dist X+.5>=30/2,30/2,P2Dist X+.5) 
[state a]
Type     = PosAdd
Trigger1 = (AnimElem = 14)*(Anim=1202)
x = 8

;============================================================
;速度設定
;============================================================
[state a]
type = null;velset
trigger1 = time = 0
y = 0

[state a];ノックバック
type = veladd
trigger1 = enemy,stateno = 550
trigger1 = movehit=1
x = -1.0 - var(3)*0.8
persistent = 0
ignorehitpause=1

;============================================================
;効果音
;============================================================
[state a];
type = playsnd
Trigger1 = (AnimElem = 4)*(Anim=1201)
Trigger2 = ((AnimElem = 14)+(AnimElem = 25))*(Anim=1202)
value = 300,3

[state a];南斗迫破斬
type = playsnd
Trigger1 = (AnimElem = 1)*(Anim=1201)
Trigger2 = (AnimElem = 10)*(Anim=1202)
value = 1200,0

[state a];スライス
type = playsnd
Trigger1 = ((AnimElem = 4)+(AnimElemTime(4)=2)+(AnimElem = 5))*(Anim=1201)
Trigger2 = ((AnimElem = 14)+(AnimElemTime(14)=2)+(AnimElem = 15))*(Anim=1202)
Trigger3 = ((AnimElem = 25)+(AnimElemTime(25)=2)+(AnimElem = 26))*(Anim=1202)
value = 1200,1

[state a];
type = playsnd
trigger1 = movehit
value = 400,3
persistent = 0
ignorehitpause = 1

[State 210, 1];死ねぇ
type = PlaySnd
trigger1 = (animelem = 2)*(Anim=1202)
value = 301, 0

[State 200, 1];
type = PlaySnd
trigger1 = (animelem = 5)*(Anim=1202)
value = 300, 2

;キャンす
[state a];
type     = playsnd
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
value    = 900,1
persistent = 0
volume = 200
;============================================================
;HitDef
;============================================================
[state a]
Type     = HitDef
Trigger1 = (AnimElem = 5)*(Anim=1201)

;攻撃設定
Attr      = S, SA
HitFlag   = MAFLD
GuardFlag = M
Damage    = ifelse(115*fvar(0)>=5,Ceil(115*fvar(0)),5),15
GetPower  = 123, 123
PauseTime = 15, 15
Priority  =  8, Hit

;効果音
hitsound   = s400,0
guardsound = s121,0

;スパーク設定
sparkno       = -1
sparkxy       = 0, 0
guard.sparkno = s7101

;
animtype    = hard
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 15
ground.velocity  = -4, 5
air.velocity     = -3,-7
guard.velocity   = -11
fall             = 0
air.fall         = 1
fall.recovertime = 30

;p1stateno        =
p2stateno        = 350

ID              = 400
nochainID       = 9999


;============================================================
[state グレイブ]
Type     = HitDef
Trigger1 = ((AnimElem = 4)+(AnimElem = 5))*(Anim=1202)

;攻撃設定
Attr      = S, NA
HitFlag   = MAFLD
GuardFlag = MAF
Damage    = ifelse(52*fvar(0)>=5,Ceil(52*fvar(0)),5),15
GetPower  = 123, 123
PauseTime = 17, 17
Priority  =  6, Hit

;効果音
hitsound   = s500,2
guardsound = s120,0

;スパーク設定
sparkno       = -1
sparkxy       = 0, 0
guard.sparkno = s7100

;
animtype    = diagup
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 17
ground.velocity  =  0, -8
air.velocity     = .9992, -7
down.velocity    =  0, -10
guard.velocity   = -12.5
fall             = 1
air.fall         = 1
fall.recovertime = 80

;p1stateno        =
;p2stateno        = 350

ID              = 410
nochainID       = 9999

persistent      = 0

[state a]
Type     = HitDef
Trigger1 = (AnimElem = 15)*(Anim=1202)

;攻撃設定
Attr      = S, SA
HitFlag   = MAFL
GuardFlag = MAF
Damage    = ifelse(80*fvar(0)>=5,Ceil(80*fvar(0)),5),15
GetPower  = 123, 123
PauseTime = 0, 15
Priority  =  8, Hit

;効果音
hitsound   = s400,0
guardsound = s121,0

;スパーク設定
sparkno       = -1
sparkxy       = 0, 0
guard.sparkno = s7101

;
animtype    = hard
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 15
ground.velocity  = -2, 0
air.velocity     = -2,-5
guard.velocity   = -11
fall             = 0
air.fall         = 1
fall.recovertime = 80

;p1stateno        =
;p2stateno        = 350

ID              = 400
nochainID       = 9999

[state a]
Type     = HitDef
Trigger1 = ((AnimElem = 26)+(AnimElem = 27)+(AnimElem = 28))*(Anim=1202)

;攻撃設定
Attr      = S, SA
HitFlag   = MAFL
GuardFlag = MAF
Damage    = ifelse(115*fvar(0)>=5,Ceil(115*fvar(0)),5),15
GetPower  = 123, 123
PauseTime = 6, 15
Priority  =  8, Hit

;効果音
hitsound   = s400,0
guardsound = s121,0

;スパーク設定
sparkno       = -1
sparkxy       = 0, 0
guard.sparkno = s7101

;
animtype    = diagup
ground.type = high

;
ground.slidetime = 17
ground.hittime   = 15
ground.velocity  = -30,-8
air.velocity     = -30,-9
guard.velocity   = -11
fall             = 0
air.fall         = 1
;fall.xvelocity   =
fall.yvelocity   = -2.5
fall.recovertime = 0

;p1stateno        =
;p2stateno        = 350

ID              = 400
nochainID       = 9999

;============================================================
;ヘルパー
;============================================================
;==================================================
[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = 1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7051
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = -1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7052
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

;==================================================
[state a];斬撃
type = Helper
triggerall = movehit=1
Trigger1 = (AnimElem = 5,>=0)*(Anim=1201)
id = 83200000
name = ""
sprpriority = 2
pos =38,-168/2
postype = p1
stateno = 83200007
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999
[state a];斬撃
type = Helper
triggerall = movehit=1
Trigger1 = ((AnimElem = 15,>=0)*(AnimElem = 25,<=0))*(Anim=1202)
id = 83200000
name = ""
sprpriority = 2
pos =38,-168/2
postype = p1
stateno = 83200007
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999
[state a];斬撃
type = Helper
triggerall = movehit=1
Trigger1 = (AnimElem = 26,>=0)*(Anim=1202)
id = 83200000
name = ""
sprpriority = 2
pos =38,-168/2
postype = p1
stateno = 83200007
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999


[state a];斬撃
type = Helper
trigger1 = movehit=1
Trigger1 = ((AnimElem = 4,>=0)*(AnimElem = 6,<=0))*(Anim=1202)
id = 83200000
name = ""
sprpriority = 2
pos = 30,-80
postype = p1
stateno = 83200006+random%3
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];爪
type = Helper
Trigger1 = (AnimElem = 5)*(Anim=1202)
id = 3000
name = "tume"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 301
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[state a];エフェクト
type = Helper
Trigger1 = (AnimElem = 4)*(Anim=1201)
Trigger2 = ((AnimElem = 14)+(AnimElem = 25))*(Anim=1202)
id = 1205
name = "hakuha"
sprpriority = 5
pos = 0,0
postype = p1
stateno = 1205
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;============================================================
;星取り設定
;============================================================
[state a]
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
Trigger1 = ((AnimElem = 26,>=0)*(Anim=1202))+(Anim=1201)
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0


[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;============================================================
;ブースト設定
;============================================================
[state a];ブースト
Type       = VelAdd
TriggerAll=(!Var(30))*(command = "z")
TriggerAll = var(16) >= 20
Trigger1 = (animelem = 5,<=0)*(Anim=1201)
Trigger2 = (animelem = 27,<=0)*(Anim=1202)
x = 12

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
TriggerAll = var(16) >= 20
Trigger1 = (animelem = 5,<=0)*(Anim=1201)
Trigger2 = (animelem = 27,<=0)*(Anim=1202)
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
TriggerAll = var(16) >= 20
Trigger1 = (animelem = 5,<=0)*(Anim=1201)
Trigger2 = (animelem = 27,<=0)*(Anim=1202)
v = 16
value = -20

[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0

[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
Trigger1 = ((AnimElem = 15,>=0)*(AnimElem = 24,<=0))*(Anim=1202)
v = 16
value = 6
ignorehitpause = 1
persistent = 0

[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
Trigger1 = (AnimElem = 25,>=0)*(Anim=1202)
v = 16
value = 6
ignorehitpause = 1
persistent = 0
;============================================================
;ステート移行
;============================================================
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)迫破エフェクト
[Statedef 1205]
type = A
ctrl = 0
anim = 1205
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = 1
pos = 120/2,-160/2

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.25,1.25

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; 南斗千手斬
[Statedef 1300]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1300
sprpriority = 1
ctrl = 0


;============================================================
;キャンセル分岐
[State a]
Type     = ChangeAnim
Trigger1 = (AnimTime = 0)*(Anim=1300)
Value    = Ifelse(Helper(45000),Var(30)=1,1301,1302)


;============================================================
;ノックバック
[state a]
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = Anim = 1301
trigger1 = movehit=1
x = -1.0 - var(3)*0.1

;============================================================
;斬撃エフェクト
[state a]
type = Helper
triggerall=!ishelper
trigger1 = movehit=1
trigger1 = ((animelem = 7,>=0)*(Anim = 1301))+((animelem = 8,>=0)*(Anim = 1302))
id = 83200000
name = ""
sprpriority = 2
pos = 50,-190/2
postype = p1
stateno = 83200000+random%5
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;============================================================
;初期値
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;============================================================
;押し戻し判定
[state a]
Type     = PlayerPush
Trigger1 = (Anim = 1301)*(AnimElem = 2,>=0)*(AnimElem = 8,<=0)
Trigger2 = (Anim = 1302)*(AnimElem = 3,>=0)*(AnimElem = 9,<=0)
Value    = 0

;============================================================
;速度
[state a]
Type     = velset
Trigger1 = (Anim = 1301)*(AnimElem = 2)
Trigger2 = (Anim = 1302)*(AnimElem = 3)
x = Ifelse(Anim = 1301,5,13)

[state a]
Type      = veladd
TriggerAll= vel x > 0
Trigger1  = (Anim = 1301)*(AnimElem = 8,>=0)
Trigger2  = (Anim = 1302)*(AnimElem = 9,>=0)
x = -0.6

[state a]
Type      = velset
TriggerAll= vel x <= -.3
Trigger1  = (Anim = 1301)*(AnimElem = 8,>=0)
Trigger2  = (Anim = 1302)*(AnimElem = 9,>=0)
x = 0

;============================================================
;効果音
[state a];ふはははははは
type = playsnd
trigger1 = time = 0
value = 1300,0

[state a];スライス
type = playsnd
Trigger1 = ((animelem = 2)+(animelem = 4)+(animelem = 6))*(Anim = 1301)
Trigger2 = ((animelem = 3)+(animelem = 5)+(animelem = 7))*(Anim = 1302)
value = 1300,1

[state a];スライス
type = playsnd
Trigger1 = ((animelem = 3)+(animelem = 5)+(animelem = 7))*(Anim = 1301)
Trigger2 = ((animelem = 4)+(animelem = 6)+(animelem = 8))*(Anim = 1302)
value = 300,2


[state a];
type = playsnd
trigger1 = movehit
value = 400,3
persistent = 0
ignorehitpause = 1

;キャンす
[state a];
type     = playsnd
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
value    = 900,1
persistent = 0
volume = 200
;============================================================
;攻撃
[State 440, 3]
Type      = HitDef
TriggerAll= enemy,statetype != C
Trigger1 = ((animelem=2)+(animelem=3)+(animelem=4)+(animelem=5)+(animelem=6))*(Anim=1301)
Trigger2 = ((animelem=3)+(animelem=4)+(animelem=5)+(animelem=6)+(animelem=7))*(Anim=1302)
attr = S, SA
damage    = Ifelse(Anim=1301,ifelse(16*fvar(0)>=5,Ceil(16*fvar(0)),5),ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5)),2
priority = 8, Hit
hitflag = MAFLD
guardflag = M
animtype = hard
pausetime = 3,3
sparkno = s7010+(random%4)
getpower = 12,12
sparkxy = -50+Ceil(p2dist x/2),Ceil(ifelse(-111+p2bodydist y*.5>-130,-111+p2bodydist y*.5,-130))
hitsound   = s500,2
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 17
ground.hittime  = 15
ground.velocity = Ifelse(Anim=1301,-1,-5)
guard.velocity = -2
air.velocity = -3,ifelse(var(11)=1,-2,-7)
air.fall = 1
fall.recovertime = 44
ID = 400
nochainID = 9999

[State 440, 3]
type = HitDef
triggerall = enemy,statetype != C
Trigger1 = (animelem=7)*(Anim=1301)
Trigger2 = (animelem=8)*(Anim=1302)
attr = S, SA
damage    = Ifelse(Anim=1301,ifelse(16*fvar(0)>=5,Ceil(16*fvar(0)),5),ifelse(31*fvar(0)>=5,Ceil(31*fvar(0)),5)),2
priority = 8, Hit
hitflag = MAFLD
guardflag = M
animtype = hard
pausetime = 3,3
sparkno = -1;s7020+(random%8)
getpower = 12,12
sparkxy = -50+Ceil(p2dist x/2),Ceil(ifelse(-111+p2bodydist y*.5>-130,-111+p2bodydist y*.5,-130))
hitsound   = s500,2
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 17
ground.hittime  = Ifelse(Anim=1301,6,15)
ground.velocity = -1
guard.velocity = -2
air.velocity = -3,ifelse(var(11)=1,-2,-7)
air.fall = 1
fall.recovertime = 44
ID = 400
nochainID = 9999

;============================================================
;ヘルパー
;==================================================
[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = 1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7051
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = -1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7052
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

;==================================================
[state a];エフェクト
type = Helper
trigger1 = ((animelem = 2)+(animelem = 5))*(Anim = 1301)
trigger2 = ((animelem = 3)+(animelem = 6))*(Anim = 1302)
id = 1320
name = "sennshu"
sprpriority = 5
pos = 0,0
postype = p1
stateno = 1320
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = ((animelem = 3)+(animelem = 6))*(Anim = 1301)
trigger2 = ((animelem = 4)+(animelem = 7))*(Anim = 1302)
id = 1321
name = "sennshu"
sprpriority = 5
pos = 0,0
postype = p1
stateno = 1320
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = ((animelem = 6)+(animelem = 7))*(Anim = 1301)
trigger2 = ((animelem = 5)+(animelem = 8))*(Anim = 1302)
id = 1322
name = "sennshu"
sprpriority = 5
pos = 0,0
postype = p1
stateno = 1320
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;============================================================
;ブースト
[state a];
Type      = veladd
TriggerAll=(!Var(30))*(command = "z")
TriggerAll= var(16) >= 20
Trigger1  = (animelem = 2,<=0)*(Anim = 1301)
Trigger2  = (animelem = 3,<=0)*(Anim = 1302)
x = 6

[State a];
type      = palfx
TriggerAll=(!Var(30))*(command = "z")
TriggerAll= var(16) >= 20
Trigger1  = (animelem = 2,<=0)*(Anim = 1301)
Trigger2  = (animelem = 3,<=0)*(Anim = 1302)
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type      = varadd
TriggerAll=(!Var(30))*(command = "z")
TriggerAll= var(16) >= 20
Trigger1  = (animelem = 2,<=0)*(Anim = 1301)
Trigger2  = (animelem = 3,<=0)*(Anim = 1302)
v = 16
value = -20

;============================================================
;七星ゲージ
[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;============================================================
;ブーストゲージ増加
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = Ifelse(Anim=1301,4,5)
ignorehitpause = 1

;============================================================
;立ちステートに戻る
[state a]
Type      = changestate
TriggerAll= !Var(30)
TriggerAll= command = "南斗千手斬"
Trigger1  = (animelem = 2,>=0)*(Anim = 1301)
Trigger2  = (animelem = 3,>=0)*(Anim = 1302)
Value     = 1310

[state a]
type = changestate
trigger1 = (animtime = 0)*(Anim = 1301)
trigger2 = (animtime = 0)*(Anim = 1302)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)千手斬エフェクト
[Statedef 1320]
type = A
ctrl = 0
anim = 1320
velset = 1,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = bindtoroot
trigger1 = ishelper(1320)
pos = 136/2,-218/2

[state a]
type = bindtoroot
trigger1 = ishelper(1321)
pos = 132/2,-182/2

[state a]
type = bindtoroot
trigger1 = ishelper(1322)
pos = 130/2,-252/2

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 32

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1320)
value = 0

[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1321)
value = -30

[state a]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1322)
value = 30

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.4+var(1)*0.003,1.4-var(1)*0.001

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 8



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗千手斬・追加攻撃
[Statedef 1310]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1310
sprpriority = 1
ctrl = 0


[state a];斬撃
type = Helper
triggerall=!ishelper
triggerall=numhelper(83200005)=0
trigger1 = var(31)=[0,499]
trigger1 = movehit=1
id = 83200005
name = ""
sprpriority = 2
pos = -15,-111
postype = p2
stateno = 83200000+random%1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];斬撃
type = Helper
triggerall=!ishelper
triggerall=numhelper(83200005)=0
trigger1 = var(31)=[500,999]
trigger1 = movehit=1
id = 83200005
name = ""
sprpriority = 2
pos = -15,-111
postype = p2
stateno = 83200009+random%2
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999


[state a]
type = changestate
trigger1 = command = "b"
trigger1 = time <= 5
trigger1 = var(4) = 7
value = 2500


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = playerpush
trigger1 = animelem = 6,<=0
value = 0

;---------------------[]
[state a]
type = velset
trigger1 = animelem = 4
x = -50

[state a]
type = velset
trigger1 = animelem = 6
x = 0


;---------------------[効果音]
[state a];スライス
type = playsnd
trigger1 = animelem = 4
value = 1300,1

[state a];スライス
type = playsnd
trigger1 = animelem = 4
value = 300,2


[state a];
type = playsnd
trigger1 = movehit
value = 400,3
persistent = 0
ignorehitpause = 1

;---------------------[]
[State 440, 3]
type = HitDef
trigger1 = animelem = 4
attr = S, SA
damage    = ifelse(57*fvar(0)>=5,Ceil(57*fvar(0)),5),2
priority = 8, Hit
hitflag = MAFLD
guardflag = M
animtype = up
pausetime = 3,3
sparkno = -1;s7010+(random%8)
getpower = 108,108
sparkxy = -15,-111
hitsound   = s500,2
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 17
ground.hittime  = 15
ground.velocity = -1,-10
guard.velocity = -8
air.velocity = -2,-10
fall = 1
fall.recovertime = 99
ID = 400
nochainID = 9999

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 4
id = 1325
name = "sennshu"
sprpriority = 5
pos = -100,-85
postype = p1
stateno = 1325
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[七星ゲージ]
[state a]
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 2
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = movecontact = 1
trigger1 = var(23) = 0
v = 16
value = 11
ignorehitpause = 1
persistent = 0


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(HELPER)千手斬エフェクト
[Statedef 1325]
type = A
ctrl = 0
anim = 1325
velset = 1,0
movetype = I
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 16

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 8.0-var(1)*0.032,4.0-var(1)*0.016

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 16


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗白燕転翔
[Statedef 1400]
;type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1400
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "南斗白燕転翔・後"
v = 5
value = 1

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 1401


;---------------------[]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = time >= 4
trigger1 = time <= 13
value = SCA

;---------------------[効果音]
[state a];ふっふっふっふ
type = playsnd
trigger1 = animelem = 2
value = 1400,0+var(5)

[state a];ジャンプ
type = playsnd
trigger1 = animelem = 2
value = 1400,2

;-------------[速度]
[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a]
type = velset
triggerall = var(5) = 0
trigger1 = animelem = 2
x = 5
y = -9

[state a]
type = velset
triggerall = var(5) = 1
trigger1 = animelem = 2
x = -5
y = -9

[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.45

;---------------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = var(16) >= 20
v = 16
value = -20

[state a]
type = ctrlset
trigger1 = animelem = 4
value = 1

;---------------------[立ちステートに戻る]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1405



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗白燕転翔前AI
[Statedef 1401]
;type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1400
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = time >= 4
trigger1 = time <= 13
value = SCA

;---------------------[効果音]
[state a];ふっふっふっふ
type = playsnd
trigger1 = animelem = 2
value = 1400,0+var(5)

[state a];ジャンプ
type = playsnd
trigger1 = animelem = 2
value = 1400,2

;-------------[速度]
[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a]
type = velset
trigger1 = animelem = 2
x = 5
y = -9

[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.45

;---------------------[立ちステートに戻る]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1405


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗白燕転翔後AI
[Statedef 1402]
;type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1401
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[]
[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = time >= 4
trigger1 = time <= 13
value = SCA

;---------------------[効果音]
[state a];ふっふっふっふ
type = playsnd
trigger1 = animelem = 2
value = 1400,0+var(5)

[state a];ジャンプ
type = playsnd
trigger1 = animelem = 2
value = 1400,2

;-------------[速度]
[state a]
type = statetypeset
trigger1 = animelem = 2
value = A


[state a]
type = velset
trigger1 = animelem = 2
x = -5
y = -9

[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.45

;---------------------[立ちステートに戻る]
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1405

;---------------------------------------------------------------------------
;南斗白燕転翔・着地
[Statedef 1405]
type = S
movetype = A
physics = S
poweradd= 0
ctrl = 0
anim = 1405
sprpriority = 2
velset = 0,0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State -3, Landing Sound]
type = PlaySnd
trigger1 = time = 0
value = 40, 0

[State explod];着地エフェクト
type = Explod
trigger1 = time = 0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7
ownpal= 1


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗虐指葬
[Statedef 1500]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1500
sprpriority = 1
ctrl = 0


[state a]
type = veladd
trigger1 = vel x > 0
x = -0.3

[state a]
type = velset
trigger1 = vel x <= 0
x = 0

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0



;---------------------[効果音]
[state a];振り
type = playsnd
trigger1 = animelem = 4
value = 300,3


;---------------------[コマンド判定]
[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
Trigger1 = enemy,stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, ST
hitflag = M-
priority = 1, Miss
sparkno = -1
sprpriority = -1
p1facing = 1
p2facing = 1
p1stateno = 1505
p2stateno = 1550
fall = 1
nochainID = 600,9999

[State 800, 1]
type = HitDef
TriggerAll=NumHelper(45000)
Trigger1 = animelem = 2
trigger1 = helper(45000),var(5)=1
Trigger1 = enemy,stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, ST
hitflag = MAFLD
priority = 1, Miss
sparkno = -1
sprpriority = -1
p1facing = 1
p2facing = 1
p1stateno = 1505
p2stateno = 1550
fall = 1
nochainID = 600,9999
;---------------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 4,<=0
trigger1 = var(16) >= 20
v = 16
value = -20

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;地獄へ突き落としてやる！！
[Statedef 1505]
type    = S
movetype= A
physics = N
anim = 1505
juggle  = 0
velset = 0,0
sprpriority = -1

;---------------------[]

;==================================================
;キャンす
[state a];
type     = playsnd
Trigger1  = PrevStateNo = 851
Trigger1  = Time = 0
value    = 900,1
persistent = 0
volume = 200

[state a];
type     = posadd
Trigger1  = PrevStateNo = 851
Trigger1  = Time = 0
x    = 10

[state a];
type      = Explod
Trigger1  = Facing = 1
Trigger1  = PrevStateNo = 851
Trigger1  =Time =0
ID       = 83201000
anim     = 7051
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

[state a];
type      = Explod
Trigger1  = Facing = -1
Trigger1  = PrevStateNo = 851
Trigger1  = Time =0
ID       = 83201000
anim     = 7052
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 1300, 1

[State 810, Grab Sound];地獄へ突き落としてやる！！！
type = PlaySnd
TriggerAll=PrevStateNo != 851
trigger1 = animelem = 1
value = 1500, 0
[State 810, Grab Sound];地獄へ突き落としてやる！！！
type = PlaySnd
TriggerAll=PrevStateNo = 851
trigger1 = animelem = 9
value = 850, 1

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 400, 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 9
value = 500, 2

;---------------------[]
[State explod];出血
type = Explod
trigger1 = animelem = 4
anim = 1510
id = 3000
sprpriority = 5
postype = p1
pos = -5,0
bindtime = -1
supermove = 0
ignorehitpause = 0
removetime = 43
under = 0
scale = 0.5,0.5

[State explod];出血
type = Explod
trigger1 = animelem = 9
anim = 1513
id = 3000
sprpriority = 5
postype = p1
pos = 126/2,-214/2
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 1.0,1.0

[State explod];手についた血
type = Explod
trigger1 = animelem = 9
anim = 1516
id = 3000
sprpriority = 7
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

[State explod];掴み
type = null;Explod
trigger1 = animelem = 9
anim = 50010;7020+(random%8)
id = 3000
sprpriority = 8
postype = p1
pos = 116/2,-214/2
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = .5,.5



;---------------------[ヘルパー]
[state a];出血
type = Helper
trigger1 = animelemtime(4) = 0
trigger2 = animelemtime(5) = 0
trigger3 = animelemtime(6) = 0
trigger4 = animelemtime(7) = 0
trigger5 = animelemtime(7) = 8
id = 1510
name = "sennshu"
sprpriority = 5
pos = 78/2,-154/2
postype = p1
stateno = 1511
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];出血
type = Helper
trigger1 = animelem = 12
id = 1510
name = "sennshu"
sprpriority = 5
pos = -120/2,-160/2
postype = p1
stateno = 1517
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[相手制御]
[State 801, 2]
type = TargetBind
trigger1 = animelem = 1
pos = 96/2,-188/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 2
pos = 78/2,-300/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 3
pos = 58/2,-266/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 4
pos = 72/2,-204/2
;微調整

[State 801, 2]
type = TargetBind
trigger1 = animelem = 9
pos = 90/2,-204/2

[State 801, 2]
type = TargetBind
trigger1 = animelem = 11
pos = 60/2,-14/2
;微調整

[State 801, 2]
type = Targetstate
trigger1 = animelem = 1
value = 1550

[State 801, 2]
type = Targetstate
trigger1 = animelem = 11
value = 1551

[state a]
type = poweradd
trigger1 = animelem = 9
value = 123

[State 801, 2]
type = Targetlifeadd
TriggerAll=PrevStateNo!=851
trigger1 = animelem = 9
value = ifelse(helper(45000),var(5)=1,ifelse(65*fvar(0)<=-30,-65*fvar(0),-30),-115)
absolute = ifelse(helper(45000),var(5)=1,1,0)

[State 801, 2]
type = Targetlifeadd
TriggerAll=PrevStateNo=851
trigger1 = animelem = 9
value = ifelse(helper(45000),var(5)=1,ifelse(48*fvar(0)<=-30,-48*fvar(0),-5),-50)
absolute = ifelse(helper(45000),var(5)=1,1,0)
;:::

;---------------------[七星ゲージ]
[state a]
type = varadd
TriggerAll=PrevStateNo!=851
TriggerAll=NumHelper(45000)
triggerall=helper(45000),var(5)!=1
triggerall=var(4)<var(20)
trigger1 = animelem = 9
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;---------------------[ブーストゲージ増加]
[state a]
type = varadd
trigger1 = animelem = 9
trigger1 = var(23) = 0
v = 16
value = 14
ignorehitpause = 1
persistent = 0


[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 40,0

[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(HELPER)血（落下）
[Statedef 1511]
type = A
ctrl = 0
anim = 1511
velset = 0,3
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = veladd
trigger1 = 1
y = 0.35

;---------------------[透過]
[state a]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -10
value = 1512


;---------------------------------------------------------------------------
;(HELPER)血（着地）
[Statedef 1512]
type = A
ctrl = 0
anim = 1512
velset = 0,0
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[透過]
[state a]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;(HELPER)血（落下2）
[Statedef 1517]
type = A
ctrl = 0
anim = 1517
velset = -4,3
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = veladd
trigger1 = 1
y = 0.35

;---------------------[透過]
[state a]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

;---------------------[]
[state a]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -10
value = 1515


;---------------------------------------------------------------------------
;(HELPER)血溜り
[Statedef 1515]
type = A
ctrl = 0
anim = 1515
velset = 0,0
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 10
v = 1
value = 8

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.0,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 42



;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 1550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = turn
Trigger1 = PrevStateNo=856
trigger1 = Time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1550

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1


;---------------------------------------------------------------------------
;(ENEMY)投げられ２
[Statedef 1551]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = animelem = 1
x = -2
y = -11

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .55

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 南斗流羽矢弾
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1600
sprpriority = 1
ctrl = 0


[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

;---------------------[]
[state a]
type = posadd
trigger1 = animelem = 5
x = 50/2

[state a]
type = posadd
trigger1 = animelem = 12
x = -50/2


;---------------------[効果音]
[state a];フッ・・・
type = playsnd
trigger1 = animelem = 3
value = 1600,0

[state a];投げる
type = playsnd
trigger1 = animelem = 4
trigger2 = animelem = 8
value = 1600,1

;---------------------[エフェクト]
[State explod];羽
type = Explod
trigger1 = animelem = 3
anim = 1605
id = 3000
sprpriority = 7
postype = p1
pos = 0,0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.5,0.5

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 4
id = 1606
name = "hassha"
sprpriority = 5
pos = 140/2,-198/2
postype = p1
stateno = 1606
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];エフェクト
type = Helper
trigger1 = animelem = 8
id = 1606
name = "hassha"
sprpriority = 5
pos = 118/2,-190/2
postype = p1
stateno = 1606
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];弾
type = Helper
trigger1 = animelem = 4
id = 1610
name = "hassha"
sprpriority = 5
pos = 140/2,-198/2
postype = p1
stateno = 1610
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];弾
type = Helper
trigger1 = animelem = 8
id = 1611
name = "hassha"
sprpriority = 5
pos = 118/2,-190/2
postype = p1
stateno = 1610
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 10,>=0
trigger1 = var(16) >= 20
x = 6

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 10,>=0
trigger1 = var(16) >= 20
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 10,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[・ｧちステートに戻る]
[state a]
type = changestate
trigger1 = animelem = 10,>=0
trigger1 = animelem = 11,<=0
trigger1 = command = "x"
value = 1601


[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 南斗流羽矢弾・追加入力
[Statedef 1601]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1601
sprpriority = 1
ctrl = 0



[state a]
type = varadd
trigger1 = time = 0
v = 5
value = 1

[state a]
type = varset
trigger1 = var(5) = 2
v = 5
value = 0

;---------------------[]
[state a]
type = posadd
trigger1 = animelem = 7
x = -50/2


;---------------------[効果音]
[state a];投げる
type = playsnd
trigger1 = animelem = 3
value = 1600,1

;---------------------[ヘルパー]
[state a];エフェクト
type = Helper
trigger1 = animelem = 3
id = 1606
name = "hassha"
sprpriority = 5
pos = 118/2,-190/2
postype = p1
stateno = 1606
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


[state a];弾
type = Helper
trigger1 = animelem = 3
trigger1 = var(5) = 1
id = 1610
name = "hassha"
sprpriority = 5
pos = 118/2,-190/2
postype = p1
stateno = 1610
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];弾
type = Helper
trigger1 = animelem = 3
trigger1 = var(5) = 0
id = 1611
name = "hassha"
sprpriority = 5
pos = 118/2,-190/2
postype = p1
stateno = 1610
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a];ブースト
type = veladd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,>=0
x = 6

[State a];ブースト
type = palfx
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,>=0
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type = varadd
TriggerAll=(!Var(30))*(command = "z")
trigger1 = animelem = 5,<=0
trigger1 = var(16) >= 20
v = 16
value = -20


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animelem = 5,>=0
trigger1 = animelem = 6,<=0
trigger1 = command = "x"
value = 1601


[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;(HELPER)発射エフェクト
[Statedef 1606]
type = A
ctrl = 0
anim = 1606
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow



;---------------------[透過]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = 1
v = 1
value = 16

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[拡縮]
[state a]
type = angleset
trigger1 = time = 0
value = 0

[state a]
type = angleadd
trigger1 = 1
value = 3

[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.5-var(1)*0.003,1.5-var(1)*0.003

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 16


;---------------------------------------------------------------------------
;(HELPER)弾
[Statedef 1610]
type = A
ctrl = 0
anim = 1610
velset = 0,0
movetype = A
physics = N
sprpriority = 2

;var(1) = 弾の角度
;var(2) = 拡縮

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[弾の角度、発射速度]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 2


[state a]
type = velset
trigger1 = ishelper(1610)
trigger1 = time = 0
x = 4
y = 0


[state a]
type = velset
trigger1 = ishelper(1611)
trigger1 = time = 0
x = 3.5
y = 1.5

[State 1000, 0]
type = Angleset
trigger1 = ishelper(1611)
trigger1 = time = 0
value = -25

;---------------------[]
[State 440, 3]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = light
damage    = 0,0
priority = 0, Hit
hitflag = MAFLD
guardflag = N
pausetime = 0,0
sparkno = s7000+(random%4)
getpower = 0,0
givepower = -100,-100
sparkxy = 0,0
hitsound   = s500,0
guardsound = s-1,0
guard.sparkno = s-1
ground.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
guard.velocity = 0
air.velocity = 0,0
fall = 0
air.fall = 0
fall.recover = 0
ID = 9999
nochainID = 9999

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

;---------------------[拡縮]
[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1,1

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 1615

;---------------------[]
[state a]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 1615

;---------------------------------------------------------------------------
;(HELPER)弾消滅
[Statedef 1615]
type = A
ctrl = 0
anim = 1615
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[拡縮]
[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = 1
v = 2
value = 1



[State 1000, 0]
type = AngleDraw
trigger1 = 1
scale = 1.5-var(2)*0.1,1.5-var(2)*0.1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2)*25, 256

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 10

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)


[State 5100, 3] ;バニシングストライクヒット
type = ChangeAnim
trigger1 = time = 0
trigger1 = prevstateno = 553
;trigger1 = anim = 563
trigger1 = SelfAnimExist(5101)
value = 5101

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20


;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 5150, 5] ;自決
type = AssertSpecial
trigger1 = prevstateno = 2200
flag = invisible
flag2 = noshadow


[State 3040, 7]
type = BGPalfx
trigger1 = prevstateno = 2200
trigger1 = var(2) <= 1200
time = 1
;sinadd = 10,10,10,120
add = 20+var(2),20+var(2),20+var(2)
mul = 120,120,120
color = 256
under = 1

[state a]
type = varadd
trigger1 = prevstateno = 2200
trigger1 = var(2) <= 1200
v = 2
value = 20

[state a]
type = poweradd
trigger1 = prevstateno = 2200
trigger1 = time = 0
value = 99999


[State 5150, 5] ;一撃その１
type = changeanim
trigger1 = prevstateno = 2556
trigger1 = AnimExist(5141) = 1
trigger1 = time = 0
value = 5141

[State 5150, 5] ;一撃その２
type = turn
trigger1 = prevstateno = 2556
trigger1 = Anim = 5140
trigger1 = time = 0



;---------------------------------------------------------------------------
; Varのラウンド持・ｿ越し
[Statedef 5900]
type = S

[state a]
type = varadd
trigger1 = time = 0
v = 4
value = -1

[state a]
type = varset
trigger1 = time = 0
v = 19
value = 0

[state a]
type = varset
trigger1 = var(21) = 1
trigger1 = time = 0
v = 4
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 21
value = 0

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
farst = 2
last = 59
value = 0

[State 5900, 2] ;Clear all float variables
type = null;VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1







































;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------
;時よ止まれ、おまえは美しい。
[Statedef 1233]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 1
anim = 807
poweradd = 20
sprpriority = 2
facep2 = 1

[State 1233, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = 110, 0

[State 1233]
type = AllPalFX
trigger1 = time = 1
time = 300
add = 0,0,0
mul = 256,256,256
sinadd = 256,256,256,0
invertall = 0
color = 0

[State 1233]
type = Pause
trigger1 = time = 1
time = 300
movetime = 300

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;ハート様召喚

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
[Statedef 10000]
type = S
movetype = A
physics = S
anim = 1237
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 2
facep2 = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = poweradd
trigger1 = time = 18
value = 30

;==================================================

[State 1235,aa];痛いか(ダンディヴォイスで
type = playsnd
trigger1 = time = 18
value = 2300, 0

[state a]
type = Helper
trigger1 = animelem = 4
;trigger1 = var(31)>=50
helpertype = normal
name = "hatosama"
ID = 10010
pos = 40, -82
postype = p1
facing = 1
stateno = 10010
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[state a]
type =null; Helper
trigger1 = animelem = 4
;trigger1 = var(31)<50
helpertype = normal
name = "reimu"
ID = 10020
pos = 20, -80
postype = p1
facing = 1
stateno = 10020
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

;==================================================
[state 1236]
type = varadd
trigger1 = time = 18
fvar(28) = -36*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 18
trigger1 = var(29) <= 50
var(29) = 50*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;==================================================[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 10010];ハート様
type = A
ctrl = 0
anim = 1234
juggle  = 0
velset = 0,0
movetype = A
physics = N
sprpriority = 1

[state a]
type = varset
trigger1 = time=0
fv=10
value=0.07
[state a]
type = varset
trigger1 = fvar(10)>=0.8
fv=10
value=0.8

[state a]
type = varadd
trigger1 = fvar(10)<0.8
fv=10
value=0.07

[State 1236, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1238]
type = AngleDraw
trigger1 = 1
scale = fvar(10),fvar(10)

[state a]
type = poweradd
trigger1 = time = 0
value = 30

;==================================================
[state 1236,bb]
type = HitDef
triggerall=root,stateno!=2500
trigger1 = time%3 = 0
attr = A, NP
animtype  = medium
damage    = 6,4
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 4,4
sparkno = s7000+(random%4)
scale = 1,.5
getpower = ceil((root,powermax-root,power)/80), ceil((root,powermax-root,power)/170)
sparkxy = 0,0
hitsound   = s400,3
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 18
ground.velocity = -3,0
guard.velocity = -5
air.velocity = -2,-3
fall = 0
air.fall = 0
fall.recovertime = 54
;numhits = 0

;==================================================


[State a]
type = Veladd
trigger1 = 1
x = 0.35

;==================================================

[state a]
type = varadd
trigger1 = MoveGuarded
var(10)=18

[state a]
type=trans
trigger1=MoveGuarded
trigger2=var(10)
trans = addalpha
alpha = 256-var(10), 0+var(10)

[state 1236]
type = Destroyself
trigger1 = FrontEdgeBodyDist < -100
trigger2=var(10)>=256


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 35005];霊夢
type = A
ctrl = 0
anim = 35005
juggle  = 0
velset = 0,0
movetype = A
physics = N
sprpriority = 1

[State 1236, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1238]
type = AngleDraw
trigger1 = 1
scale = 2,2

[state a]
type = poweradd
trigger1 = time = 0
value = 30

;==================================================
[state 1236,bb]
type = HitDef
trigger1 = time%2 = 0
attr = A, NP
animtype  = medium
damage    = 6,2
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime=4,4
sparkno = s7010+(random%8)
getpower = ceil((root,powermax-root,power)/50), ceil((root,powermax-root,power)/150)
sparkxy = 0,0
hitsound   = s10000,0
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -4,-5
guard.velocity = -11
air.velocity = -4,-5
fall = 0
air.fall = 0
fall.recovertime = 54


;==================================================

[state a]
type = velset
trigger1 = time = 0
x=8

;==================================================

[state 1236]
type = Destroyself
trigger1 = FrontEdgeBodyDist < -100


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;ハート様召喚(空中

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
[Statedef 11000]
type = A
movetype = A
physics = A
anim = 15000
juggle  = 0
ctrl = 0
poweradd = 0
sprpriority = 2
facep2 = 1

[state a]
type = velset
trigger1 = time >= 0
trigger1 = time <= 18
y = 0
x = 0

[state a]
type = poweradd
trigger1 = time = 14
value = 30

;==================================================

[State 1235,aa];痛いか(ダンディヴォイスで
type = playsnd
trigger1 = time = 14
value = 2300, 0
channel = 10

[state a]
type = Helper
trigger1 = var(31) >= 50
trigger1 = animelem = 4
helpertype = normal
name = "aaa"
ID = 11010
pos = 40, -74
postype = p1
facing = 1
stateno = 11010
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[state a];弾
type = Helper
trigger1 = var(31) < 50
trigger1 = animelem = 4
id = 11020
name = "kosure"
sprpriority = 5
pos = 60,-85
postype = p1
stateno = 11020
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;==================================================

[state 1236]
type = varadd
trigger1 = time = 14
fvar(28) = -36*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 14
trigger1 = var(29) <= 60
var(29) = 60*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 11010];ハート様
type = A
ctrl = 0
anim = 1234
juggle  = 0
movetype = A
physics = N
sprpriority = 2

[state a]
type = varset
trigger1 = time=0
fv=10
value=0.07
[state a]
type = varset
trigger1 = fvar(10)>=0.8
fv=10
value=0.8

[state a]
type = varadd
trigger1 = fvar(10)<0.8
fv=10
value=0.07

[State 1236, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1238]
type = AngleDraw
trigger1 = 1
scale = fvar(10),fvar(10)

;==================================================
[state 1236,bb]
type = HitDef
triggerall=root,stateno!=2500
trigger1 = gametime%3=0
attr = A, NP
animtype  = medium
damage    = 4,2
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 4,4
sparkno = s7000+(random%4)
getpower =  ceil((root,powermax-root,power)/80), ceil((root,powermax-root,power)/170)
sparkxy = 0,0
hitsound   = s400,3
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -4,-2
guard.velocity = -5
air.velocity = -4,-2
fall = 0
air.fall = 1
fall.recovertime = 58


;==================================================

[state 1236]
type = veladd
trigger1 = pos y <= -30
x = 0.12
y = 0.17

[state 1236]
type = veladd
trigger1 = pos y >= -30
x = 0.2

[state 1236]
type = velset
trigger1 = pos y >= -30
y = 0

;==================================================
[state a]
type = varadd
trigger1 = MoveGuarded
var(10)=18

[state a]
type=trans
trigger1=MoveGuarded
trigger2=var(10)
trans = addalpha
alpha = 256-var(10), 0+var(10)

[state 1236]
type = Destroyself
trigger1 = FrontEdgeBodyDist < -100
trigger2=var(10)>=256


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 11020]
type = A
ctrl = 0
anim = 20051
juggle  = 0
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[State 1236, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = playsnd
trigger1 = time = 0
value = 6300,1

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;==================================================

[state a]
type = HitDef
trigger1 = 1
attr = A, SP
animtype  = medium
damage    = 150,0
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,45
sparkno = s7010+(random%4)
hitsound = s400,3
getpower =  ceil((root,powermax-root,power)/80), ceil((root,powermax-root,power)/170)
sparkxy = 0,0
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -4,-2
guard.velocity = -11
air.velocity = -4,-2
fall = 1
air.fall = 1
fall.recovertime = 54

;==================================================

[state a]
type = velset
trigger1 = 1
x = 2.8
y = 3

[state a]
type = destroyself
trigger1 = time = 100

[state a]
type = changestate
trigger1 = movecontact
value = 11021

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 11021]
type = A
movetype = I
anim = 20052
juggle  = 0
velset = 0,0
physics = N
sprpriority = 2

[state a]
type = playsnd
trigger1 = time = 1
value = 500,2

[state a]
type = Helper
trigger1 = time = 0
id = 11022
name = ""
sprpriority = 5
pos = 0,0
postype = p1
stateno = 11022
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*16,256

[state a]
type = angledraw
trigger1 = time >= 1
scale = 1.2,1.2

[state a]
type = angledraw
trigger1 = time >= 5
scale = 1.3,1.3

[state a]
type = angledraw
trigger1 = time >= 9
scale = 1.4,1.4

[state a]
type = angledraw
trigger1 = time >= 13
scale = 1.5,1.5

[state a]
type = destroyself
trigger1 = animtime = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 11022]
type = A
movetype = I
anim = 20050
juggle  = 0
velset = 0,0
physics = N
sprpriority = 2

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*16,256

[state a]
type = angledraw
trigger1 = time >= 1
scale = 1.2,1.2

[state a]
type = angledraw
trigger1 = time >= 5
scale = 1.3,1.3

[state a]
type = angledraw
trigger1 = time >= 9
scale = 1.4,1.4

[state a]
type = angledraw
trigger1 = time >= 13
scale = 1.5,1.5

[state a]
type = destroyself
trigger1 = time = 16



;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;スネークハート様

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
[Statedef 12000]
type = S
movetype = I
physics = S
anim = 15002
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 100
sprpriority = 2
facep2 = 1

[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

;==================================================

[State 1235,aa];痛いか(ダンディヴォイスで
type = playsnd
trigger1 = time = 16
value = 2300, 0

[state a]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = ""
ID = 12010
pos = 0,-10
postype = p1
facing = 1
stateno = 12010
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

;==================================================
[state 1236]
type = varadd
trigger1 = time = 16
fvar(28) = -35*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 16
trigger1 = var(29) <= 50
var(29) = 50*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;==================================================
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 12010];ハート様
type = A
ctrl = 0
anim = 1238
juggle  = 0
velset = 0,0
movetype = I
physics = N
sprpriority = 2

[State 1236, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = Trans
trigger1 = MoveType != A
trans = addalpha
alpha = 128,128

[state a]
type = Trans
trigger1 = MoveType = A
trans = none

[state a]
type = ChangeAnim
trigger1 = time = 600
Trigger2 = root,command = "236start"
Trigger2 = Root,MoveType != H
value = 1240
elem = 1

[state a]
type = StateTypeSet
trigger1 = Anim = 1240
movetype = A

;==================================================

[state 1236,bb]
type = HitDef
triggerall = MoveType = A
Trigger1   = AnimElem = 2,>=1
Trigger1   = Anim = 1240
attr = A, NP
animtype  = medium
damage    = 2,2
priority = 5, Hit
hitflag = MAFD
guardflag = LA
pausetime = 4,0
sparkno = s7000+(random%4)
getpower = ceil((root,powermax-root,power)/50), ceil((root,powermax-root,power)/100)
sparkxy = 0,0
hitsound   = s400,3
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 2
ground.velocity = 0,-10
guard.velocity = 2
air.velocity = 0,-10
fall = 1
air.fall = 1
fall.recovertime = 54

[state a]
type=varset
trigger1 = anim = 1239
var(10)=0

;==================================================

[state a]
type = Turn
trigger1 = p2bodydist X > 5
trigger2 = p2bodydist X < -5
ignorehitpause=1

[State 200];追尾
type = Velset
trigger1 = P2bodyDist X > 10
x= 10

[State 200];追尾
type = Velset
trigger1 = P2bodyDist X < -10
x= -10

[State 200];追尾
type = Velset
trigger1 = P2bodyDist X > 5
trigger1 = P2bodyDist X <= 10
x= 5

[State 200];追尾
type = Velset
trigger1 = P2bodyDist X > -5
trigger1 = P2bodyDist X <= -10
x= -5

[State 200];追尾
type = null;Velset
trigger1 = P2Dist Y > 40
y= 10

[State 200];スネーク
type = null;Velset
trigger1 = P2Dist Y < 30
y= -10

[State 200];ブレ修正
type = Velset
trigger1 = P2bodyDist X <= 5
trigger1 = P2bodyDist X >= -5
x= 0

[State 200];ブレ修正
type = null;Velset
trigger1 = P2Dist Y <= 40
trigger1 = P2Dist Y >= 30
y= 0


;==================================================

[state 1236]
type = Destroyself
trigger1 = movecontact = 1



;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;スタンド風味

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
[statedef 12500]
type        = S
movetype    = I
physics     = S
anim        = 20100
velset      = 0,0
ctrl        = 0
poweradd    = 0
sprpriority = 2

;============================================================
;キャンセル分岐
;============================================================
[State a]
Type     = ChangeAnim
Trigger1 = (AnimTime = 0)*(Anim=20100)
Value    = Ifelse(Helper(45000),Var(30)=1,20103,20104)

;============================================================
;速度設定
;============================================================
[state a]
type     = velset
trigger1 = time >= 0
trigger1 = time <= 3
x        = 6

[state a]
type = velset
trigger1 = p2bodydist x <= 30
x = 0

;============================================================
;効果音
;============================================================
[state a]
type     = playsnd
trigger1 = time = 0
value    = 1600,0

;キャンす
[state a];
type     = playsnd
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
value    = 900,1
persistent = 0
volume = 200
;============================================================
;変数設定
;============================================================
[state 1236]
type = varadd
trigger1 = time = 0
fvar(28) = -36*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 0
trigger1 = var(29) <= 80
var(29) = 80*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;============================================================
;ヘルパー
;============================================================
;==================================================
[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = 1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7051
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = -1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7052
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

;==================================================
[state a]
Type     = helper
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
Trigger1 = time = 4
helpertype = normal
name = ""
ID = 12510
pos = -30, 0
postype = p1
facing = 1
stateno = 12510
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[state a]
Type     = helper
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=0
Trigger1 = time = 4
helpertype = normal
name = ""
ID = 12510
pos = -30, 0
postype = p1
facing = 1
stateno = 12511
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

;============================================================
;ブースト
;============================================================
[state a];
Type      = veladd
TriggerAll=(!Var(30))*(command = "z")
TriggerAll= var(16) >= 20
Trigger1  = (animelem = 1,<=0)*(Anim = 20103)
Trigger2  = (animelem = 2,<=0)*(Anim = 20104)
x = 16

[State a];
type      = palfx
TriggerAll=(!Var(30))*(command = "z")
TriggerAll= var(16) >= 20
Trigger1  = (animelem = 1,<=0)*(Anim = 20103)
Trigger2  = (animelem = 2,<=0)*(Anim = 20104)
time = 5
add = 255,255,2556
color = 1

[state a];ブーストゲージ減少
type      = varadd
TriggerAll=(!Var(30))*(command = "z")
TriggerAll= var(16) >= 20
Trigger1  = (animelem = 1,<=0)*(Anim = 20103)
Trigger2  = (animelem = 2,<=0)*(Anim = 20104)
v = 16
value = -20

;============================================================
;ステート移行
;============================================================
[state a]
type = changestate
trigger1 = (animtime = 0)*(Anim = 20103)
trigger2 = (animtime = 0)*(Anim = 20104)
value = 0
ctrl = 1

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 12510]
type = S
movetype = A
physics     = S
anim        = 20101
velset      = 0,0
ctrl        = 0
poweradd    = 0
sprpriority = 3

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = velset
trigger1 = time >= 0
trigger1 = time <= 16
x = 6.5

[state a]
type = velset
trigger1 = p2bodydist x <= 40
x = 0

[state a]
type = playsnd
trigger1 = animelem = 3
value = 6300,5
volume = 400

[state a]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 120
ampl = -10
phase = 0

[state a]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, SA
animtype  = hard
damage    = ifelse(56*fvar(0)>=25,Ceil(56*fvar(0)),25), 5
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 10,3
sparkno = s7010+(random%4)
hitsound = s400,0
getpower =  20
sparkxy = -40,-50
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -3,0
guard.velocity = -5
air.velocity = -3,0
fall = 0
air.fall = 1
fall.recovertime = 112

[state a];相手吹き飛ばし
type = targetstate
TriggerAll=NumHelper(83108310)
triggerall = helper(83108310),var(5)!=1
trigger1 = movehit = 1
trigger1 = root,var(11) = 1
value = 550

[state a]
type = changestate
trigger1 = animtime = 0
value = 12515


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 12511]
type      = S
movetype  = A
physics   = S
anim       = 20105
velset     = 0,0
ctrl       = 0
poweradd   = 0
sprpriority = 3

;============================================================
;特殊効果
;============================================================
[State 10000, Assert]
Type     = AssertSpecial
Trigger1 = 1
Flag = noshadow
IgnoreHitPause = 1

[state a];震動
Type     = EnvShake
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 9
Trigger3 = AnimElem =16
Time = 10
Freq = 120
Ampl = -10
Phase = 0

;============================================================
;速度設定
;============================================================
[state a]
Type     = velset
Trigger1 = (AnimElem= 1,>=0)*(AnimElem= 3,<0)
Trigger2 = (AnimElem= 7,>=0)*(AnimElem= 8,<0)
Trigger3 = (AnimElem=14,>=0)*(AnimElem=15,<0)
x = 8.5

[state a]
Type     = VelSet
Trigger1 = P2Dist x <= 60
x = 0

;============================================================
;効果音
;============================================================
[state a]
Type     = Playsnd
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 9
Trigger3 = AnimElem =16
Value  = 6300,5
Volume = 400

;============================================================
;HitDef
;============================================================
[state a]
Type     = HitDef
Trigger1 = (animelem= 3)+(animelem= 4)+(animelem= 5)
Trigger2 = (animelem= 9)+(animelem=10)+(animelem=11)
Trigger3 = (animelem=16)+(animelem=17)+(animelem=18)

;攻撃設定
Attr      = S, SA
HitFlag = HAFD
GuardFlag = MAF
Damage    = ifelse(42*fvar(0)>=25,Ceil(42*fvar(0)),25),1
GetPower  = 20
PauseTime = 4, 8
Priority  =  5, Hit

;効果音
hitsound   = s400,0
guardsound = s121,0

;スパーク設定
sparkno       = s7010+(random%4)
sparkxy       = -40,-50
guard.sparkno = s7101

;
animtype    = hard
ground.type = high

;
ground.slidetime = 11
ground.hittime   = 11
ground.velocity  = -3,0
air.velocity     = -12,5
fall             = 0
air.fall         = 1
;fall.xvelocity   =
fall.yvelocity   = -Abs(4.4+parent,var(3))
fall.recovertime = 112
yaccel = 0.45 + (root,var(3) - 1)*0.15

;============================================================
;ステート移行
;============================================================


[state a]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AT,AP
slot = 1
stateno = 12512
time = 1
forceair = 0

[state a]
type = changestate
trigger1 = animtime = 0
value = 12515

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 12512]
type = A
movetype = H
physics     = N
anim        = 1238
velset      = 0,0
ctrl        = 0
poweradd    = 0
sprpriority = 3

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[state a]
tYpe = POsset
TriggEr1 =Time= 0
y = -40

[state a]
type = playsnd
trigger1 = time = 0
value = 2350 , 1

[state a]
Type   = velset
tRigger1 = time = 0
y = -12
x = -6

[state a]
Type = Veladd
Trigger1 = 1
Y = 0.49


[state a]
type = destroyself
trigger1 = ScreenPos Y >= 880


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 12515]
type = S
movetype = A
physics     = S
anim        = 20102
velset      = 0,0
ctrl        = 0
poweradd    = 0
sprpriority = 3

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = playsnd
trigger1 = time = 5
value = 6300,3
volume = 1000

[state a]
type = AngleDraw
trigger1 = time >= 5
scale = 1-(0.075*time),1+(0.05*time)

[state a]
type = destroyself
trigger1 = time = 12



;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;ミニハート

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
[statedef 13000]
type = C
movetype = I
physics = C
anim = 20200
juggle  = 0
velset = 0,0
sprpriority = 2
ctrl = 0

[state 1236]
type = varadd
trigger1 = time = 4
fvar(28) = -36*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 4
trigger1 = var(29) <= 50
var(29) = 50*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

[state a]
type = helper
trigger1 = time = 4
helpertype = normal
name = ""
ID = 13010
pos = 0, -40
postype = p1
facing = 1
stateno = 13010
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[state a]
type=ctrlset
trigger1 = time>4
value=1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;ミニハート
[statedef 13010]
type = S
movetype = I
physics = N
anim = 2365
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = angledraw
trigger1 = 1
scale = .2,.2
ignorehitpause=1

[state a]
type = playsnd
trigger1 = time = 0
value = 2350,6
volume = -50

[state a]
type = velset
trigger1 = 1
x = 3

[state 1236]
type = veladd
trigger1 = time >= 0
trigger1 = time < 5
y = -1-(.12*time)

[state 1236]
type = veladd
trigger1 = time >= 5
trigger1 = pos y <= 0
y = 1+(.012*time)

[state a]
type = PosSet
trigger1 = pos y >= 0
y = 0

[state a]
type = changestate
trigger1 = root,var(31) <= 299
trigger1 = root,var(31) >= 0
trigger1 = pos y >= 0
value = 13020

[state a]
type = changestate
trigger1 = root,var(31) <= 649
trigger1 = root,var(31) >= 300
trigger1 = pos y >= 0
value = 13030

[state a]
type = changestate
trigger1 = root,var(31) <= 999
trigger1 = root,var(31) >= 650
trigger1 = pos y >= 0
value = 13040

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13020]
type = S
movetype = I
physics = S
anim = 2350
juggle  = 0
velset = 0,0
sprpriority = 5
facep2   = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = playsnd
trigger1 = time = 0
value = 2350,1
freqmul = 1.5

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 3
value = 2350,4
freqmul = 1.5

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2350,5
freqmul = 1.5

[state a]
type = angledraw
trigger1 = time < 5
scale = .2+(.06*time),.2+(.06*time)
ignorehitpause=1

[state a]
type = angledraw
trigger1 = time >= 5
scale = .5,.5
ignorehitpause=1

[state a]
type = velset
trigger1 = 1
x = 3

[state 1236]
type = Destroyself
trigger1 = FrontEdgeBodyDist < -100

[state a]
type = changestate
triggerall=p2statetype!=A
trigger1 = p2bodydist x <= 15
trigger1 = p2bodydist x >= -15
trigger1 = p2bodydist y >= -100
value = 13021

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13021]
type = S
movetype = A
physics = S
anim = 20101
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = angledraw
trigger1 = 1
scale = .5,.5

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 2350,2
freqmul = 1.5

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 300,4
freqmul = 1.5

[state a]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
animtype  = medium
damage    = 40,2
priority = 5, Hit
hitflag = MAFD
guardflag = L
pausetime = 5,5
sparkno = s7000+(random%4)
getpower = 0,0
sparkxy = -10,-15
hitsound   = s2350,7
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -2,0
guard.velocity = -5
air.velocity = -2,0
fall = 0
air.fall = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 13022

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13022]
type = S
movetype = I
physics = S
anim = 20102
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = AngleDraw
trigger1 = 1
scale = .5, .5

[state a]
type = AngleDraw
trigger1 = 1
scale = 1-(0.075*time), 1+(0.05*time)

[state a]
type = playsnd
trigger1 = time = 0
value = 6300,3
volume = 1000

[state a]
type = destroyself
trigger1 = time = 12

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13030]
type = S
movetype = A
physics = S
anim = 2350
juggle  = 0
velset = 0,0
sprpriority = 5
facep2   = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = playsnd
trigger1 = time = 0
value = 2350,1
freqmul = 1.7

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 3
value = 2350,4
freqmul = 1.7

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2350,5
freqmul = 1.7

[state a]
type = angledraw
trigger1 = time < 5
scale = .2+(.036*time),.2+(.036*time)
ignorehitpause=1

[state a]
type = angledraw
trigger1 = time >= 5
scale = .38,.38
ignorehitpause=1

[state a]
type = velset
trigger1 = 1
x = 2.5

[state a]
type = null;velset
trigger1 = p2bodydist x <= 1
trigger1 = p2bodydist x >= -1
x = 0

[state 1236]
type = Destroyself
trigger1 = FrontEdgeBodyDist < -100

[state a]
type = changestate
trigger1 = p2bodydist x <= 9
trigger1 = p2bodydist x >= -9
trigger1 = p2bodydist y >= -70
value = 13031
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13031]
type = S
movetype = A
physics = S
anim = 20202
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = angledraw
trigger1 = animtime != 0
scale = .38,.38

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 2350,2
freqmul = 1.7

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 300,4
freqmul = 1.7

[state a]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
animtype  = medium
damage    = 20,1
priority = 5, Hit
hitflag = MAFD
guardflag = L
pausetime = 8,8
sparkno = s7000+(random%4)
getpower = 0,0
sparkxy = -10,-15
hitsound   = s2350,7
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1,0
guard.velocity = -3
air.velocity = -1,0
fall = 0
air.fall = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 13032

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13032]
type = S
movetype = I
physics = S
anim = 20102
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = AngleDraw
trigger1 = 1
scale = .38, .38

[state a]
type = AngleDraw
trigger1 = 1
scale = 1-(0.075*time), 1+(0.05*time)

[state a]
type = playsnd
trigger1 = time = 0
value = 6300,3
volume = 1000

[state a]
type = destroyself
trigger1 = time = 12


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13040]
type = S
movetype = A
physics = S
anim = 2350
juggle  = 0
velset = 0,0
sprpriority = 5
facep2   = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = playsnd
trigger1 = time = 0
value = 2350,1
freqmul = 2

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 3
value = 2350,4
freqmul = 2

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2350,5
freqmul = 2

[state a]
type = angledraw
trigger1 = time < 5
scale = .2+(.012*time),.2+(.012*time)
ignorehitpause=1

[state a]
type = angledraw
trigger1 = time >= 5
scale = .26,.26
ignorehitpause=1

[state a]
type = velset
trigger1 = 1
x = 2

[state a]
type = null;velset
trigger1 = p2bodydist x = [-1,1]
x = 0

[state 1236]
type = Destroyself
trigger1 = FrontEdgeBodyDist < -100

[state a]
type = changestate
trigger1 = p2bodydist x = [-8,3]
trigger1 = p2bodydist y >= -40
value = 13041

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13041]
type = S
movetype = A
physics = S
anim = 20203
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = angledraw
trigger1 = animtime != 0
scale = .26,.26

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 2350,2
freqmul = 2

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 300,4
freqmul = 2

[state a]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
animtype  = medium
damage    = 10,0
priority = 5, Hit
hitflag = MAFD
guardflag = 
pausetime = 14,14
sparkno = s7000+(random%4)
getpower = 0,0
sparkxy = -10,-15
hitsound   = s2350,7
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 0,0
guard.velocity = -3
air.velocity = 0,0
fall = 0
air.fall = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 13042

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 13042]
type = S
movetype = I
physics = S
anim = 20102
juggle  = 0
velset = 0,0
sprpriority = 5

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = AngleDraw
trigger1 = 1
scale = .26, .26

[state a]
type = AngleDraw
trigger1 = 1
scale = 1-(0.075*time), 1+(0.05*time)

[state a]
type = playsnd
trigger1 = time = 0
value = 6300,3
volume = 1000

[state a]
type = destroyself
trigger1 = time = 12



;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;回る回る

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
[statedef 13500]
type = A
movetype = A
physics = N
anim = 20350
juggle  = 0
velset = 0,0
sprpriority = 5
ctrl = 0

;==================================================

[state a];斬撃
type = Helper
triggerall=!ishelper
triggerall = movehit=1
trigger1 = animelem = 5,>=0
trigger1 = animelem = 6,<0
id = 83200000
name = ""
sprpriority = 2
pos = 35,-100
postype = p1
stateno = 83200000+random%11
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;==================================================

[state a]
type = hitdef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
attr = A, NA
animtype  = diagup
damage    = ifelse(38*fvar(0)>=5,Ceil(38*fvar(0)),5),0
priority = 5, Hit
hitflag = MAF
guardflag = M
pausetime = 0,5
sparkno = s7000+(random%4)
getpower = 0,0
sparkxy = -25,-100
hitsound   = s500,2
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 0,-8
guard.velocity = -3
air.velocity = 0,-10
fall = 0
air.fall = 1
fall.recovertime = 10
[state a]
type = hitdef
trigger1 = animelem = 5
attr = A, NA
animtype  = diagup
damage    = ifelse(38*fvar(0)>=5,Ceil(38*fvar(0)),5),0
priority = 5, Hit
hitflag = MAF
guardflag = M
pausetime = 2,5
sparkno = -1;s7010+(random%8)
getpower = 0,0
sparkxy = -25,-100
hitsound   = s500,2
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 0,-8
guard.velocity = -3
air.velocity = 0,-10
fall = 0
air.fall = 1
fall.recovertime = 10

;==================================================
[state a];ふっふっふっふ
type = playsnd
trigger1 = animelem = 2
value = 1400,random%2
channel = 10
owpriority = 1

[state a];ジャンプ
type = playsnd
trigger1 = animelem = 2
value = 1400,2

;==================================================
[state a]
type = velset
trigger1 = animelem = 2
y=-3
x=0

[state a]
type = veladd
trigger1 = animelem = 5,>=0
y = 0.45

[state a]
type = ctrlset
trigger1 = animelem >= 9
value = 1

;==================================================
[state a]
type = changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1405


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;サマーソルトカッター

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 14000];ジェノサイドカッター弱
type = A
movetype = A
physics = N
anim = 20360
juggle  = 0
velset = 0,0
sprpriority = 5
ctrl = 0

;==================================================

[state a];ノックバック
type = veladd
TriggerAll= NumTarget
trigger1 = target,stateno=[550,553]
trigger1 = movehit=1
x = -1.0 - var(3)*0.8

;==================================================

[state a];斬撃
type = Helper
triggerall=!ishelper
triggerall = movehit=1
trigger1 = animelem = 6,>=0
trigger1 = animelem = 7,<0
id = 83200000
name = ""
sprpriority = 2
pos = 55,-140
postype = p1
stateno = 83200008+random%4
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;==================================================


[state a];無敵
type = nothitby
trigger1 = animelem=8,<1
value = SCA,NA,NT,NP,SA,ST,SP,HA,HT,HP,AA,AT,AP
time=1
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[State 00]
type = PlaySnd
triggerall = time=3
trigger1 = var(31)=[0,600]
value = 11500,0
[State 00]
type = PlaySnd
triggerall = time=3
trigger1 = var(31)=[601,750]
value = 1000,0
[State 00]
type = PlaySnd
triggerall = time=3
trigger1 = var(31)=[751,900]
value = 1400,0
[State 00]
type = PlaySnd
triggerall = time=3
trigger1 = var(31)=[901,999]
value = 1400,1

[State 00]
type = PlaySnd
trigger1 = animelem=2
value = 0, 998

[state a]
type = hitdef
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = A, SA
animtype  = madium
damage    = ifelse(11*fvar(0)>=5,Ceil(11*fvar(0)),5),0
priority = 5, Hit
hitflag = MAF
guardflag = MAF
pausetime = 4,0
sparkno = s7000+(random%4)
getpower = 0,0
sparkxy = -35,-140
hitsound   = s0,997
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 0,-8
guard.velocity = -3
air.velocity = 0,-5
fall = 1
air.fall = 1
fall.recovertime = 300

[state a]
type = hitdef
trigger1 = animelem = 6
attr = A, SA
animtype  = diagup
damage    = ifelse(42*fvar(0)>=5,Ceil(42*fvar(0)),5),0
priority = 5, Hit
hitflag = MAF
guardflag = MF
pausetime = 0,ifelse(life <= 100,0,10)
sparkno = -1
getpower = 8,8
sparkxy = -55,-150
hitsound   = s0,997
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5,-8
guard.velocity = -3
air.velocity = ifelse(life <= 100,0,-5),ifelse(life <= 100,-8,-10)
fall = 1
air.fall = 1
fall.recovertime =300

;==================================================

[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

;==================================================

[State explod];
type = Explod
trigger1 = animelem = 4
anim = 20362
id = 20362
sprpriority = 7
postype = p1
pos = 20,0
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
ownpal = 1
trans = add

[State explod];
type = Explod
trigger1 = animelem = 8
anim = 20363
id = 20363
sprpriority = 7
postype = p1
pos = 20,0
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
scale = 1,1
ownpal = 1
trans=add

[state a]
type = RemoveExplod
trigger1 = time >= 41
ID = 20362

[state a]
type = velset
trigger1 = animelem=4
y=-4.5
x=1.05

[state a]
type = veladd
trigger1 = animelem = 7,>=0
y = 0.45

[state a]
type = changestate
trigger1 = animelem = 7,>=0
trigger1 = pos y>=0
value  =14050

[state a]
type = changestate
trigger1 = time = 26
trigger1 = life <= 100
value  =14020


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 14010];ジェノサイドカッター強
type = A
movetype = A
physics = N
anim = 20367
juggle  = 0
velset = 0,0
sprpriority = 5
ctrl = 0

;==================================================

[state a];斬撃
type = Helper
triggerall=!ishelper
triggerall = movehit=1
trigger1 = animelem = 6,>=0
trigger1 = animelem = 7,<0
id = 83200000
name = ""
sprpriority = 2
pos = 55,-140
postype = p1
stateno = 83200008+random%4
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;==================================================

[State 00]
type = PlaySnd
triggerall = time=12
trigger1 = var(31)=[0,600]
value = 11500,0
[State 00]
type = PlaySnd
triggerall = time=12
trigger1 = var(31)=[601,750]
value = 1000,0
[State 00]
type = PlaySnd
triggerall = time=12
trigger1 = var(31)=[751,900]
value = 1400,0
[State 00]
type = PlaySnd
triggerall = time=12
trigger1 = var(31)=[901,999]
value = 1400,1

[State 00]
type = PlaySnd
trigger1 = animelem=2
value = 0, 998

[state a]
type = hitdef
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = A, SA
animtype  = madium
damage    = ifelse(22*fvar(0)>=5,Ceil(22*fvar(0)),5),0
priority = 5, Hit
hitflag = MAF
guardflag = MAF
pausetime = 4,0
sparkno = s7010+(random%4)
getpower = 0,0
sparkxy = -35,-140
hitsound   = s0,997
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 0,-10
guard.velocity = -3
air.velocity = 0,-8
fall = 1
air.fall = 1
fall.recovertime = 300

[state a]
type = hitdef
trigger1 = animelem = 6
attr = A, SA
animtype  = diagup
damage    = ifelse(88*fvar(0)>=5,Ceil(88*fvar(0)),5),0
priority = 5, Hit
hitflag = MAF
guardflag = MF
pausetime = 0,ifelse(life <= 100,0,10)
sparkno = -1;s7010+(random%8)
getpower = 8,8
sparkxy = -25,-100
hitsound   = s0,997
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5,-8
guard.velocity = -3
air.velocity = ifelse(life <= 100,0,-5),ifelse(life <= 100,-8,-10)
fall = 1
air.fall = 1
fall.recovertime =300

;==================================================

[state a];カウンターヒット
type = varadd
triggerall=var(4)<var(20)
trigger1 = movehit = 1
trigger1 = var(8) = 1
v = 4
value = 1
IgnoreHitPause = 1
persistent = 0

[State explod];
type = Explod
trigger1 = animelem = 4
anim = 20362
id = 20362
sprpriority = 7
postype = p1
pos = 20,0
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
ownpal = 1
trans = add

[State explod];
type = Explod
trigger1 = animelem = 8
anim = 20363
id = 20363
sprpriority = 7
postype = p1
pos = 20,0
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
scale = 1,1
ownpal = 1
trans=add

[state a]
type = RemoveExplod
trigger1 = time >= 41
ID = 20362

[state a]
type = velset
trigger1 = animelem=4
y=-6.5
x=.25

[state a]
type = veladd
trigger1 = animelem = 7,>=0
y = 0.45

[state a]
type = changestate
trigger1 = animelem = 7,>=0
trigger1 = pos y>=0
value  =14050

[state a]
type = changestate
trigger1 = time = 26
trigger1 = life <= 100
value  =14020



;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 14020]
type = A
movetype = A
physics = N
anim = 20364
juggle  = 0
velset = 0,0
sprpriority = 5
ctrl = 0

;==================================================

[state a];斬撃
type = Helper
triggerall=!ishelper
triggerall = movehit=1
trigger1 = animelem = 3,>=0
trigger1 = animelem = 4,<0
id = 83200000
name = ""
sprpriority = 2
pos = 55,-140
postype = p1
stateno = 83200008+random%4
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;==================================================
[state a]
type = attackmulset
trigger1 = 1
value = 1
ignorehitpause = 1

[State 00]
type = PlaySnd
trigger1 = animelem=2
value = 0, 998

[state a]
type = hitdef
trigger1 = animelem = 3
attr = A, SA
animtype  = diagup
damage    = ifelse(124*fvar(0)>=55,Ceil(224*fvar(0)),55),0
priority = 5, Hit
hitflag = MAFD
guardflag = 
pausetime = 4,0
sparkno = -1;s7020+(random%8)
getpower = 0,0
sparkxy = -25,-100
hitsound   = s0,997
guardsound = s121,0
guard.sparkno = s7101
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 0,-10
guard.velocity = -3
air.velocity = -10,-8
fall = 1
air.fall = 1
fall.recovertime = 300

[state a]
type = RemoveExplod
trigger1 = time=0
ID = 20362

[State explod];
type = Explod
trigger1 = animelem = 2
anim = 20365
id = 20365
sprpriority = 7
postype = p1
pos = 20,0
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
ownpal = 1
trans = add

[State explod];
type = Explod
trigger1 = animelem = 5
anim = 20366
id = 20366
sprpriority = 7
postype = p1
pos = 20,0
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
scale = 1,1
ownpal = 1
trans = add

[state a]
type = RemoveExplod
trigger1 = animelem=5
ID = 20365

[state a]
type = velset
trigger1 = animelem=1
y=-2.5
x=1.4

[state a]
type = veladd
trigger1 = animelem = 4,>=0
y = 0.45

[state a]
type = changestate
trigger1 = animelem = 4,>=0
trigger1 = pos y>=0
value  =14050


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[statedef 14050]
type = S
movetype = I
physics = S
anim = 20361
juggle  = 0
velset = 0,0
sprpriority = 5
ctrl = 0

[State 00]
type = PlaySnd
trigger1 = time=0
value = 40, 0

[State explod];着地エフェクト
type = Explod
trigger1 = time=0
anim = 6047
id = 6040
sprpriority = -5
postype = p1
pos = 23,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.7,0.7
ownpal= 1

[state a]
type = posset
trigger1 = time=0
y=0

[state a]
type = changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================

[StateDef 14100]

;============================================================
;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
Type        = S
MoveType    = I
Physics     = S
Anim        = 50250
VelSet      = 0, 0
Ctrl        = 0
PowerAdd    = 0
Sprpriority = 1

;============================================================
;キャンセル分岐
;============================================================
[State a]
Type     = ChangeAnim
Trigger1 = (AnimTime = 0)*(Anim=50250)
Value    = Ifelse(Helper(45000),Var(30)=1,50252,50251)

;============================================================
;特殊効果
;============================================================
[State a]
Type    = HitBy
Trigger1 =(Anim=50251)
Value   = SCA,AA
Time    = 1

;============================================================
;位置設定
;============================================================
;============================================================
;速度設定
;============================================================
;============================================================
;変数設定
;============================================================
;============================================================
;効果音
;============================================================
;キャンす
[state a];
type     = playsnd
TriggerAll=NumHelper(45000)
Trigger1 = Helper(45000),Var(30)=1
value    = 900,1
persistent = 0
volume = 200

;============================================================
;HitDef ReversalDef
;============================================================
[State a]
Type    = ReversalDef
Trigger1 =(Anim=50251)*(Time >= 3)
Reversal.Attr = SCA,NA,AT,AP
PauseTime = 5,0
SparkNo  = -1
Sparkxy  = 0,0
HitSound = S1,1
P1StateNo = 14103

;============================================================
;ヘルパー
;============================================================
;==================================================
[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = 1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7051
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

[state a];
type      = Explod
Triggerall= !Ishelper
TriggerAll= NumHelper(45000)
Trigger1  = Facing = -1
Trigger1  = Helper(45000),Var(30)=1
ID       = 83201000
anim     = 7052
pos      = 0,-120
postype  = p1
random   = 0, 0
vel      = 0, 0
accel    = 0, 0
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = .5,.5
ontop    = 1
ownpal   = 1
;trans    = addalpha
;alpha    = 256,256
IgnoreHitPause = 1
persistent = 0

;==================================================
;============================================================
;ブースト設定
;============================================================
;============================================================
;星取り設定
;============================================================
;============================================================
;ステート移行
;============================================================
[State a]
Type    = ChangeState
Trigger1 = (AnimTime = 0)*((Anim=50251)+(Anim=50252))
Value   = Ifelse(Anim=50251,14101,14102)
;Ctrl    = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
[StateDef 14101]
Type        = S
MoveType    = I
Physics     = S
Anim        = 9999
VelSet      = 0, 0
Ctrl        = 0
PowerAdd    = 0
Sprpriority = 1
;juggle      = 0
facep2      = 1
;hitdefpersist   = 0
;movehitpersist  = 0
;hitcountpersist = 0

;============================================================
;効果音
;============================================================
[State a]
Type    = PlaySnd
Trigger1 = Time=0
Value   = 0, 350

;============================================================
;ヘルパー
;============================================================
[state a];
type     = Explod
trigger1   = Time<=2
ID       = 50211
anim     = 50210
pos      = 0, 0
postype  = p1
random   = 20, 10
vel      = 2-random%40*.1, -6-(Random%20*.1)
accel    = 0,.2
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = 2,2
ontop    = 1
ownpal   = 1
trans    = addalpha
;alpha    = 256,256
[state a];
type = Helper
trigger1 = Time = 0
id = 14150
stateno = 14150
name = ""
sprpriority = 2
pos = 0,0
postype = p1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];
type = Helper
trigger1 = Time = 0
id = 14151
stateno = 14150
name = ""
sprpriority = 2
pos = 0,0
postype = p1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;============================================================
;変数設定
;============================================================
[state 1236]
type = varadd
trigger1 = time = 0
fvar(28) = -36*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 0
trigger1 = var(29) <= 50
var(29) = 50*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;============================================================
;位置設定
;============================================================
[State a]
Type    = PosSet
Trigger1 = (Facing=1)*(Time = 5 )
X = Ifelse(P2Dist X >= 200,Pos X +210,EnemyNear,Pos X + 50)

[State a]
Type    = PosSet
Trigger1 = (Facing=-1)*(Time = 5)
X = Ifelse(P2Dist X >= 200,Pos X -210,EnemyNear,Pos X - 50)

;============================================================
;ステート移行
;============================================================
[State a]
Type    = ChangeState
Trigger1 = Time = 5
Value   = 14105
;Ctrl    = 0


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
[StateDef 14102]
Type        = S
MoveType    = I
Physics     = S
Anim        = 9999
VelSet      = 0, 0
Ctrl        = 0
PowerAdd    = 0
Sprpriority = 1
;juggle      = 0
facep2      = 1
;hitdefpersist   = 0
;movehitpersist  = 0
;hitcountpersist = 0

;============================================================
;効果音
;============================================================
[State a]
Type    = PlaySnd
Trigger1 = Time=0
Value   = 0, 350

;============================================================
;ヘルパー
;============================================================
[state a];
type     = Explod
trigger1   = Time<=2
ID       = 50211
anim     = 50210
pos      = 0, 0
postype  = p1
random   = 20, 10
vel      = 2-random%40*.1, -6-(Random%20*.1)
accel    = 0,.2
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = 2,2
ontop    = 1
ownpal   = 1
trans    = addalpha
;alpha    = 256,256
[state a];
type = Helper
trigger1 = Time = 0
id = 14150
stateno = 14150
name = ""
sprpriority = 2
pos = 0,0
postype = p1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];
type = Helper
trigger1 = Time = 0
id = 14151
stateno = 14150
name = ""
sprpriority = 2
pos = 0,0
postype = p1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

;============================================================
;変数設定
;============================================================
[state 1236]
type = varadd
trigger1 = time = 0
fvar(28) = -36*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 0
trigger1 = var(29) <= 50
var(29) = 50*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;============================================================
;位置設定
;============================================================
[State a]
Type    = PosSet
Trigger1 = (Facing=1)*(Time = 3)
X = Ifelse(P2Dist X >= 150,Pos X +120,EnemyNear,Pos X - 20)

[State a]
Type    = PosSet
Trigger1 = (Facing=-1)*(Time = 3)
X = Ifelse(P2Dist X >= 150,Pos X -120,EnemyNear,Pos X + 20)

;============================================================
;ステート移行
;============================================================
[State a]
Type    = ChangeState
Trigger1 = Time = 3
Value   = 14105
;Ctrl    = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
[StateDef 14103]
Type        = S
MoveType    = I
Physics     = S
Anim        = 9999
VelSet      = 0, 0
Ctrl        = 0
PowerAdd    = 0
Sprpriority = 1
;juggle      = 0
facep2      = 1
;hitdefpersist   = 0
;movehitpersist  = 0
;hitcountpersist = 0

;============================================================
;効果音
;============================================================
[State a]
Type    = PlaySnd
Trigger1 = Time=0
Value   = 0, 350

;============================================================
;ヘルパー
;============================================================
[state a];
type     = Explod
trigger1   = Time=0
ID       = 50211
anim     = 50210
pos      = 0, 0
postype  = p1
random   = 20, 10
vel      = 2-random%40*.1, -6-(Random%20*.1)
accel    = 0,.2
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = 2,2
ontop    = 1
ownpal   = 1
trans    = addalpha
;alpha    = 256,256
[state a];
type = Helper
trigger1 = Time = 0
id = 14150
stateno = 14150
name = ""
sprpriority = 2
pos = 0,0
postype = p1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999

[state a];
type = Helper
trigger1 = Time = 0
id = 14151
stateno = 14150
name = ""
sprpriority = 2
pos = 0,0
postype = p1
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0
ignorehitpause=1
supermovetime = 9999999999
pausemovetime = 9999999999
;============================================================
;変数設定
;============================================================
[state 1236]
type = varadd
trigger1 = time = 1
fvar(28) = -18*ifelse(helper(45000),var(5)=1,helper(45000),fvar(10),1)

[state a]
type = varset
trigger1 = time = 1
trigger1 = var(29) <= 25
var(29) = 25*Ceil(ifelse(helper(45000),var(5)=1,helper(45000),fvar(11),1))

;============================================================
;位置設定
;============================================================
[State a]
Type    = PosSet
Trigger1 = (Facing=1)*(Time = 1)
X = EnemyNear,Pos X + 20

[State a]
Type    = PosSet
Trigger1 = (Facing=-1)*(Time = 1)
X = EnemyNear,Pos X - 20

;============================================================
;ステート移行
;============================================================
[State a]
Type    = ChangeState
Trigger1 = Time = 1
Value   = 14105
;Ctrl    = 0

;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
[StateDef 14105]
Type        = S
MoveType    = I
Physics     = S
Anim        = Ifelse(PrevStateno=14101,50255,50256)
VelSet      = 0, 0
Ctrl        = Ifelse(PrevStateno=14103,1,0)
PowerAdd    = 0
Sprpriority = 1
;juggle      = 0
facep2      = 1
;hitdefpersist   = 0
;movehitpersist  = 0
;hitcountpersist = 0

;============================================================
;キャンセル分岐
;============================================================
;============================================================
;特殊効果
;============================================================
[State a]
Type    = NotHitBy
Trigger1 = PrevStateno=14103
Value   = SCA,AA,AT,AP
Time    = 1

[State a]
Type    = HitBy
Trigger1 = PrevStateno!=14103
Value   = SCA,AA
Time    = 1

[State a]
Type    = PlayerPush
Trigger1 = 1
Value   = 0

;============================================================
;位置設定
;============================================================
;============================================================
;速度設定
;============================================================
;============================================================
;変数設定
;============================================================
;============================================================
;効果音
;============================================================
;============================================================
;HitDef ReversalDef
;============================================================
;============================================================
;ヘルパー
;============================================================
[state a];
type     = Explod
triggerall = !Ishelper
trigger1   = Time<=2
ID       = 50211
anim     = 50210
pos      = -15, 0
postype  = p1
random   = 20, 10
vel      = 2-random%40*.1, -6-(Random%20*.1)
accel    = 0,.2
bindtime   = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
sprpriority = 1
scale    = 1.5,1.5
ontop    = 1
ownpal   = 1
trans    = addalpha
;alpha    = 256,256

;============================================================
;ブー・Xト設定
;============================================================
;============================================================
;星取り設定
;============================================================
;============================================================
;ステート移行
;============================================================
[State a]
Type    = ChangeState
Trigger1 = AnimTime = 0
Value   = 0
Ctrl    = 1


;〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓
;============================================================
; ハート様
[Statedef 14150]
type = S
ctrl = 0
anim = 9999
velset = 0,0


;============================================================
;キャンセル分岐
;============================================================
;============================================================
;特殊効果
;============================================================
[State a]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow
ignorehitpause = 1

[state a]
type     = ChangeAnim
trigger1 = Ishelper(14150)
trigger1 = time = 0
value    = 50200
[state a]
type     = ChangeAnim
trigger1 = Ishelper(14151)
trigger1 = time = 0
value    = 50205

;==================================================
[state a]
type     = AngleDraw
trigger1 = time <90
scale    = 1,1

[state a]
type     = AngleDraw
trigger1 = Ishelper(14150)
trigger1 = time >=0
scale    = 1,1
value    = fvar(1)

[state a]
type     = AngleDraw
trigger1 = Ishelper(14151)
trigger1 = time >=0
scale    = 1,1
value    = fvar(2)

;============================================================
;位置設定
;============================================================
;============================================================
;速度設定
;============================================================
;============================================================
;変数設定
;============================================================
[state a]
type     = VarAdd
trigger1 = time <=10
fv    = 1
value = -5

[state a]
type     = VarSet
trigger1 = fvar(1)>=10
fv    = 1
value = -50

[state a]
type     = VarAdd
trigger1 = time <=10
fv    = 2
value = 5

[state a]
type     = VarSet
trigger1 = fvar(2)>=10
fv    = 2
value = 50

;============================================================
;効果音
;============================================================
;============================================================
;HitDef ReversalDef
;============================================================
;============================================================
;ヘルパー
;============================================================
;============================================================
;ブースト設定
;============================================================
;============================================================
;星取り設定
;============================================================
;============================================================
;ステート移行
;============================================================
;==================================================

;==================================================
[state a]
type     = veladd
trigger1 = Ishelper(14150)
trigger1 = time = [0,10)
x = .65
[state a]
type     = velmul
trigger1 = Ishelper(14150)
trigger1 = time >= 10
x = .58

;==================================================
[state a]
type     = veladd
trigger1 = Ishelper(14151)
trigger1 = time = [0,10)
x = -.65
[state a]
type     = velmul
trigger1 = Ishelper(14151)
trigger1 = time >= 10
x = .58

[State a]
Type = DestroySelf
Trigger1 = AnimTime = 0
trigger1 = Ishelper(14150)
[State a]
Type = DestroySelf
Trigger1 = AnimTime = 0
trigger1 = Ishelper(14151)
